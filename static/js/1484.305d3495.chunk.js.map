{"version":3,"file":"static/js/1484.305d3495.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Error.js\";import{isSome as e,destroyMaybe as a,abortMaybe as t,isNone as r}from\"../../../core/maybe.js\";import{createTask as n,isAborted as o}from\"../../../core/promiseUtils.js\";import{watch as l,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as c}from\"./LayerView3D.js\";import p from\"../../layers/LayerView.js\";const d=\"analysis-view-handles\";let V=class extends(c(p)){constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisModules={\"line-of-sight\":null}}initialize(){this.handles.add(l((()=>this.layer.analysis),(s=>{this._destroyAnalysisView(),e(s)&&this._createAnalysisView(s)}),y),d)}destroy(){this.handles.remove(d),this._destroyAnalysisView()}async whenAnalysisView(){if(e(this.analysisView))return this.analysisView;if(e(this._createAnalysisViewTask))return this._createAnalysisViewTask.promise;throw new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the LineOfSightLayer of this layer view\")}isUpdating(){return e(this._createAnalysisViewTask)||e(this.analysisView)&&this.analysisView.updating}_createAnalysisView(s){const i=n((async e=>(this.analysisView=await this._createAnalysisViewPromise(s,e),this._createAnalysisViewTask===i&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=i}_destroyAnalysisView(){this.analysisView=a(this.analysisView),this._createAnalysisViewTask=t(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,e){const a=s.type;let t=this._analysisModules[a];if(r(t)){const s=await this._loadAnalysisModule(a);this._analysisModules[a]=s,t=s}const n=new t.default({analysis:s,view:this.view,parent:this});if(await n.when(),o(e))throw n.destroy(),new i(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the LineOfSightLayer of this layer view\",{analysis:s});return n}_loadAnalysisModule(s){return\"line-of-sight\"===s?import(\"../analysis/LineOfSightAnalysisView3D.js\"):null}};s([h()],V.prototype,\"type\",void 0),s([h()],V.prototype,\"layer\",void 0),s([h()],V.prototype,\"analysisView\",void 0),s([h()],V.prototype,\"_createAnalysisViewTask\",void 0),V=s([w(\"esri.views.3d.layers.LineOfSightLayerView3D\")],V);const f=V;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(n(t.EventedMixin(r))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",t=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${t}', id: '${r}')`,e)}}))}get fullOpacity(){return l(this.get(\"layer.opacity\"),1)*l(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},r=this;return r.view&&r.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["n","c","arguments","slicePlaneEnabled","supportsHeightUnitConversion","e","a","this","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","o","signal","handles","add","s","abort","r","view","defaultsFromMap","heightModelInfoReady","t","i","l","heightModelInfo","effectiveScaleRange","minScale","maxScale","outsideScaleRange","prototype","d","V","type","_analysisModules","analysis","_destroyAnalysisView","_createAnalysisView","y","remove","analysisView","_createAnalysisViewTask","promise","updating","_createAnalysisViewPromise","_loadAnalysisModule","default","parent","when","destroy","p","h","f","w","catch","name","id","title","declaredClass","error","get","canResume","getSuspendInfo","suspended","legendEnabled","updatingHandles","isUpdating","visible","_override","_clearOverride","loaded","ready","suspendInfo","viewNotReady","layerNotLoaded","layerInvisible","readOnly","Boolean","u"],"sourceRoot":""}