{"version":3,"file":"static/js/9229.9195ee87.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Geometry as r}from\"../../webgl-engine/lib/Geometry.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as o}from\"../../webgl-engine/lib/VertexAttribute.js\";function a(n,r,i){const o=t(n)/e(n),a={width:i,height:i};return o>1.0001?a.height=i/o:o<.9999&&(a.width=i*o),a.width=Math.round(a.width/(t(n)/t(r))),a.height=Math.round(a.height/(e(n)/e(r))),a}function h(t){return i.createSquareGeometry([[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}function l(t,e){if(!n(t,e))return h(e);const i=[t[1]-e[1],Math.min(t[3],e[3])-Math.max(t[1],e[1]),e[3]-t[3],123456],a=[t[0]-e[0],Math.min(t[2],e[2])-Math.max(t[0],e[0]),e[2]-t[2],123456],l=e[2]-e[0],u=e[3]-e[1],m=a[0]>0&&a[2]>0?3:2,c=i[0]>0&&i[2]>0?3:2,g=(c+1)*(m+1),w=new Float64Array(3*g),f=new Float32Array(2*g),d=new Uint32Array(6*(c*m-1));let y=0,M=0,b=0,p=0,x=0;for(let n=0;n<4;n++){const t=i[n];if(t<=0)continue;let r=0;for(let i=0;i<4;i++){const t=a[i];t<=0||(w[M++]=e[0]+r,w[M++]=e[1]+y,w[M++]=-1,f[b++]=r/l,f[b++]=y/u,i<3&&n<3&&(1!==i||1!==n)&&(d[x++]=p,d[x++]=p+1,d[x++]=p+m+1,d[x++]=p+1,d[x++]=p+m+2,d[x++]=p+m+1),p++,r+=t)}y+=t}const A=new Uint32Array(d.length);return new r([[o.POSITION,{size:3,data:w,exclusive:!0}],[o.NORMAL,{size:3,data:s,exclusive:!0}],[o.UV0,{size:2,data:f,exclusive:!0}]],[[o.POSITION,d],[o.NORMAL,A],[o.UV0,d]])}const s=[0,0,1];export{a as computeImageExportSize,h as createGeometryForExtent,l as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,isSome as n}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as l,eachAlways as h,onAbort as m,isAborted as d,createAbortError as c,throwIfAborted as g}from\"../../../core/promiseUtils.js\";import{whenOnce as u}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import y from\"../../../geometry/Extent.js\";import{equals as _,create as w,width as x,height as R,copy as v,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as S}from\"./interfaces.js\";import{LayerView3D as E}from\"./LayerView3D.js\";import{computeImageExportSize as j,createGeometryForExtent as I,createOuterImageGeometry as A}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as C}from\"./support/projectExtentUtils.js\";import D from\"../support/debugFlags.js\";import{OverlayIndex as G}from\"../terrain/interfaces.js\";import{UpdatePolicy as L}from\"../webgl-engine/lib/basicInterfaces.js\";import{ModelDirty as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as T}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{ImageMaterial as O}from\"../webgl-engine/materials/ImageMaterial.js\";import U from\"../../layers/LayerView.js\";import V from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as H}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as N}from\"../../webgl/enums.js\";const z=a.getLogger(\"esri.views.3d.layers.DynamicLayerView3D\");let F=class extends(V(E(U))){constructor(){super(...arguments),this.drapeSourceType=S.RasterImage,this.updatePolicy=L.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{l(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(C(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const r=j(e.extent,t,e.resolution);let i=e.pixelRatio*this.view.state.pixelRatio;if(\"imageMaxWidth\"in this.layer||\"imageMaxHeight\"in this.layer){const e=this.layer.imageMaxWidth,t=this.layer.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,i*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,i*=e}}const a=this._extents[e.index];a&&_(a.extent,t)&&this._imageSizeEquals(t,a.imageSize,r)||(this._extents[e.index]={extent:w(t),imageSize:r,pixelRatio:i},this.suspended||this._fetch(e.index).catch((e=>{l(e)||z.error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await h(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new y(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=x(e)/this.maximumDataResolution.x,a=R(e)/this.maximumDataResolution.y,s=i/t.width,n=a/t.height,o=i/r.width,l=a/r.height,h=Math.abs(s-o),m=Math.abs(n-l),d=D.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:w(i)});const a=this._images[e];a.loadingAbortController&&(a.loadingAbortController.abort(),a.loadingAbortController=null);const s=new y(i[0],i[1],i[2],i[3],this._spatialReference);if(0===s.width||0===s.height)return void this._clearImage(e);const n=new AbortController;a.loadingAbortController=n,m(t,(()=>n.abort()));const o=n.signal,h=this._waitFetchReady(o).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:o},{height:i,width:a}=r.imageSize;return this.layer.fetchImage(s,a,i,t)})).then((e=>{if(d(o))throw z.warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),c();return this.processResult(a,e)})).then((()=>{v(a.renderExtent,i)})).finally((()=>{h===a.loadingPromise&&(a.loadingPromise=null,a.loadingAbortController=null)}));a.loadingPromise=h,this.notifyChange(\"updating\"),await h.then((async()=>{if(o.aborted)throw c();await this._createStageObjects(e,a.image,o),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!l(e)&&z.error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){n(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.Geometry.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController&&(t.loadingAbortController.abort(),t.loadingAbortController=null),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view._stage,o=this._images[e],l=()=>{a.remove(o.texture),o.texture=null,n(o.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([o.renderGeometry],M.Geometry.UPDATE),o.renderGeometry=null)};if(t){const n=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:N.CLAMP_TO_EDGE,t:N.CLAMP_TO_EDGE}});let h;if(await r(this._images[e===G.INNER?G.OUTER:G.INNER].loadingPromise),g(i),e===G.INNER)h=I(o.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=A(e,o.renderExtent)}l(),a.add(n),await a.loadImmediate(n),o.texture=n,s(o.material)?(o.material=new O({transparent:!0,textureId:n.id}),a.add(o.material)):o.material.setParameters({textureId:n.id}),o.renderGeometry=new T(h,o.material),o.renderGeometry.origin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([o.renderGeometry],M.Geometry.UPDATE)}else l(),a.remove(o.material),o.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return H(t,r)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return v(t,e);const r=this.view.basemapTerrain;return r.ready?b(e,r.extent,t):v(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await u((()=>this.view.stationary),e),g(e)}};e([p()],F.prototype,\"layer\",void 0),e([p()],F.prototype,\"suspended\",void 0),e([p({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([p()],F.prototype,\"updating\",void 0),F=e([f(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=w();export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:void 0)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as l}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(n(t.EventedMixin(r))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",t=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${t}', id: '${r}')`,e)}}))}get fullOpacity(){return l(this.get(\"layer.opacity\"),1)*l(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},r=this;return r.view&&r.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n"],"names":["h","t","i","l","e","n","Math","min","max","a","u","m","c","g","w","Float64Array","f","Float32Array","d","Uint32Array","y","M","b","p","x","r","A","length","o","size","data","exclusive","s","z","F","arguments","drapeSourceType","S","updatePolicy","L","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","Array","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","destroyed","_doRefresh","catch","declaredClass","error","this","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","add","unregisterDrapeSource","addResolvingPromise","C","then","_set","updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","clear","_spatialReference","forEach","index","_updateImageExtent","_clippedExtent","extent","W","width","height","round","j","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_","_imageSizeEquals","imageSize","_fetch","_clearImage","push","minScale","maxScale","scale","some","loadingPromise","HTMLImageElement","HTMLCanvasElement","image","contains","_createStageObjects","R","abs","D","texture","material","renderGeometry","loadingAbortController","pixelData","renderExtent","abort","AbortController","signal","_waitFetchReady","requestAsImageElement","getFetchOptions","fetchImage","warnOnce","processResult","v","finally","aborted","removeGeometries","_stage","remove","P","preMultiplyAlpha","wrap","N","G","I","loadImmediate","O","transparent","textureId","id","setParameters","T","origin","renderLocalOrigin","addGeometries","H","viewingMode","ready","stationary","V","E","U","prototype","readOnly","q","slicePlaneEnabled","supportsHeightUnitConversion","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","outsideScaleRange","spatialReference","fullExtent","Promise","resolve","equals","clone","isLocal","portalItem","parent","when","name","title","get","canResume","getSuspendInfo","legendEnabled","updating","isUpdating","visible","_override","_clearOverride","loaded","suspendInfo","viewNotReady","layerNotLoaded","layerInvisible","type","Boolean","doRefresh","dataChanged"],"sourceRoot":""}