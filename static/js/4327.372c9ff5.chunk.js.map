{"version":3,"file":"static/js/4327.372c9ff5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightToolConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/lineOfSightToolUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import s from\"../core/Accessor.js\";import{ClonableMixin as t}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import l from\"../symbols/support/ElevationInfo.js\";let f=class extends(i(t(s))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:m}),n()],f.prototype,\"position\",void 0),o([a({type:l}),n()],f.prototype,\"elevationInfo\",void 0),o([a(e)],f.prototype,\"feature\",void 0),f=o([c(\"esri.analysis.LineOfSightAnalysisObserver\")],f);const u=f;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import m from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:c}),n()],l.prototype,\"position\",void 0),o([p({type:m}),n()],l.prototype,\"elevationInfo\",void 0),o([p(t)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../core/maybe.js\";function t(e,t){return l(e)===l(t)}function l(t){if(e(t))return null;const l=null!=t.layer?t.layer.id:\"\";let r=null;return r=null!=t.objectId?t.objectId:null!=t.layer&&\"objectIdField\"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==r?null:`o-${l}-${r}`}const r={json:{write:{writer:n,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:u}}}};function n(t,l){e(t)||null==t.layer?.objectIdField||null==t.attributes||(l.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})}function u(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}export{t as featureReferenceEquals,r as featureReferenceProperty,l as getFeatureId,u as readFeatureReference,n as writeFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{isSome as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";const n=n=>{let p=class extends(i(n)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return!r(this.parent)||this.parent.visible&&!this.parent.suspended}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([o({readOnly:!0})],p.prototype,\"type\",void 0),e([o({constructOnly:!0})],p.prototype,\"analysis\",void 0),e([o({constructOnly:!0})],p.prototype,\"parent\",void 0),e([o({constructOnly:!0})],p.prototype,\"view\",void 0),e([o({type:Boolean})],p.prototype,\"interactive\",null),e([o()],p.prototype,\"_userInteractive\",void 0),e([o({readOnly:!0})],p.prototype,\"updating\",null),e([o()],p.prototype,\"visible\",null),e([o()],p.prototype,\"_interactiveViewModelCount\",void 0),p=e([s(\"esri.views.3d.analysis.AnalysisView3D\")],p),p};export{n as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import r from\"../../../../core/Accessor.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new e([3,252,111,1]),this.visibleOuterColor=new e([3,252,111,.15]),this.occludedInnerColor=new e([252,3,69,1]),this.occludedOuterColor=new e([252,3,69,.1]),this.undefinedInnerColor=new e([255,255,255,1]),this.undefinedOuterColor=new e([127,127,127,.2])}};o([t({type:Number})],s.prototype,\"innerWidth\",void 0),o([t({type:Number})],s.prototype,\"outerWidth\",void 0),o([t({type:e})],s.prototype,\"visibleInnerColor\",void 0),o([t({type:e})],s.prototype,\"visibleOuterColor\",void 0),o([t({type:e})],s.prototype,\"occludedInnerColor\",void 0),o([t({type:e})],s.prototype,\"occludedOuterColor\",void 0),o([t({type:e})],s.prototype,\"undefinedInnerColor\",void 0),o([t({type:e})],s.prototype,\"undefinedOuterColor\",void 0),s=o([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightConfiguration\")],s);export{s as LineOfSightConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as i}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{equals as c}from\"../../../../geometry/support/ray.js\";var a;let n=a=class extends o{constructor(r){super(r)}clone(){return new a({type:this.type,id:s(this.id),point:s(this.point),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&i(this.point,r.point)&&t(this.normal,r.normal)&&c(this.ray,r.ray)&&this.graphic===r.graphic}};r([e()],n.prototype,\"type\",void 0),r([e({constructOnly:!0})],n.prototype,\"id\",void 0),r([e({constructOnly:!0})],n.prototype,\"point\",void 0),r([e({constructOnly:!0})],n.prototype,\"normal\",void 0),r([e({constructOnly:!0})],n.prototype,\"graphic\",void 0),r([e({constructOnly:!0})],n.prototype,\"ray\",void 0),n=a=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],n);export{n as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t,isSome as s}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c,n as a,g as p,a as l}from\"../../../../chunks/vec3.js\";import{d as m,a as d,c as u}from\"../../../../chunks/vec3f64.js\";import{create as h,copy as f,fromPoints as y}from\"../../../../geometry/support/ray.js\";import{sv2d as g}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as I}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as j}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as w}from\"../../layers/i3s/Intersector.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as b}from\"../../terrain/Intersector.js\";import{newIntersector as R}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as C,IntersectorType as S}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as U}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let O=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=R(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=C.MIN}getScreenPointIntersection(e){const r=o(e,g.get()),t=v(this.view.state.camera,r,M);return this._getRayIntersection(t)}_getRayIntersection(e,r){if(t(e)||t(this.view.sceneIntersectionHelper))return null;this.intersector.options.store=C.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,this.intersector,r);const o=this.intersector.results.min;if(!o.getIntersectionPoint(H))return null;const i=this.view.renderCoordsHelper.fromRenderCoords(H,this.view.spatialReference),n=m(o.normal);if(w(o))return new j({type:S.OBJECT,id:`${o.target.layerUid}/${o.target.nodeIndex}/${o.target.componentIndex}`,point:i,normal:n,ray:f(e),graphic:null});if(b(o))return new j({type:S.TERRAIN,id:o.target.lij.slice(),point:i,normal:n,ray:f(e),graphic:null});const c=U(o,this.view);if(s(c)){const r=c.layer,t=c.sourceLayer;let s;if(t)if(\"scene\"===t.type)s=I(c,t.objectIdField);else s=c.uid;else s=c.uid;return new j({type:S.OBJECT,id:`${r.uid}/${s}`,point:i,normal:n,ray:f(e),graphic:c})}return null}updateFromGroundIntersection(e,r,t){const o=H,i=L,n=T,m=_,u=x;c(i,e),this.view.renderCoordsHelper.worldUpAtPosition(i,n),a(n,n);const h=this.view.basemapTerrain.elevationBounds,f=this.view.renderCoordsHelper.getAltitude(i),g=h?Math.abs(h.max-h.min):100,I=f>0?1:-1;p(m,n,I*(g+Math.abs(r))),l(o,i,m),y(o,i,M);const j=this._getRayIntersection(M,{include:this._terrainIntersectionOptionsLayerUids});return s(j)&&s(j.point)?(this.view.renderCoordsHelper.toRenderCoords(j.point,u),p(m,n,I*r),l(t,u,m),d(j.normal)):(c(t,e),null)}};e([i()],O.prototype,\"view\",void 0),e([i()],O.prototype,\"intersector\",void 0),O=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],O);const H=u(),L=u(),T=u(),_=u(),x=u(),M=h();export{O as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import o from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import n from\"../../../../core/Handles.js\";import{handlesGroup as r,makeHandle as s}from\"../../../../core/handleUtils.js\";import{equals as a}from\"../../../../core/lang.js\";import c from\"../../../../core/Logger.js\";import{isNone as l,isSome as u,abortMaybe as p,unwrapOr as d,none as h}from\"../../../../core/maybe.js\";import{createTask as g,ignoreAbortErrors as v}from\"../../../../core/promiseUtils.js\";import{watch as m,on as f,syncAndInitial as _,sync as b}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as C}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as I,i as T,b as O,n as P,g as S,a as j,j as w,v as R}from\"../../../../chunks/vec3.js\";import{c as A}from\"../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as E}from\"../../../../core/support/WatchUpdatingTracking.js\";import{projectOrLoad as L,projectBoundingRect as F}from\"../../../../geometry/projection.js\";import{empty as V,containsPointObject as H,intersectsSegment as D}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as x,create as N}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as k}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as z}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as G}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as M}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as U}from\"../support/projectionUtils.js\";import{StoreResults as Z}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as q,hasLod as B,getIntersectedFeatureBSRadius as W}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as J,TaskPriority as K}from\"../../../support/Scheduler.js\";import Q from\"../../../../geometry/Point.js\";const X=c.getLogger(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\");let Y=class extends(i.EventedMixin(o)){constructor(e){super(e),this.updateOnCameraChange=!0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new E,this._frameTask=J,this._handles=new n,this._computationHandles=new n,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(K.LINE_OF_SIGHT_TOOL):J,this._intersector=new M({view:this.view}),this._handles.add([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._handles.destroy(),this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}getLineOfSightComputationDependencies(e){const{inputPoints:t}=e;return{inputPoints:t}}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:i}=t,{observerAdjusted:n,targetAdjusted:r}=o,{start:s,end:a}=i;I(s,n),I(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const o=this.view,{sceneIntersectionHelper:i}=o,{inputPoints:n}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:c}=n;if(l(s)&&l(a))return;const p=T(r,c),d=this._intersector.intersector,h=x(n.observer,n.target,te);d.options.store=Z.ALL,i.intersectToolIntersectorRay(h,d);let g=null,v=null,m=null,f=null;for(const _ of d.results.all){const e=q(_,this.view);if(l(e)||l(_.distanceInRenderSpace))continue;const i=t(e);l(i)||(u(s)&&i===s&&(l(g)&&(g=this._getFeatureDistanceThreshold(_,o,p)),_.distanceInRenderSpace<g&&(m=_)),u(a)&&i===a&&(l(v)&&(v=this._getFeatureDistanceThreshold(_,o,p)),l(f)&&_.distanceInRenderSpace<p&&p-_.distanceInRenderSpace<v&&(f=_)))}u(m)&&m.getIntersectionPoint(r)&&(n.observerSurfaceNormal=m.getTransformedNormal(A())),u(f)&&f.getIntersectionPoint(c)&&(n.targetSurfaceNormal=f.getTransformedNormal(A()))}_getFeatureDistanceThreshold(e,t,o){if(B(e)){const i=W(e,t);if(u(i))return Math.min(i*ie,o)}return 1e-5*o}_adjustStartEndPositions(e){const t=this._screenPixelSize,o=this.view,{inputPoints:i}=e,{observer:n,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:c,targetAdjusted:l}=i,p=ee;I(c,n),I(l,s),this._updateAdjustedPointsFromFeatures(e),u(r)?I(p,r):O(p,l,c);const d=t;P(p,p),S(p,p,Math.min(d,1)),j(c,c,p),u(a)?I(p,a):O(p,c,l);const h=o.state.camera.computeScreenPixelSizeAt(l);P(p,p),S(p,p,Math.min(h,1)),j(l,l,p)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:i,renderCoordsHelper:n}=o;if(l(i))return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:c,target:p}=a,{start:d,end:h}=s,g=x(d,h,te);r.options.store=Z.MIN,i.intersectToolIntersectorRay(g,r);const v=r.results.min,m=s.intersection,f=ee;let _=!0;if(u(v)&&v.getIntersectionPoint(m)){I(t.originalIntersection,m),I(t.originalObserver,d),I(t.originalTarget,h),n.fromRenderCoords(m,f,o.spatialReference);const e=1-w(h,p)/w(d,p);_=w(c,m)>=e*w(c,p)}const b=new Q(f,o.spatialReference);{const{result:t,target:i}=e;u(t)?(t.target=i,t.intersectedGraphic=_?null:q(v,o),t.intersectedLocation=_?null:b,t.visible=_):e.result=new z({target:i,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:_?null:q(v,o),intersectedLocation:_?null:b,visible:_})}s.isValid=a.isValid=!0,s.isTargetVisible=_}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:i}=e,{start:n,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:c,originalTarget:l}=t;if(I(s,a),i.isValid){const e=ee,t=w(c,a)/w(c,l);R(e,n,c),S(e,e,1-t),j(s,s,e),R(e,r,l),S(e,e,t),j(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(l(t)||l(e.elevationAlignedTargetLocation)||l(o))return!1;const{observerAdjusted:i,targetAdjusted:n}=e.inputPoints,r=o.intersectsPoint(i),s=o.intersectsPoint(n);return r&&s}_onObserverPositionChange(e,o,i,n,r){if(this._externalObserverUpdate=r,l(e))return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(l(o))return U(this.analysis,e.spatialReference,X),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(o,i),{absoluteZ:a,elevation:c}=k(o.x,o.y,o.z,this.view.spatialReference,this.view,s),u=o.clone();u.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=u;const p=A();this.view.renderCoordsHelper.toRenderCoords(u,p),this._elevationAlignedObserverPositionRenderSpace=p,this._observerGroundOffsetRenderSpace=a-c,this._observerFeatureId=t(n),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n){const{inputPoints:r}=e;switch(I(r.observer,t),r.observerFeatureId=n,r.observerSurfaceNormal=null,i){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);l(r.observerFeatureId)&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,o,i,n,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),l(i))return u(o)&&U(this.analysis,o.spatialReference,X),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const c=this._getEffectiveElevationInfo(i,n),{absoluteZ:p,elevation:d}=k(i.x,i.y,i.z,this.view.spatialReference,this.view,c),h=i.clone();switch(h.z=p,e.elevationAlignedTargetLocation=h,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,c.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,p-d,a.target);l(a.targetFeatureId)&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return r([m((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:L(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:i,projectedTargetPosition:n})=>{u(n.pending)?this._updatingHandles.addPromise(n.pending):this._onTargetPositionChange(e,t,n.geometry,o,i)}),_)])}_connectComputationToObserver(e){return m((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),_)}_connectComputationToRenderSpaceObserver(e){return m((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:i,observerFeatureId:n})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n)}),_)}_connectComputationToCamera(e){return m((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}),b)}_connectComputationToSlicePlane(e){return m((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(o,i)=>{const n=this.analysis.observer,r=e.target;let s=null,a=null,c=null,p=null,d=null,h=null;if(u(n)&&u(n.position)){const e=L(n.position,this.view.spatialReference);if(u(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));s=e.geometry,a=n.elevationInfo,c=n.feature}if(u(r.position)){const e=L(r.position,this.view.spatialReference);if(u(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));p=e.geometry,d=r.elevationInfo,h=r.feature}l(s)&&l(p)||(F(o,i,oe,this.view.spatialReference),u(s)&&H(oe,s)&&this._onObserverPositionChange(u(n)?n.position:null,s,a,c,!1),u(p)&&H(oe,p)&&this._onTargetPositionChange(e,r.position,p,d,h,!1),u(s)&&u(p)&&D(oe,s,p)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(e=>t(e.extent,e.spatialReference)))}_connectComputationToTask(e){let t=h;const o={computation:e,interpolationInfo:{originalIntersection:A(),originalObserver:A(),originalTarget:A()}};return r([m((()=>this.getLineOfSightComputationDependencies(e)),(()=>{t=p(t),t=g((async e=>{await v(this._frameTask.schedule((()=>this._computeResult(o)),e))}))}),{sync:!0,initial:!0,equals:a}),s((()=>t=p(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){u(t)&&this._removeTarget(t),u(e)&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new G({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return r([m((()=>({observerPosition:u(this.analysis.observer)?this.analysis.observer.position:null,projectedObserverPosition:L(u(this.analysis.observer)?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:u(this.analysis.observer)?this.analysis.observer.elevationInfo:null,observerFeatureInfo:u(this.analysis.observer)?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:i})=>{u(t.pending)?this._updatingHandles.addPromise(t.pending):this._onObserverPositionChange(e,t.geometry,o,i,!0)}),_)])}_connectComputations(){return f((()=>this._computations),\"change\",(e=>this._onComputationCollectionChange(e)),{onListenerAdd:e=>{for(const t of e)this._connectComputation(t)},onListenerRemove:e=>{for(const t of e)this._disconnectComputation(t)},sync:!0})}_connectTargets(){return r([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),m((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(l(e)||l(o))return!1;const i=ee;o.toRenderCoords(e,i);const n=t.state.camera.computeScreenPixelSizeAt(i);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>$}_getEffectiveElevationInfo(e,t){return e.hasZ?d(t,{mode:\"absolute-height\",offset:0}):{mode:\"on-the-ground\",offset:0}}};e([y({constructOnly:!0})],Y.prototype,\"analysis\",void 0),e([y({constructOnly:!0})],Y.prototype,\"analysisViewData\",void 0),e([y({constructOnly:!0})],Y.prototype,\"view\",void 0),e([y()],Y.prototype,\"updating\",null),e([y()],Y.prototype,\"priority\",null),e([y()],Y.prototype,\"updateOnCameraChange\",void 0),e([y()],Y.prototype,\"_computations\",null),e([y()],Y.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([y()],Y.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([y()],Y.prototype,\"_effectiveObserverElevationMode\",void 0),e([y()],Y.prototype,\"_observerFeatureId\",void 0),e([y()],Y.prototype,\"_screenPixelSize\",null),e([y({readOnly:!0})],Y.prototype,\"_updatingHandles\",void 0),e([y()],Y.prototype,\"_frameTask\",void 0),e([y()],Y.prototype,\"_isCameraDirty\",null),Y=e([C(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],Y);const $=.1,ee=A(),te=N(),oe=V(),ie=.05;export{Y as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(e){super(e),this.enabled=!0,this.glowColor=new o([255,127,0]),this.glowWidth=8,this.innerColor=new o([255,255,255]),this.innerWidth=.75,this.globalAlpha=.75}};e([r({type:Boolean})],s.prototype,\"enabled\",void 0),e([r({type:o})],s.prototype,\"glowColor\",void 0),e([r({type:Number})],s.prototype,\"glowWidth\",void 0),e([r({type:o})],s.prototype,\"innerColor\",void 0),e([r({type:Number})],s.prototype,\"innerWidth\",void 0),e([r({type:Number})],s.prototype,\"globalAlpha\",void 0),s=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightLaserLineConfiguration\")],s);let p=class extends t{constructor(e){super(e),this.size=.5,this.color=new o([255,127,0,.75])}};e([r({type:Number})],p.prototype,\"size\",void 0),e([r({type:o})],p.prototype,\"color\",void 0),p=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightObserverConfiguration\")],p);let n=class extends t{constructor(e){super(e),this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}};e([r({type:Number})],n.prototype,\"size\",void 0),e([r({type:o})],n.prototype,\"visibleColor\",void 0),e([r({type:o})],n.prototype,\"occludedColor\",void 0),e([r({type:o})],n.prototype,\"undefinedColor\",void 0),n=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTargetConfiguration\")],n);class l extends t{constructor(e){super(e),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}e([r({type:Number})],l.prototype,\"innerWidth\",void 0),e([r({type:Number})],l.prototype,\"outerWidth\",void 0),e([r({type:o})],l.prototype,\"visibleInnerColor\",void 0),e([r({type:o})],l.prototype,\"visibleOuterColor\",void 0),e([r({type:o})],l.prototype,\"occludedInnerColor\",void 0),e([r({type:o})],l.prototype,\"occludedOuterColor\",void 0),e([r({type:o})],l.prototype,\"undefinedInnerColor\",void 0),e([r({type:o})],l.prototype,\"undefinedOuterColor\",void 0);let d=class extends t{constructor(e){super(e),this.laserLine=new s,this.observer=new p,this.target=new n,this.lineOfSight=new l}};e([r({type:s})],d.prototype,\"laserLine\",void 0),e([r({type:p})],d.prototype,\"observer\",void 0),e([r({type:n})],d.prototype,\"target\",void 0),e([r({type:l})],d.prototype,\"lineOfSight\",void 0),d=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightToolConfiguration\")],d);export{l as LineOfSightConfiguration,s as LineOfSightLaserLineConfiguration,p as LineOfSightObserverConfiguration,n as LineOfSightTargetConfiguration,d as LineOfSightToolConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{Manipulator3D as t}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as e}from\"../../interactive/manipulatorUtils.js\";import{disableDisplayOnGrab as r}from\"../../interactive/editingTools/manipulatorUtils.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as s}from\"../../../interactive/interfaces.js\";function m(t,r,s){return{geometry:i.createSphereGeometry(t,32,32),material:e(o.toUnitRGBA(r)),stateMask:s}}function n(o){const t=[];return o.customColor1&&t.push(m(o.size,o.customColor1,s.Custom1)),o.customColor2&&t.push(m(o.size,o.customColor2,s.Custom2)),o.customColor3&&t.push(m(o.size,o.customColor3,s.Custom3)),o.color&&t.push(m(o.size,o.color)),t}function u(o,e){const i=n(e),s=new t({view:o,renderObjects:i,elevationInfo:{mode:\"absolute-height\",offset:0}});return r(s),s}export{u as createSphereManipulator,m as createSphereManipulatorRenderObject,n as createSphereManipulatorRenderObjects};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import r from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import a from\"../../../../core/Collection.js\";import n from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{destroyMaybe as o,isSome as l,isNone as c,applySome as u}from\"../../../../core/maybe.js\";import{watch as p,syncAndInitial as h,sync as d,on as g}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as v,fromPoints as b}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as y,getConvertedElevation as f}from\"../../../../support/elevationInfoUtils.js\";import T from\"../../../../symbols/support/ElevationInfo.js\";import{LineOfSightRayIntersector as C}from\"./LineOfSightRayIntersector.js\";import{LineOfSightToolConfiguration as M}from\"./LineOfSightToolConfiguration.js\";import{createSphereManipulator as w,createSphereManipulatorRenderObjects as L}from\"./lineOfSightToolUtils.js\";import{LaserlineVisualElement as k}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as V}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as O}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as S}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as D}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as E}from\"../../../support/screenUtils.js\";import{MouseButton as I}from\"../../../input/IViewEvents.js\";var R;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(R||(R={}));const j=a.ofType(r),P=s.getLogger(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\");let H=class extends O{constructor(e){super(e),this.preferManipulatorCursor=!0,this.removeIncompleteOnCancel=!1,this.configuration=new M,this.analysisViewData=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._handles=new n,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new C({view:this.view}),this._handles.add(p((()=>this.state),(e=>{e===R.Created&&this.finishToolCreation()}),h)),this._observerManipulator=this._createObserverManipulator(),this._handles.add([p((()=>({...this.configuration.observer})),(()=>this._updateObserverManipulatorStyle()),d),p((()=>this.analysisViewData.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),h),p((()=>({...this.configuration.laserLine})),(()=>this._createVisualElements()),h),p((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations()])}destroy(){this._handles=o(this._handles),this._manipulatorHandles=o(this._manipulatorHandles),this._analysisHandles=o(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeVisualElements(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?l(this._grabbedManipulator)?R.Created:R.Creating:l(this.analysis.observer)&&l(this.analysis.observer.position)?R.Created:R.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return!!l(this.analysisViewData)&&this.analysisViewData.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&l(this.analysis.observer)&&l(this.analysis.observer.position)&&!this.hasFocusedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){this._grabbedManipulator=null}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return g((()=>this.analysisViewData.computations),\"change\",(e=>this._onComputationsCollectionChange(e)),{onListenerAdd:e=>{for(const t of e)this._connectComputation(t)},onListenerRemove:e=>{for(const t of e)this._disconnectComputation(t)},sync:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void P.warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);c(this._targetTrackerManipulator)&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([p((()=>this._getLineOfSightManipulatorStateDependencies(e)),(()=>this._updateManipulatorState(i,e)),h),p((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),h)],e)}_disconnectComputation(e){if(this.destroyed)return void P.warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);l(t)&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),l(this._targetTrackerManipulator)&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=o(this.analysisViewData.cursorTarget)}_createManipulator(e,t,i){const r=w(this.view,e);return r.metadata=i,this._manipulatorHandles.add([t(r),r.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(r,e))),r.events.on(\"immediate-click\",(e=>this._manipulatorClick(r,e)))],r),this.manipulators.add(r),r}_createTargetManipulator(e){const t=this.configuration,i={size:t.target.size,customColor1:t.target.visibleColor,customColor2:t.target.occludedColor,customColor3:t.target.undefinedColor,visible:!0},r={target:e,type:\"target\"},a=this._createManipulator(i,(e=>this._createTargetManipulatorDragPipeline(e)),r);return l(e.position)?a.elevationAlignedLocation=e.position:a.available=!1,a}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const r=i.manipulator;c(t)&&\"target\"===r.metadata.type&&r.metadata.target===e&&(t=r)})),t}_createObserverManipulator(){const e=this.configuration,t={size:e.observer.size,color:e.observer.color,visible:!0};return this._createManipulator(t,(e=>this._createObserverManipulatorDragPipeline(e)),{type:\"observer\",intersection:null})}_updateObserverManipulatorStyle(){const e=this._observerManipulator,t=this.configuration.observer,i={size:t.size,color:t.color,visible:e.available};e.renderObjects=L(i)}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return c(t)?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return S(e,((t,i,r)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),r.next(this._cancelTargetDragStep(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return S(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(l(e.intersection.point)?(c(this.analysis.observer)&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=l(this.analysis.observer)&&l(this.analysis.observer.position)?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.point;return l(i)&&(e.elevationAlignedLocation=i),t}}_cancelTargetDragStep(e){const t=u(e.position,(e=>e.clone()));return i=>(e.position=t,i)}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_updateManipulatorState(e,t){const{isValid:i,isTargetVisible:r}=t.computationResult;e.state=i?r?D.Custom1:D.Custom2:D.Custom3}_getLineOfSightManipulatorStateDependencies(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:l(this.analysis.observer)?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:r,observerPosition:a,visible:n}=e;if(c(t))return;const s=l(i)?i:r&&l(a)?this._targetTrackerManipulator:null;this.configuration.laserLine.enabled&&l(s)&&n?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=b(this._observerManipulator.renderLocation,s.renderLocation,A):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createVisualElements(){const e=this.configuration.laserLine;this._removeVisualElements(),this._laserlineVisualElement=new k({view:this.view,attached:!0,visible:this.visible,style:{glowColor:t.toUnitRGB(e.glowColor),glowWidth:e.glowWidth,innerColor:t.toUnitRGB(e.innerColor),innerWidth:e.innerWidth,globalAlpha:e.globalAlpha}})}_removeVisualElements(){l(this._laserlineVisualElement)&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_onObserverLocationChange(e){c(e)?this._observerManipulator.available=!1:(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e)}_onTargetLocationChange(e,t){l(e)?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(!c(t)&&!c(t.point))if(l(this.analysis.observer)&&l(this.analysis.observer.position)){this._clearCursorTracker();const e=new r;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==I.Right&&(this._addPointFromClickEvent(E(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==I.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasFocusedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||c(this.analysis.observer)||c(this.analysis.observer.position))return;const t=E(e),i=this._intersector.getScreenPointIntersection(t);l(i)&&l(i.point)&&(c(this.analysisViewData.cursorTarget)&&(this.analysisViewData.cursorTarget=new r),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(c(t.point))return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case V.OBJECT:if(l(t.graphic)){const i=t.graphic,r=y(i);\"on-the-ground\"===r.mode&&(r.mode=\"relative-to-ground\",r.offset=0),e.elevationInfo=new T(r),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case V.TERRAIN:case V.I3S:e.elevationInfo=new T({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.point.clone();i.z=f(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==I.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){return{laserLineVisualElement:this._laserlineVisualElement}}};e([m({constructOnly:!0})],H.prototype,\"view\",void 0),e([m({constructOnly:!0})],H.prototype,\"analysis\",void 0),e([m({readOnly:!0})],H.prototype,\"state\",null),e([m({readOnly:!0})],H.prototype,\"cursor\",null),e([m({readOnly:!0})],H.prototype,\"preferManipulatorCursor\",void 0),e([m()],H.prototype,\"removeIncompleteOnCancel\",void 0),e([m({readOnly:!0})],H.prototype,\"updating\",null),e([m({type:M})],H.prototype,\"configuration\",void 0),e([m({constructOnly:!0})],H.prototype,\"analysisViewData\",void 0),e([m({readOnly:!0})],H.prototype,\"_showTracker\",null),e([m()],H.prototype,\"_latestPointerMovePointerType\",void 0),e([m()],H.prototype,\"_shouldRenderTracker\",null),e([m()],H.prototype,\"_laserlineVisualElement\",void 0),e([m()],H.prototype,\"_grabbedManipulator\",void 0),H=e([_(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\")],H);const A=v();export{j as LineOfSightTargetCollection,H as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import{equals as s}from\"../../../../core/lang.js\";import{destroyMaybe as r,isNone as a}from\"../../../../core/maybe.js\";import{watch as l,on as c,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{b as p}from\"../../../../chunks/vec3.js\";import{d as v,c as f}from\"../../../../chunks/vec3f64.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as b}from\"../../interactive/visualElements/PointVisualElement.js\";let V=class extends t{constructor(i){super(i),this._lineOfSightVisualizations=[],this._computationHandles=new o}initialize(){this.own(this._connectComputations()),this._createObserverVisualization()}destroy(){this._computationHandles=r(this._computationHandles),this._observerVisualElement=r(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get testInfo(){return{visualizations:this._lineOfSightVisualizations}}get _configuration(){return this.analysisViewData.configuration}_createLineOfSightVisualization(){const i=this._configuration,t=this.view,o={view:t,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth},n=e.toUnitRGBA(i.visibleOuterColor),s=e.toUnitRGBA(i.visibleInnerColor),r=e.toUnitRGBA(i.occludedOuterColor),a=e.toUnitRGBA(i.occludedInnerColor),l=e.toUnitRGBA(i.undefinedOuterColor),c=e.toUnitRGBA(i.undefinedInnerColor),u={visibleLineVisualElement:new g({...o,color:n,innerColor:s}),occludedLineVisualElement:new g({...o,color:r,innerColor:a}),undefinedLineVisualElement:new g({...o,color:l,innerColor:c}),targetVisualElement:new b({view:t,attached:!0,..._,size:8})};return this._lineOfSightVisualizations.push(u),u}_destroyLineOfSightVisualization(i){i.visibleLineVisualElement=r(i.visibleLineVisualElement),i.occludedLineVisualElement=r(i.occludedLineVisualElement),i.undefinedLineVisualElement=r(i.undefinedLineVisualElement),i.targetVisualElement=r(i.targetVisualElement),this._lineOfSightVisualizations.splice(this._lineOfSightVisualizations.indexOf(i),1)}_updateLineOfSightVisualization(i,t,o){const n=this._configuration,{computationResult:s,inputPoints:r}=i,{start:l,end:c,intersection:u,isValid:d,isTargetVisible:m}=s,{observer:h}=r,f=O;f[12]=h[0],f[13]=h[1],f[14]=h[2];const g=p(y,l,h),b=p(C,c,h),V=p(E,u,h),{visibleLineVisualElement:_,occludedLineVisualElement:L,undefinedLineVisualElement:A,targetVisualElement:w}=t,z=a(this.analysisViewData.elevationAlignedObserver)||a(i.elevationAlignedTargetLocation),S=this.visible&&!z;_.visible=S,L.visible=S,A.visible=S,w.visible=S,w.attached=!o.interactiveAndEditable,S&&(_.geometry=null,L.geometry=null,A.geometry=null,w.geometry=i.elevationAlignedTargetLocation,d?m?(_.geometry=[[v(g),v(b)]],_.transform=f,_.color=e.toUnitRGBA(n.visibleOuterColor),w.color=e.toUnitRGBA(n.visibleInnerColor)):(_.geometry=[[v(g),v(V)]],_.transform=f,_.color=e.toUnitRGBA(n.occludedOuterColor),L.geometry=[[v(V),v(b)]],L.transform=f,w.color=e.toUnitRGBA(n.occludedInnerColor)):(A.geometry=[[v(g),v(b)]],A.transform=f,w.color=e.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:e}=i,{occludedOuterColor:t,visibleOuterColor:o}=this._configuration;return{computationResult:e,occludedOuterColor:t,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const e=this._computationHandles;if(e.has(i))return;const t=this._createLineOfSightVisualization();e.add([l((()=>this._getLineOfSightVisualizationDependencies(i)),(e=>this._updateLineOfSightVisualization(i,t,e)),{sync:!0,initial:!0,equals:s}),n((()=>this._destroyLineOfSightVisualization(t)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return c((()=>this.analysisViewData.computations),\"change\",(i=>this._onComputationsCollectionChange(i)),{sync:!0,onListenerAdd:i=>{for(const e of i)this._connectComputation(e)},onListenerRemove:i=>{for(const e of i)this._disconnectComputation(e)}})}_onComputationsCollectionChange({added:i,removed:e}){for(const t of e)this._disconnectComputation(t);for(const t of i)this._connectComputation(t)}_createObserverVisualization(){const i=e.toUnitRGBA(this._configuration.visibleInnerColor),t=new b({view:this.view,attached:!1,color:i,..._});this._observerVisualElement=t,this.own(l((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:i,interactiveAndEditable:e,visible:o})=>{a(i)||e||!o?t.attached=!1:(t.geometry=i,this._observerVisualElement.attached=!0)}),u))}};i([d({constructOnly:!0})],V.prototype,\"analysis\",void 0),i([d({constructOnly:!0})],V.prototype,\"analysisViewData\",void 0),i([d({constructOnly:!0})],V.prototype,\"view\",void 0),i([d({readOnly:!0})],V.prototype,\"visible\",null),i([d()],V.prototype,\"interactiveAndEditable\",null),i([d()],V.prototype,\"testInfo\",null),i([d()],V.prototype,\"_configuration\",null),V=i([m(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],V);const _={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},y=f(),C=f(),E=f(),O=h();export{V as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Evented.js\";import{destroyMaybe as r,isSome as e,applySome as n}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{AnalysisView3D as y}from\"./AnalysisView3D.js\";import{LineOfSightConfiguration as u}from\"./LineOfSight/LineOfSightConfiguration.js\";import{LineOfSightController as h}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as c}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as m}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as g,removeAnalysisViewTool as d}from\"../../analysis/analysisViewUtils.js\";let f=class extends(y(s.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new o,this.elevationAlignedObserver=null,this.configuration=new u,this.observerEngineLocation=p(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new h({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new m({analysis:i,analysisViewData:this,view:t}),this.own([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),g(this,c)])}destroy(){d(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return e(this._analysisController)&&this._analysisController.updating}getResultForTarget(t){const i=this.computations.find((i=>i.target===t));return n(i,(t=>t.result))}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};t([a({readOnly:!0})],f.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],f.prototype,\"analysis\",void 0),t([a()],f.prototype,\"tool\",void 0),t([a({readOnly:!0})],f.prototype,\"results\",null),t([a()],f.prototype,\"priority\",null),t([a()],f.prototype,\"computations\",void 0),t([a()],f.prototype,\"elevationAlignedObserver\",void 0),t([a()],f.prototype,\"configuration\",void 0),t([a()],f.prototype,\"observerEngineLocation\",void 0),t([a()],f.prototype,\"cursorTarget\",void 0),t([a()],f.prototype,\"updating\",null),t([a()],f.prototype,\"editable\",void 0),t([a()],f.prototype,\"_analysisController\",void 0),t([a()],f.prototype,\"_analysisVisualization\",void 0),f=t([l(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],f);const v=f;export{v as default};\n"],"names":["f","o","position","elevationInfo","feature","p","this","r","i","t","s","a","type","m","n","prototype","l","e","u","c","layer","id","objectId","objectIdField","attributes","uid","json","write","writer","layerId","target","Number","String","origins","read","ObjectId","arguments","parent","_userInteractive","_interactiveViewModelCount","visible","suspended","_override","_clearOverride","readOnly","constructOnly","Boolean","innerWidth","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","observer","observerSurfaceNormal","observerFeatureId","targetSurfaceNormal","targetFeatureId","observerAdjusted","targetAdjusted","computationResult","start","end","intersection","isTargetVisible","result","notifyChange","point","normal","ray","graphic","O","_terrainIntersectionOptionsLayerUids","Set","intersector","R","view","state","viewingMode","options","hud","store","C","g","v","camera","M","_getRayIntersection","sceneIntersectionHelper","intersectToolIntersectorRay","results","min","getIntersectionPoint","H","renderCoordsHelper","fromRenderCoords","spatialReference","w","j","S","layerUid","nodeIndex","componentIndex","b","lij","slice","U","sourceLayer","I","L","T","_","x","worldUpAtPosition","h","basemapTerrain","elevationBounds","getAltitude","Math","abs","max","y","include","toRenderCoords","d","X","Y","updateOnCameraChange","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","E","_frameTask","J","_handles","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","K","_intersector","add","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","updating","priority","analysisViewData","computations","observerEngineLocation","computeScreenPixelSizeAt","_elevationAlignedObserverPositionRenderSpace","computation","_canCompute","_computeIntersection","_interpolateIntersection","notifyResultChanged","emit","te","Z","all","q","distanceInRenderSpace","_getFeatureDistanceThreshold","getTransformedNormal","A","B","W","ie","_screenPixelSize","ee","_updateAdjustedPointsFromFeatures","P","interpolationInfo","originalIntersection","originalObserver","originalTarget","Q","z","elevationAlignedObserver","frustum","intersectsPoint","analysis","_getEffectiveElevationInfo","k","absoluteZ","elevation","clone","mode","_observerGroundOffsetRenderSpace","updateFromGroundIntersection","_adjustStartEndPositions","notifyInputPointsChanged","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","pending","addPromise","_onTargetPositionChange","geometry","observerGroundOffset","observerElevationMode","_onObserverRenderSpacePositionChangeForComputation","isDirty","_isCameraDirty","slicePlane","finally","F","oe","_onObserverPositionChange","D","elevationProvider","on","extent","getLineOfSightComputationDependencies","schedule","_computeResult","sync","initial","equals","has","_connectComputationToTarget","_connectComputationToObserver","_connectComputationToRenderSpaceObserver","_connectComputationToCamera","_connectComputationToSlicePlane","_connectComputationToElevation","_connectComputationToTask","remove","added","removed","_disconnectComputation","_connectComputation","_removeTarget","_addTarget","some","G","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_onComputationCollectionChange","onListenerAdd","onListenerRemove","addOnCollectionChange","targets","_onTargetCollectionChange","final","cursorTarget","_onCursorTargetChange","$","hasZ","offset","N","V","enabled","glowColor","glowWidth","innerColor","globalAlpha","size","color","visibleColor","occludedColor","undefinedColor","laserLine","lineOfSight","material","stateMask","customColor1","push","customColor2","customColor3","renderObjects","events","action","disableDisplay","Ready","Creating","Created","preferManipulatorCursor","removeIncompleteOnCancel","configuration","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_updateObserverManipulatorStyle","_onObserverLocationChange","_createVisualElements","_laserLineRendererDependencies","_updateLaserLineRenderer","_clearCursorTracker","_removeVisualElements","_set","active","_showTracker","_latestPointerMovePointerType","hasFocusedManipulators","activeTool","editable","internallyEditable","_doubleClickHandler","_keyDownHandler","_pointerMoveHandler","_clickHandler","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","metadata","available","interactive","_getLineOfSightManipulatorStateDependencies","_updateManipulatorState","_onTargetLocationChange","_getTargetManipulator","manipulators","_manipulatorGrabChanged","_manipulatorClick","_createManipulator","_createTargetManipulatorDragPipeline","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","getScreenPointIntersection","screenEnd","next","_screenToIntersection","_updateTargetDragStep","_cancelTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","_shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","button","_addPointFromClickEvent","stopPropagation","stop","key","pointerType","grabbing","dragging","length","laserLineVisualElement","_lineOfSightVisualizations","own","_createObserverVisualization","_observerVisualElement","visualizations","_configuration","width","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","splice","indexOf","interactiveAndEditable","transform","_createLineOfSightVisualization","_getLineOfSightVisualizationDependencies","_updateLineOfSightVisualization","_destroyLineOfSightVisualization","pixelSnappingEnabled","primitive","outlineSize","tool","_analysisController","_analysisVisualization","map","find","visualization","controller","nonNullable"],"sourceRoot":""}