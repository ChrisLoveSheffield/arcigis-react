"use strict";(self.webpackChunkuums_front_end=self.webpackChunkuums_front_end||[]).push([[483],{12717:function(e,r,t){t.d(r,{Y:function(){return o}});var n=t(37762),i=t(92026);function a(e,r){return e?r?4:3:r?3:2}function o(e,r,t,o,l){if((0,i.Wi)(r)||!r.lengths.length)return null;var c="upperLeft"===(null===l||void 0===l?void 0:l.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);var d,f=e.coords,h=[],v=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],I=r.lengths,g=r.coords,p=a(t,o),y=0,N=(0,n.Z)(I);try{for(N.s();!(d=N.n()).done;){var _=d.value,m=u(v,g,y,_,t,o,c);m&&h.push(m),y+=_*p}}catch(F){N.e(F)}finally{N.f()}if(h.sort((function(e,r){var n=c*e[2]-c*r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),h.length){var T=6*h[0][2];f[0]=h[0][0]/T,f[1]=h[0][1]/T,t&&(T=6*h[0][4],f[2]=0!==T?h[0][3]/T:0),(f[0]<v[0]||f[0]>v[1]||f[1]<v[2]||f[1]>v[3]||t&&(f[2]<v[4]||f[2]>v[5]))&&(f.length=0)}if(!f.length){var b=r.lengths[0]?s(g,0,I[0],t,o):null;if(!b)return null;f[0]=b[0],f[1]=b[1],t&&b.length>2&&(f[2]=b[2])}return e}function u(e,r,t,n,i,o){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=a(i,o),l=t,c=t+s,d=0,f=0,h=0,v=0,I=0,g=0,p=n-1;g<p;g++,l+=s,c+=s){var y=r[l],N=r[l+1],_=r[l+2],m=r[c],T=r[c+1],b=r[c+2],F=y*T-m*N;v+=F,d+=(y+m)*F,f+=(N+T)*F,i&&(h+=(_+b)*(F=y*b-m*_),I+=F),y<e[0]&&(e[0]=y),y>e[1]&&(e[1]=y),N<e[2]&&(e[2]=N),N>e[3]&&(e[3]=N),i&&(_<e[4]&&(e[4]=_),_>e[5]&&(e[5]=_))}if(v*u>0&&(v*=-1),I*u>0&&(I*=-1),!v)return null;var E=[d,f,.5*v];return i&&(E[3]=h,E[4]=.5*I),E}function s(e,r,t,n,i){for(var o=a(n,i),u=r,s=r+o,h=0,v=0,I=0,g=0,p=0,y=t-1;p<y;p++,u+=o,s+=o){var N=e[u],_=e[u+1],m=e[u+2],T=e[s],b=e[s+1],F=e[s+2],E=n?c(N,_,m,T,b,F):l(N,_,T,b);if(E)if(h+=E,n){var V=f(N,_,m,T,b,F);v+=E*V[0],I+=E*V[1],g+=E*V[2]}else{var O=d(N,_,T,b);v+=E*O[0],I+=E*O[1]}}return h>0?n?[v/h,I/h,g/h]:[v/h,I/h]:t>0?n?[e[r],e[r+1],e[r+2]]:[e[r],e[r+1]]:null}function l(e,r,t,n){var i=t-e,a=n-r;return Math.sqrt(i*i+a*a)}function c(e,r,t,n,i,a){var o=n-e,u=i-r,s=a-t;return Math.sqrt(o*o+u*u+s*s)}function d(e,r,t,n){return[e+.5*(t-e),r+.5*(n-r)]}function f(e,r,t,n,i,a){return[e+.5*(n-e),r+.5*(i-r),t+.5*(a-t)]}},10983:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var n=t(15671),i=t(43144),a=t(11752),o=t(61120),u=t(60136),s=t(29388),l=t(27366),c=t(52639),d=t(92026),f=t(94172),h=t(49861),v=(t(63780),t(93169),t(25243),t(69912)),I=t(8444),g=t(26279),p=t(42069),y=t(58890),N=t(67581),_=function(e){(0,u.Z)(t,e);var r=(0,s.Z)(t);function t(){var e;return(0,n.Z)(this,t),(e=r.apply(this,arguments)).type="integrated-mesh-3d",e.lodFactor=1,e._elevationContext="im",e._isIntegratedMesh=!0,e._supportsLabeling=!1,e.drapeTargetType=g.a.WithoutRasterImage,e}return(0,i.Z)(t,[{key:"progressiveLoadFactor",get:function(){return this.lodFactor>=1?.2:1}},{key:"initialize",value:function(){var e=this;this.updatingHandles.add((function(){return e.layer.modifications}),(function(){return e._loadModifications()}),f.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}},{key:"destroy",value:function(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}},{key:"_createLayerGraphic",value:function(){var e=new c.Z;return e.layer=this.layer,e.sourceLayer=this.layer,e}},{key:"canResume",value:function(){return(0,a.Z)((0,o.Z)(t.prototype),"canResume",this).call(this)&&(!this._controller||this._controller.rootNodeVisible)}},{key:"_loadModifications",value:function(){var e=this;if(this.handles.remove("modifications"),(0,d.Wi)(this.layer.modifications))this._modifications=[];else{var r=this.layer.modifications;this.handles.add(this.updatingHandles.addOnCollectionChange((function(){return r}),(function(){return e._modifications=r.toArray()}),f.nn),"modifications")}}}]),t}((0,I.N)((0,p.A)(N.Z)));(0,l._)([(0,h.Cb)()],_.prototype,"layer",void 0),(0,l._)([(0,h.Cb)({aliasOf:"layer"})],_.prototype,"i3slayer",void 0),(0,l._)([(0,h.Cb)(y.q)],_.prototype,"updatingProgress",void 0),(0,l._)([(0,h.Cb)({readOnly:!0,aliasOf:"_controller.updatingProgress"})],_.prototype,"updatingProgressValue",void 0),(0,l._)([(0,h.Cb)({readOnly:!0,aliasOf:"view.qualitySettings.sceneService.integratedMesh.lodFactor"})],_.prototype,"lodFactor",void 0),(0,l._)([(0,h.Cb)({readOnly:!0})],_.prototype,"progressiveLoadFactor",null);var m=_=(0,l._)([(0,v.j)("esri.views.3d.layers.SceneLayerView3D")],_)}}]);
//# sourceMappingURL=483.6ddc4b63.chunk.js.map