{"version":3,"file":"static/js/7658.3983a12e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/core/AsyncSequence.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),g.prune(),M.prune(),X.prune(),Y.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this._toBBox;if(p(t,n))for(g.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):f(t,a)?this._all(h,i):g.push(h))}n=g.pop()}}collides(t){let i=this.data;const n=this._toBBox;if(!p(t,i))return!1;for(g.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||f(t,h))return!0;g.push(s)}}i=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this._toBBox(i);for(X.clear(),Y.clear();s||X.length>0;){if(s||(s=n(X.pop()),h=X.data[X.length-1],a=Y.pop()??0,r=!0),s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),X.push(s),this._condense(X),this;r||s.leaf||!f(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(X.push(s),Y.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(M.clear();n;){if(!0===n.leaf)for(const t of n.children)i(t);else M.pushArray(n.children);n=M.pop()??null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this._toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));_(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);_(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this._toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=u(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this._toBBox,s=n?t:e(t);X.clear();const h=this._chooseSubtree(s,this.data,i,X);for(h.children.push(t),o(h,s);i>=0&&X.data[i].children.length>this._maxEntries;)this._split(X,i),i--;this._adjustParentBBoxes(s,X,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this._toBBox),a(o,this._toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this._toBBox),o=r(t,a,n,this._toBBox),l=x(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this._toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=d(h)+d(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=d(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=d(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function x(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function f(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function _(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const g=new e,M=new e,X=new e,Y=new e({deallocator:void 0});class B{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends B{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{B as BBox,h as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport i from\"../../../core/has.js\";import{PooledRBush as s}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as d}from\"../../../geometry/support/aaBoundingRect.js\";const n=5e4,t={minX:0,minY:0,maxX:0,maxY:0};function e(i){t.minX=i[0],t.minY=i[1],t.maxX=i[2],t.maxY=i[3]}function o(i,s,d){e(s),i.search(t,d)}class h{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new s(9,i(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=d();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),o(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>n&&this._loadIndex()))}}export{h as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import t from\"../../../core/Evented.js\";import r from\"../../../core/Logger.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import{fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";class u{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new t,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{s(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(i(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}toArray(){return Array.from(this._featuresById.values())}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(t){if(!t)return;const i=t.objectId;if(null==i)return void r.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new e(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:t}));const n=this._featuresById.get(i);let h;if(this._markedIds.add(i),n?(t.displayId=n.displayId,h=this._boundsStore.get(i),this._boundsStore.delete(i)):s(this.onFeatureAdd)&&this.onFeatureAdd(t),o(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,t);h=a(s(h)?h:d(),t.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),s(h)&&this._boundsStore.set(i,h),this._featuresById.set(i,t)}_remove(e){return s(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getCentroidOptimizedGeometry as e}from\"../centroid.js\";import{OptimizedFeature as r}from\"../OptimizedFeature.js\";import o from\"../OptimizedGeometry.js\";const i={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new r(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(r,i)=>(t(r.centroid)&&(r.centroid=e(new o,r.geometry,i.hasZ,i.hasM)),r.centroid)};export{i as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.updating=!1,this.pending=[]}push(s,t){this.pending.push({promise:s,callback:t}),1===this.pending.length&&this._process()}_process(){if(!this.pending.length)return void(this.updating=!1);this.updating=!0;const s=this.pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this.pending.shift(),this._process()}))}};s([e()],r.prototype,\"updating\",void 0),r=s([i(\"esri.core.AsyncSequence\")],r);export{r as AsyncSequence};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as t}from\"../../../../../core/asyncUtils.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import{createTask as s}from\"../../../../../core/promiseUtils.js\";import{create as a,fromExtent as r,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class o{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this.featureCount,state:this.stateToString}}get featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get stateToString(){switch(this.state.type){case u.CREATED:return\"created\";case u.FETCH_COUNT:return\"fetch-count\";case u.FETCHED_COUNT:return\"fetched-count\";case u.FETCH_FEATURES:return\"fetch-features\";case u.FETCHED_FEATURES:return\"fetched-features\";case u.DONE:return\"done\"}}_gotoFetchCount(e,a){return{type:u.FETCH_COUNT,previous:e,task:s((async e=>{const s=await t(a.fetchCount(this,e));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(e,a){return{type:u.FETCH_FEATURES,previous:e,task:s((async s=>{const r=await t(a.fetchFeatures(this,e.featureCount,s));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,r.ok?r.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return!(!e(t)&&this.data.extent)||(r(t,T),E(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(u||(u={}));const T=a();export{o as PendingFeatureTile,u as StateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{equals as t}from\"../../../../../core/arrayUtils.js\";import{AsyncSequence as i}from\"../../../../../core/AsyncSequence.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";import{makeHandle as r}from\"../../../../../core/handleUtils.js\";import o from\"../../../../../core/Logger.js\";import{isSome as n,isNone as a,unwrap as l}from\"../../../../../core/maybe.js\";import{createTask as u,throwIfAbortError as c}from\"../../../../../core/promiseUtils.js\";import{sync as d}from\"../../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../../../geometry/Extent.js\";import{toExtent as y}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as g,convertFromFeatureSet as m}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as _}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as F}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as b,executeQueryPBF as T,executeQuery as P}from\"../../../../../rest/query/operations/query.js\";import v from\"../../../../../rest/support/Query.js\";import{StateType as I,PendingFeatureTile as O}from\"./PendingFeatureTile.js\";const S=o.getLogger(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\");let C=class extends s{constructor(e){super(e),this.tilesOfInterest=[],this.availability=0,this.pendingTiles=new Map,this.pendingEdits=new i,this.pendingEditsAbortController=new AbortController}get minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(n(e)&&n(t)&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this.updatingHandles.updating||this.pendingEdits.updating}initialize(){this._initializeFetchExtent(),this.updatingHandles.add((()=>this.configuration),(()=>this.refresh())),this.updatingHandles.add((()=>this.tilesOfInterest),((e,i)=>{t(e,i,(({id:e},{id:t})=>e===t))||this._process()}),d)}destroy(){this.pendingTiles.forEach((e=>this._deletePendingTile(e))),this.pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this.pendingEditsAbortController.abort(),this.pendingEditsAbortController=null}refresh(){this.store.refresh(),this.pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}applyEdits(e){this.pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this.pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))};await this.updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),this.pendingEditsAbortController.signal)),this._processPendingTiles()}))}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!_(this.url))return;const e=u((async e=>{try{const t=await b(this.url,new v({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:!!this.capabilities.query.supportsCacheHint||void 0}),{query:this.configuration.customParameters,signal:e});this.store.extent=f.fromJSON(t.data?.extent)}catch(t){c(t),S.warn(\"Failed to fetch data extent\",t)}}));this.updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.handles.add(r((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this.pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const[,e]of this.pendingTiles)e.alive=!1}_createPendingTiles(){const e=this._collectMissingTilesInfo();if(this._setAvailability(a(e)?1:e.coveredArea/e.fullArea),!a(e))for(const{data:t,resolution:i}of e.missingTiles){const e=this.pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this._verifyTileComplexity(e,t)));a(e)?e=s:e.prepend(s)}return e}_deletePendingTiles(){for(const[,e]of this.pendingTiles)e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const[,t]of this.pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this.updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this.minimumVerticesPerFeature<E}_verifyFeatureDensity(e,t){if(a(this.tileInfo))return!1;const i=this.tileSize*t;return e*(w/(i*i))<q}_ensureFetchAllCounts(e){let t=!0;for(const[,i]of this.pendingTiles)i.state.type<I.FETCHED_COUNT&&this.updatingHandles.addPromise(i.process(e)),i.state.type<=I.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(a(e)?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new O(e,t);return this.pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this.pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:x,signal:t})}async _fetchFeatures(e,t,i){let s,r=0,o=0,n=t;for(;;){const a=this._createFeaturesQuery(e),u=this._setPagingParameters(a,r,n),{features:c,exceededTransferLimit:d}=await this._queryFeatures(a,i);if(u&&(r+=l(a.num)),o+=c.length,s=s?s.concat(c):c,n=t-o,!u||!d||n<=0)return s}}_filterProperties(e){return a(e)?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(a(t))throw new Error(\"Expected globalIdField to be defined\");let s=null;if(this.store.featureStore.forEach((r=>{e===r.attributes[t]&&(s=r.objectId??r.attributes[i])})),a(s))throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery(null);return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await T(this.url,e,new F({sourceSpatialReference:i}),{query:this.configuration.customParameters,timeout:x,signal:t});return g(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await P(this.url,e,i,{query:this.configuration.customParameters,timeout:x,signal:t});return m(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e){const t=this._createBaseQuery(e);return t.outFields=this.globalIdField?[this.globalIdField,this.objectIdField]:[this.objectIdField],t.returnGeometry=!0,n(e)&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new v({returnZ:!1,returnM:!1,geometry:n(this.tileInfo)&&n(e)?y(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this.configuration.filter;return n(i)&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:o,maxRecordCount:n,supportsResultType:a}=this.capabilities.query,l=s?v.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&o?o:n||j);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([h({constructOnly:!0})],C.prototype,\"url\",void 0),e([h({constructOnly:!0})],C.prototype,\"objectIdField\",void 0),e([h({constructOnly:!0})],C.prototype,\"globalIdField\",void 0),e([h({constructOnly:!0})],C.prototype,\"capabilities\",void 0),e([h({constructOnly:!0})],C.prototype,\"sourceSpatialReference\",void 0),e([h({constructOnly:!0})],C.prototype,\"spatialReference\",void 0),e([h({constructOnly:!0})],C.prototype,\"store\",void 0),e([h({readOnly:!0})],C.prototype,\"minimumVerticesPerFeature\",null),e([h()],C.prototype,\"filter\",null),e([h()],C.prototype,\"customParameters\",null),e([h({readOnly:!0})],C.prototype,\"configuration\",null),e([h()],C.prototype,\"tileInfo\",null),e([h()],C.prototype,\"tileSize\",null),e([h()],C.prototype,\"tilesOfInterest\",void 0),e([h({readOnly:!0})],C.prototype,\"updating\",null),e([h({readOnly:!0})],C.prototype,\"availability\",void 0),C=e([p(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],C);const j=2e3,x=6e5,E=1e6,w=25,q=1;export{C as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(this._byteSize-=e.byteSize,!0)}get(t){return this._used(t),this._store.get(t)}has(t){return this._used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}_used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{ByteSizeUnit as s,estimateAttributesObjectSize as i,estimateFixedArraySize as r}from\"../../../../../core/byteSizeEstimations.js\";import{isNone as o,isSome as n}from\"../../../../../core/maybe.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as c,intersects as h,fromExtent as u,area as d}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as f}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as p}from\"../../../../../layers/graphics/data/BoundsStore.js\";import m from\"../../../../../layers/support/TileInfo.js\";import{executeQueryForCount as g}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as _}from\"./FeatureServiceTileCache.js\";let v=class extends t{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*s.MEGABYTES,this.tileBounds=new p,this.tiles=new _,this.refCounts=new Map,this.tileFeatureCounts=new Map,this.tmpBoundingRect=c()}add(e,t){const s=[];for(const i of t)this._referenceFeature(i.objectId)===w.ADDED&&s.push(i);this._addTileStorage(e,new Set(t.map((({objectId:e})=>e))),y(t)),this.featureStore.addMany(s),this.tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this._removeTileStorage(e)))}destroy(){this.clear(),this.tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this.tileBounds.clear(),this.tiles.clear(),this.refCounts.clear()}refresh(){this.clear(),this.tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s){this.tiles.set(e.id,new S(e,t,s)),this.tileBounds.set(e.id,e.extent),this.tileFeatureCounts.set(e.id,t.size)}_remove({id:e}){const t=this.tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===w.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this.tiles.delete(s),this.tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this.tiles){for(const s of e)t.objectIds.delete(s);this.tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this.refCounts.delete(t)}async _processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:n}=this.featureStore;for(const l of i){const e=f(this.tmpBoundingRect,l.geometry,r,n);o(e)||this.tileBounds.forEachInBounds(e,(e=>{const t=this.tiles.get(e);this.featureStore.add(l),t.objectIds.has(l.objectId)||(t.objectIds.add(l.objectId),this._referenceFeature(l.objectId),this.tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0)){if(o(this.tileInfo)||!e.extent||n(this.extent)&&!h(u(this.extent,this.tmpBoundingRect),e.extent))return new I(e);if(this.tiles.has(e.id))return new I(e);const s=this._createTileTree(e,this.tileInfo);return this._simplify(s,t,null,0,1),this._collectMissingTiles(e,s,this.tileInfo)}get debugInfo(){return Array.from(this.tiles.values()).map((({data:e})=>({data:e,featureCount:this.tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this.tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this.tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await g(t,s,i);return this.tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new T(e.level,e.row,e.col);return t.updateTileInfo(s,m.ExtrapolateOptions.POWER_OF_TWO),this.tileBounds.forEachInBounds(e.extent,(i=>{const r=this.tiles.get(i).data;this._tilesAreRelated(e,r)&&this._populateChildren(s,r,t,this.tileFeatureCounts.get(r.id)||0)})),s}_tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,l=t.col>>r,a=e.row<<1,c=l-(e.col<<1)+(o-a<<1),h=e.children[c];if(n(h))this._populateChildren(h,t,s,i);else{const r=new T(e.level+1,o,l);s.updateTileInfo(r,m.ExtrapolateOptions.POWER_OF_TWO),e.children[c]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),n(s)&&(s.children[i]=null),o);const l=r/2,a=l*l;let c=0;for(let h=0;h<e.children.length;h++){const s=e.children[h];c+=n(s)?this._simplify(s,t,e,h,l):a}return 0===c?this._mergeChildren(e):1-c/o<F&&(this._purge(e),n(s)&&(s.children[i]=null),c=o),c}_mergeChildren(e){const t=new Set;let s=0;this._forEachLeaf(e,(e=>{const i=this.tiles.get(e.id);if(i){s+=i.byteSize;for(const e of i.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,s),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this.tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)o(s)||(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(!o(e))if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s){const i=new j(s,e,this.extent);return this._collectMissingTilesRecurse(t,i,1),i.info}_collectMissingTilesRecurse(e,t,s){if(e.isLeaf)return;if(!e.hasChildren)return void t.addMissing(e.level,e.row,e.col,s);const i=s/2;for(let r=0;r<e.children.length;r++){const s=e.children[r];o(s)?t.addMissing(e.level+1,(e.row<<1)+((2&r)>>1),(e.col<<1)+(1&r),i):this._collectMissingTilesRecurse(s,t,i)}}_referenceFeature(e){const t=(this.refCounts.get(e)||0)+1;return this.refCounts.set(e,t),1===t?w.ADDED:w.UNCHANGED}_unreferenceFeature(e){const t=(this.refCounts.get(e)||0)-1;return 0===t?(this.refCounts.delete(e),w.REMOVED):(t>0&&this.refCounts.set(e,t),w.UNCHANGED)}get test(){return{tiles:Array.from(this.tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this.refCounts.keys()).map((e=>`${e}:${this.refCounts.get(e)}`))}}};function y(e){return e.reduce(((e,t)=>e+C(t)),0)}function C(e){return 32+E(e.geometry)+i(e.attributes)}function E(e){if(o(e))return 0;const t=r(e.lengths,4);return 32+r(e.coords,8)+t}e([l({constructOnly:!0})],v.prototype,\"featureStore\",void 0),e([l()],v.prototype,\"tileInfo\",void 0),e([l()],v.prototype,\"extent\",void 0),e([l()],v.prototype,\"maximumByteSize\",void 0),v=e([a(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],v);class S{constructor(e,t,s){this.data=e,this.objectIds=t,this.byteSize=s}}class T{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(n(this.children[0])||n(this.children[1])||n(this.children[2])||n(this.children[3]))}}class I{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=d(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class j{constructor(e,t,s){this.tileInfo=e,this.extent=null,this.info=new I(t),n(s)&&(this.extent=u(s))}addMissing(e,t,s,i){const r={id:null,level:e,row:t,col:s};this.tileInfo.updateTileInfo(r,m.ExtrapolateOptions.POWER_OF_TWO),o(r.extent)||n(this.extent)&&!h(this.extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=d(r.extent))}}const F=.18751;var w;!function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\",e[e.UNCHANGED=2]=\"UNCHANGED\"}(w||(w={}));export{v as FeatureServiceTileStore,I as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{isSome as r}from\"../../../../../core/maybe.js\";import{createDeferred as s,throwIfAborted as a}from\"../../../../../core/promiseUtils.js\";import{watch as n,whenOnce as o,sync as p}from\"../../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as c}from\"../../../../../core/support/WatchUpdatingTracking.js\";import d from\"../../../../../geometry/SpatialReference.js\";import h from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as f}from\"../../../../../layers/graphics/data/QueryEngine.js\";import m from\"../../../../../layers/support/TileInfo.js\";import g from\"../../../../../layers/support/TimeInfo.js\";import y from\"../../../../../rest/support/Query.js\";import{FeatureServiceTiledFetcher as S}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as F}from\"./FeatureServiceTileStore.js\";let I=class extends t.EventedAccessor{constructor(){super(...arguments),this.isInitializing=!0,this.whenSetup=s(),this.handles=new i,this.updatingHandles=new c,this.pendingApplyEdits=new Map}get updating(){return this.featureFetcher.updating||this.isInitializing||this.updatingHandles.updating}destroy(){this.featureFetcher.destroy(),this.queryEngine.destroy(),this.featureStore.clear(),this.handles.destroy()}async setup(e){const{geometryType:t,objectIdField:i,timeInfo:r,fields:s}=e.serviceInfo;return this.featureStore=new h({...e.serviceInfo,hasZ:!1,hasM:!1}),this.queryEngine=new f({spatialReference:e.spatialReference,featureStore:this.featureStore,geometryType:t,fields:s,hasZ:!1,hasM:!1,objectIdField:i,timeInfo:r?g.fromJSON(r):null}),this.featureFetcher=new S({store:new F({featureStore:this.featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:d.fromJSON(e.spatialReference),sourceSpatialReference:d.fromJSON(e.serviceInfo.spatialReference)}),this.handles.add([n((()=>this.featureFetcher.availability),(e=>this.emit(\"notify-availability\",{availability:e})),p),n((()=>this.updating),(()=>this._notifyUpdating()))]),this.whenSetup.resolve(),this.isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this.updatingHandles.addPromise(this.whenSetup.promise),this._updateFeatureFetcherConfiguration(e),{result:{}}}async fetchCandidates(e,t){await this.whenSetup.promise,a(t);return{result:await this.queryEngine.executeQueryForSnapping({point:e.point,distance:e.distance,types:e.types,query:r(e.filter)?e.filter:{where:\"1=1\"}},r(t)?t.signal:null)}}async updateTiles(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),this.featureFetcher.tileSize=e.tileSize,this.featureFetcher.tilesOfInterest=e.tiles,this.featureFetcher.tileInfo=r(e.tileInfo)?m.fromJSON(e.tileInfo):null,{result:{}}}async refresh(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),this.featureFetcher.refresh(),{result:{}}}async whenNotUpdating(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),a(t),await o((()=>!this.updating),t),a(t),{result:{}}}async getDebugInfo(e,t){return a(t),{result:this.featureFetcher.debugInfo}}async beginApplyEdits(e,t){this.updatingHandles.addPromise(this.whenSetup.promise),a(t);const i=s();return this.pendingApplyEdits.set(e.id,i),this.featureFetcher.applyEdits(i.promise),this.updatingHandles.addPromise(i.promise),{result:{}}}async endApplyEdits(e,t){const i=this.pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),a(t),{result:{}}}_updateFeatureFetcherConfiguration(e){this.featureFetcher.filter=r(e.filter)?y.fromJSON(e.filter):null,this.featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};function w(){return new I}e([u({readOnly:!0})],I.prototype,\"updating\",null),e([u()],I.prototype,\"isInitializing\",void 0),I=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],I);export{I as FeatureServiceSnappingSourceWorker,w as default};\n"],"names":["h","t","i","this","compareMinX","l","compareMinY","c","_toBBox","_maxEntries","Math","max","_minEntries","ceil","_initFormat","clear","g","prune","M","X","Y","_all","data","n","e","p","s","children","length","a","leaf","f","push","pop","insert","_build","slice","height","_splitRoot","_insert","b","r","o","indexHint","splice","_condense","pushArray","log","j","sqrt","_","min","m","u","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","x","_allDistMargin","sort","d","Function","join","minX","minY","maxX","maxY","deallocator","w","arguments","B","search","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","Array","size","forEach","load","filter","has","values","get","delete","remove","set","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","geometryType","hasM","hasZ","fullBounds","geometry","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","objectId","from","forEachInBounds","emit","add","displayId","onFeatureAdd","error","feature","onFeatureRemove","getObjectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","centroid","updating","pending","promise","callback","_process","then","catch","shift","prototype","resolution","state","type","CREATED","alive","_gotoFetchCount","task","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","DONE","stateToString","previous","features","fetchCount","_gotoFetchedCount","ok","value","fetchFeatures","_gotoFetchedFeatures","finish","abort","extent","T","E","S","C","tilesOfInterest","availability","pendingTiles","pendingEdits","pendingEditsAbortController","AbortController","store","featureStore","_get","_filterProperties","JSON","stringify","_set","customParameters","tileInfo","tileSize","updatingHandles","_initializeFetchExtent","configuration","refresh","id","_deletePendingTile","destroy","addedFeatures","updatedFeatures","deletedFeatures","reset","map","globalId","_lookupObjectIdByGlobalId","addPromise","processEdits","_queryFeaturesById","signal","_processPendingTiles","capabilities","query","supportsExtent","url","v","where","outSpatialReference","spatialReference","cacheHint","supportsCacheHint","warn","handles","numberOfFeatures","numFeatures","debugInfo","storedTiles","_markTilesNotAlive","_createPendingTiles","_deletePendingTiles","_collectMissingTilesInfo","_setAvailability","coveredArea","fullArea","missingTiles","_createPendingTile","process","_verifyTileComplexity","prepend","_fetchCount","_fetchFeatures","_finishPendingTile","_ensureFetchAllCounts","getFeatureCount","_verifyVertexComplexity","_verifyFeatureDensity","minimumVerticesPerFeature","q","I","_updateAvailability","O","_createCountQuery","timeout","_createFeaturesQuery","_setPagingParameters","_queryFeatures","exceededTransferLimit","num","concat","gdbVersion","timeExtent","globalIdField","objectIdField","Error","objectIds","supportsFormatPBF","_queryFeaturesPBF","_queryFeaturesJSON","sourceSpatialReference","F","P","_createBaseQuery","outFields","returnGeometry","supportsResultType","resultType","returnZ","returnM","y","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","start","maxRecordCountFactor","constructOnly","readOnly","_store","_byteSize","byteSize","_used","Symbol","iterator","maximumByteSize","tileBounds","tiles","refCounts","tileFeatureCounts","tmpBoundingRect","_referenceFeature","ADDED","_addTileStorage","reduce","lengths","addMany","applyByteSizeLimit","_removeTileStorage","_processEditsDelete","_processEditsRefetch","_unreferenceFeature","REMOVED","removeManyById","_createTileTree","_simplify","_collectMissingTiles","count","level","row","col","updateTileInfo","_tilesAreRelated","_populateChildren","floor","isLeaf","_mergeChildren","_purge","_forEachLeaf","_collectMissingTilesRecurse","info","hasChildren","addMissing","UNCHANGED","featureReferences","keys","isInitializing","whenSetup","pendingApplyEdits","featureFetcher","queryEngine","serviceInfo","timeInfo","fields","_notifyUpdating","resolve","configure","_updateFeatureFetcherConfiguration","result","executeQueryForSnapping","point","distance","types","applyEdits","edits"],"sourceRoot":""}