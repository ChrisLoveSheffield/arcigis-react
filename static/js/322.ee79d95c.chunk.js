"use strict";(self.webpackChunkuums_front_end=self.webpackChunkuums_front_end||[]).push([[322],{80322:function(e,t,l){l.r(t),l.d(t,{I3STreeDebugger:function(){return g}});var n=l(15671),r=l(43144),i=l(60136),s=l(29388),o=l(27366),a=(l(59486),l(92026)),u=l(49861),h=(l(63780),l(93169),l(25243),l(69912)),c=l(14226),p=l(81949),y=l(11186),b=l(71353),f=l(79803),v=l(87287),d=l(80885),g=function(e){(0,i.Z)(l,e);var t=(0,s.Z)(l);function l(e){return(0,n.Z)(this,l),t.call(this,e)}return(0,r.Z)(l,[{key:"getTiles",value:function(){var e=this.lv.getVisibleNodes(),t=this.view.renderSpatialReference,l=this.nodeSR;return e.map((function(e){return function(e,t,l){var n=e.serviceObb;if((0,a.Wi)(n)||(0,a.Wi)(t))return null;(0,c.k)(_,n.quaternion),(0,y.c)(m,n.center),(0,f.CM)(m,l,0,m,t,0,1),_[12]=m[0],_[13]=m[1],_[14]=m[2];var r=[[],[],[]];(0,y.c)(m,n.halfSize),(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[0].push([m[0],m[1]]),(0,y.c)(m,n.halfSize),m[0]=-m[0],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[0].push([m[0],m[1]]),(0,y.c)(m,n.halfSize),m[0]=-m[0],m[1]=-m[1],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[0].push([m[0],m[1]]),(0,y.c)(m,n.halfSize),m[1]=-m[1],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[0].push([m[0],m[1]]),r[1].push(r[0][0]),r[1].push(r[0][1]),(0,y.c)(m,n.halfSize),m[0]=-m[0],m[2]=-m[2],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[1].push([m[0],m[1]]),(0,y.c)(m,n.halfSize),m[2]=-m[2],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[1].push([m[0],m[1]]),r[2].push(r[0][0]),r[2].push(r[0][3]),(0,y.c)(m,n.halfSize),m[1]=-m[1],m[2]=-m[2],(0,y.m)(m,m,_),(0,f.CM)(m,t,0,m,l,0,1),r[2].push([m[0],m[1]]),r[2].push(r[1][3]);var i=new d.Z({rings:r,spatialReference:l});return{lij:[e.level,e.childCount,0],label:e.id,geometry:i}}(e,t,l)})).sort((function(e,t){return e.lij[0]===t.lij[0]?e.label>t.label?-1:1:e.lij[0]-t.lij[0]}))}}]),l}(v.q);(0,o._)([(0,u.Cb)({constructOnly:!0})],g.prototype,"lv",void 0),(0,o._)([(0,u.Cb)({constructOnly:!0})],g.prototype,"nodeSR",void 0),g=(0,o._)([(0,h.j)("esri.views.3d.layers.support.I3STreeDebugger")],g);var _=(0,p.c)(),m=(0,b.c)()},87287:function(e,t,l){l.d(t,{q:function(){return m}});var n=l(15671),r=l(43144),i=l(60136),s=l(29388),o=l(27366),a=l(51995),u=l(52639),h=l(85015),c=l(16889),p=l(92026),y=l(49861),b=(l(63780),l(93169),l(25243),l(69912)),f=l(62554),v=l(61459),d=l(58009),g=l(87037),_=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],m=function(e){(0,i.Z)(l,e);var t=(0,s.Z)(l);function l(e){var r;return(0,n.Z)(this,l),(r=t.call(this,e)).updating=!1,r.enablePolygons=!0,r.enableLabels=!0,r._polygons=new Map,r._labels=new Map,r._enabled=!0,r}return(0,r.Z)(l,[{key:"initialize",value:function(){this._symbols=_.map((function(e){return new v.Z({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}})})),this.update()}},{key:"destroy",value:function(){this._enabled=!1,this.clear()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.update())}},{key:"update",value:function(){var e=this;if(this._enabled){var t=this.getTiles(),l=new Array,n=new Set((this._labels.size,this._labels.keys()));t.forEach((function(r,i){var s=r.lij.toString();n.delete(s);var o=r.lij[0],h=r.geometry;if(e.enablePolygons&&!e._polygons.has(s)){var y=new u.Z({geometry:h,symbol:e._symbols[o%e._symbols.length]});e._polygons.set(s,y),l.push(y)}if(e.enableLabels){var b=function(e){if((0,p.pC)(e.label))return e.label;var t=e.lij.toString();return(0,p.pC)(e.loadPriority)&&(t+=" (".concat(e.loadPriority,")")),t}(r),v=i/(t.length-1),_=(0,c.t7)(0,200,v),m=(0,c.t7)(20,6,v)/.75,w=(0,p.pC)(r.loadPriority)&&r.loadPriority>=t.length,C=new a.Z([_,w?0:_,w?0:_]),S="3d"===e.view.type?function(){return new f.Z({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new g.Z({text:b,halo:{color:"white",size:1/.75},material:{color:C},size:m})]})}:function(){return new d.Z({text:b,haloColor:"white",haloSize:1/.75,color:C,size:m})};if(e._labels.has(s)){var Z=e._labels.get(s),k=S();((0,p.Wi)(Z.symbol)||JSON.stringify(k)!==JSON.stringify(Z.symbol))&&(Z.symbol=k)}else{var M=new u.Z({geometry:h.extent.center,symbol:S()});e._labels.set(s,M),l.push(M)}}}));var r=new Array;n.forEach((function(t){e._polygons.has(t)&&(r.push(e._polygons.get(t)),e._polygons.delete(t)),e._labels.has(t)&&(r.push(e._labels.get(t)),e._labels.delete(t))})),this.view.graphics.removeMany(r),this.view.graphics.addMany(l)}else this.clear()}},{key:"clear",value:function(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}}]),l}(h.Z);(0,o._)([(0,y.Cb)({constructOnly:!0})],m.prototype,"view",void 0),(0,o._)([(0,y.Cb)({readOnly:!0})],m.prototype,"updating",void 0),(0,o._)([(0,y.Cb)()],m.prototype,"enabled",null),m=(0,o._)([(0,b.j)("esri.views.support.TileTreeDebugger")],m)}}]);
//# sourceMappingURL=322.ee79d95c.chunk.js.map