{"version":3,"file":"static/js/4527.0a2f0f93.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:l}}},read:!1}};function l(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t}))})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(p)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=p,r.readSublayers=l,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as a}from\"../support/symbolColorUtils.js\";var l;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(l||(l={}));const t=.15,i=.5*t;function c(e){switch(e.filterMode.type){case\"solid\":return{mode:l.Solid};case\"wire-frame\":return{mode:l.WireFrame,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:l.XRay}}}function s(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case l.Solid:return;case l.WireFrame:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case l.XRay:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=t,r.colorMixMode=a.Replace,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=d(r.edgeMaterial))}}function d(r){return e(r)?null:(u.lastMaterial!==r&&(u.cachedMaterial=n(r),u.lastMaterial=r),u.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=i,{...e,color:o}}const u={cachedMaterial:null,lastMaterial:null};export{l as FilterModeEnum,s as applyFilterMode,c as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!0===this.get(\"sublayer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{applySome as s,isSome as l,isNone as o}from\"../../../core/maybe.js\";import{initial as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as d}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import p from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as h,populateMissingFields as c}from\"../../../layers/support/fieldUtils.js\";import f from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as m}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as g}from\"./I3SMeshView3D.js\";import{ForAllFeaturesReturnType as F,ForAllFeaturesVisibilityMode as b}from\"./II3SMeshView3D.js\";import{applyFilterMode as _}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as E}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as w}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as x}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as S}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as j}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as v,getIndexCrs as I}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as Q}from\"./support/DefinitionExpressionSceneLayerView.js\";import q from\"../../layers/BuildingComponentSublayerView.js\";import{getRequiredFields as L,getFetchPopupTemplate as A}from\"../../layers/support/popupUtils.js\";import{TaskPriority as R}from\"../../support/Scheduler.js\";const O=i.getLogger(\"esri.views.3d.layers.BuildingComponentSublayerView3D\");let C=class extends(Q(g(m(q)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.lodFactor=1,this.progressiveLoadFactor=1,this._queryEngine=null}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}initialize(){this.updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields]),(()=>this._updateRequiredFields())),this.updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),n),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this.filter,s(this._filter,(({parsedWhereClause:e,parsedGeometry:r,sortedObjectIds:t})=>[e,r,t]))]),(()=>this._filterChange())),this.updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),n),this.addResolvingPromise(this._updateRequiredFields())}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=d.create(e,this.sublayer.fieldsIndex)}catch(l){return O.error(\"Failed to parse filterExpression: \"+l),null}if(!t.isStandardized)return O.error(\"filterExpression is using non standard function\"),null;const i=[],s=t.fieldNames;return v(s,this.sublayer.fields,{missingFields:i}),i.length>0?(O.error(`filterExpression references unknown fields: ${i.join(\", \")}`),null):[t,r]})).filter((e=>null!=e))}get filter(){return l(this._filter)?this._filter.viewFilter:null}set filter(e){!o(e)&&w.checkSupport(e)?l(this._filter)?this._filter.viewFilter=e:this._filter=new w({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this._filter=null}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return _(t,l)}catch(i){this.logError(i)}return _(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),[]))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...h(r,i),...t]}return y(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(o(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const i=[],s=[],n=l(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,a=h(this.sublayer.fieldsIndex,await L(n,A(this.sublayer,r))),u=new Set;for(const l of r.clientGraphics)c(a,l,u)?s.push(l):i.push(l);return 0===s.length?i:(l(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>O.warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(s,Array.from(u)).catch((()=>s)).then((e=>i.concat(e))))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?A(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),l(this._filter)&&this._filter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return l(this.filter)?this.filter.createQuery(e):new f(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)}_ensureQueryEngine(){return o(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=E(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new x({layerView:this,priority:R.FEATURE_QUERY_ENGINE,spatialIndex:new j({featureAdapter:new S({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),toArray:()=>{const e=new Array;return this._forAllFeatures(((r,t,i)=>(e.push({id:r,index:t,meta:i}),F.CONTINUE)),null,b.ALL_IN_CLIPPING_AREA),e},forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,b.ALL_IN_CLIPPING_AREA),getFeatureExtent:e,sourceSpatialReference:I(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():f.from(e))}};e([a({aliasOf:\"sublayer\"})],C.prototype,\"i3slayer\",void 0),e([a()],C.prototype,\"layerView\",void 0),e([a()],C.prototype,\"suspended\",void 0),e([a({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],C.prototype,\"lodFactor\",void 0),e([a({readOnly:!0})],C.prototype,\"parsedFilterExpressions\",null),e([a({type:p})],C.prototype,\"filter\",null),e([a()],C.prototype,\"_filter\",void 0),e([a({type:[String],readOnly:!0})],C.prototype,\"filterExpressionFields\",null),e([a({type:[String],readOnly:!0})],C.prototype,\"requiredFields\",void 0),e([a({type:[String],readOnly:!0})],C.prototype,\"availableFields\",null),C=e([u(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],C);const V=C;export{V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import o from\"./LayerView.js\";class s extends o{constructor(){super(...arguments),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([e()],s.prototype,\"layer\",void 0),r([e()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{handlesGroup as i}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{isNone as n}from\"../../../core/maybe.js\";import{isAbortError as l}from\"../../../core/promiseUtils.js\";import{watch as a,syncAndInitial as u}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import y from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as h}from\"./BuildingSublayerView3D.js\";import{LayerView3D as d}from\"./LayerView3D.js\";import{parseFilterMode as g}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as m}from\"./i3s/I3SUtil.js\";import{updatingProgress as f}from\"../support/updatingProperties.js\";import b from\"../../layers/BuildingSceneLayerView.js\";const w=o.getLogger(\"esri.views.3d.layers.BuildingSceneLayerView3D\"),V=h(s);let j=class extends(d(b)){constructor(){super(...arguments),this.type=\"building-scene-3d\",this.sublayerViews=new t,this._abortController=new AbortController,this._loadingComponents=0}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,s=null!=r?r.filterBlocks.find((e=>\"solid\"===e.filterMode.type)):null;return s?s.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression,g(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){m(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController.abort(),this._abortController=null}_initializeSubLayerViews(e,r){const s=this,t=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const s=new V({sublayer:e,view:t,parent:r});this._initializeSubLayerViews(e.sublayers,s)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const i=new y({sublayer:e,layerView:s,view:t,parent:r});this.sublayerViews.push(i),this.handles.add([a((()=>i.updating),(()=>this.notifyChange(\"updating\")),u),a((()=>i.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),u)])})).catch((r=>{l(r)||w.error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeatures(e,r){if(n(r)||!r.clientGraphics||0===r.clientGraphics.length)return;const s=this._findComponent(r.clientGraphics[0].sourceLayer);return n(s)?void 0:s.fetchPopupFeatures(e,r)}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return n(r)?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getAABBFromIntersectorTarget(e);return null}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof t&&(e=e.toArray());const s=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,t=new Map;for(const e of r){let r=t.get(e.sourceLayer);null==r&&(r=[],t.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=t.get(e.sublayer);r&&s.push(e.highlight(r))}))}return i(s)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([p()],j.prototype,\"sublayerViews\",void 0),e([p({readOnly:!0})],j.prototype,\"filterExpression\",null),e([p({readOnly:!0})],j.prototype,\"filterExpressions\",null),e([p(f)],j.prototype,\"updatingProgress\",void 0),e([p({readOnly:!0,dependsOn:[]})],j.prototype,\"updatingProgressValue\",null),j=e([c(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],j);const C=j;export{C as default};\n"],"names":["a","p","type","e","readOnly","json","origins","service","read","source","reader","l","r","o","t","Array","isArray","map","layerType","c","n","y","messages","push","s","definition","context","listMode","sublayers","this","forEachSublayer","u","write","prototype","i","sublayersProperty","readSublayers","forEach","d","Math","floor","rootIndex","nodesPerPage","query","f","token","responseType","signal","data","lodSelectionMetricType","rootPage","pageSize","lodMetric","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","sublayer","parent","view","canResume","suspended","isUpdating","get","_override","_clearOverride","visible","Boolean","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","pickable","colorMixMode","castShadows","lastMaterial","cachedMaterial","arguments","Error","O","C","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","lodFactor","progressiveLoadFactor","_queryEngine","layer","uid","updatingHandles","add","renderer","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","parsedDefinitionExpression","filter","_filter","parsedWhereClause","parsedGeometry","sortedObjectIds","_filterChange","parsedFilterExpressions","_updateSymbologyOverride","addResolvingPromise","modelName","filterExpressions","fieldsIndex","error","isStandardized","fieldNames","v","fields","missingFields","length","join","viewFilter","w","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","logError","_setSymbologyOverride","testFeature","_","reduce","concat","requiredFields","outFields","h","sourceLayer","_controller","rootNodeVisible","_validateFetchPopupFeatures","clientGraphics","associatedLayer","load","L","A","Set","catch","whenGraphicAttributes","from","then","getRequiredFields","_set","popupEnabled","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","createQuery","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","E","renderSpatialReference","x","priority","R","spatialIndex","j","featureAdapter","S","objectIdField","attributeStorageInfo","getFeatureExtent","toArray","_forAllFeatures","id","index","meta","F","b","forAllFeatures","sourceSpatialReference","I","viewSpatialReference","_addDefinitionExpressionToQuery","Q","g","m","q","aliasOf","String","V","sublayerViews","_abortController","AbortController","_loadingComponents","activeFilterId","filters","find","filterBlocks","filterExpression","updatingProgress","some","updating","viewingMode","_initializeSubLayerViews","destroy","abort","isEmpty","geometryType","handles","notifyChange","items","sublayerUid","getGraphicFromIntersectorTarget","_findComponent","fetchPopupFeatures","Promise","reject","whenGraphicBounds","getAABBFromIntersectorTarget","Map","set","highlight","getUsedMemory","getUnloadedMemory","dependsOn"],"sourceRoot":""}