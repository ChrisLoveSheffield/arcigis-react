{"version":3,"file":"static/js/7115.408f2dc4.chunk.js","mappings":"8WAIMA,EAAAA,WAAE,aAAyB,IAAbA,EAAa,uDAAX,KAAKC,EAAM,uDAAJ,KAAI,eAACC,KAAKC,OAAO,KAAKD,KAAKE,cAAc,IAAIC,IAAIH,KAAKI,OAAO,EAAEJ,KAAKK,UAAUP,EAAEE,KAAKM,UAAUC,KAAKC,IAAIV,EAAEC,EAAG,C,+CAAA,SAAiBD,EAAEC,GAAG,IAAMU,EAAEX,EAAE,IAAIC,EAAEW,EAAEV,KAAKE,cAAc,GAAGQ,EAAEC,IAAIF,GAAG,CAAC,IAAMX,EAAEY,EAAEE,IAAIH,GAAG,OAAOX,EAAEe,WAAWf,EAAEe,UAAU,IAAIH,EAAEI,OAAOL,GAAGX,EAAEiB,YAAYjB,EAAEiB,WAAWC,SAASlB,EAAEe,QAAS,QAAO,CAAE,G,sBAAA,SAASf,EAAEC,GAAG,IAAMU,EAAEX,EAAE,IAAIC,EAAEW,EAAEV,KAAKE,cAAc,GAAGQ,EAAEC,IAAIF,GAAG,CAAC,IAAMX,EAAEY,EAAEE,IAAIH,GAAG,OAAOX,EAAEmB,GAAGC,KAAKC,MAAMrB,EAAEe,WAAWH,EAAEI,OAAOL,GAAGC,EAAEU,IAAIX,EAAEX,GAAGA,EAAEuB,KAAM,QAAO,IAAK,G,sBAAA,SAASvB,EAAEC,EAAEU,GAAS,IAAPC,EAAO,uDAAL,KAAYY,EAAEtB,KAAKE,cAAcqB,EAAEzB,EAAE,IAAIC,EAAE,GAAGuB,EAAEX,IAAIY,GAAG,CAAC,IAAMzB,EAAEwB,EAAEV,IAAIW,GAAGzB,EAAEmB,GAAGC,KAAKC,MAAMrB,EAAEe,UAAW,MAAKS,EAAEF,IAAIG,EAAE,CAACF,MAAMZ,EAAEQ,GAAGC,KAAKC,MAAMN,SAAS,EAAEE,WAAWL,IAAIV,KAAKwB,QAAQxB,KAAKyB,cAAe,G,yBAAA,SAAY3B,EAAEC,GAAG,IAAMU,EAAET,KAAKE,cAAcQ,EAAEZ,EAAE,IAAIC,EAAEU,EAAEE,IAAID,IAAID,EAAEK,OAAOJ,EAAG,G,2BAAA,SAAcZ,GAAGE,KAAKI,MAAMN,EAAEE,KAAKwB,OAAQ,G,mBAAA,WAAQxB,KAAKE,cAAcwB,QAAQ1B,KAAK2B,aAAc,G,4BAAA,WAAiB,OAAO3B,KAAKE,cAAc0B,IAAK,G,0BAAA,WAAc,WAAC,GAAG,MAAM5B,KAAKC,OAAd,CAA4B,IAAMH,EAAEE,KAAKE,cAAcF,KAAKC,OAAO4B,aAAa,WAAwC,IAAnC,IAAM9B,EAAE+B,MAAMC,KAAKjC,GAAGW,EAAES,KAAKC,MAAcT,EAAE,EAAEA,EAAEX,EAAEiC,QAAQjC,EAAEW,GAAG,GAAGO,IAAIR,EAAE,EAAKJ,UAAUK,IAAIZ,EAAEgB,OAAOf,EAAEW,GAAG,IAAI,IAAIZ,EAAE8B,MAAM,EAAKD,aAAc,GAAE3B,KAAKM,UAA9M,CAAyN,G,mBAAA,WAAQ,IAAMR,EAAEE,KAAKE,cAAc,MAAI,IAAIF,KAAKI,OAAOJ,KAAKI,OAAON,EAAE8B,MAAkC,IAAtB,IAAM7B,EAAE+B,MAAMC,KAAKjC,GAAWW,EAAE,EAAEA,EAAEV,EAAEiC,OAAOhC,KAAKI,MAAMK,IAAIX,EAAEgB,OAAOf,EAAEU,GAAG,GAAI,G,yBAAA,WAAc,MAAMT,KAAKC,SAASgC,cAAcjC,KAAKC,QAAQD,KAAKC,OAAO,KAAM,K,EAAz4CH,G,qBCAoRyB,EAAE,IAAIpB,IAAI+B,EAAE,IAAIpC,EAAE,SAASwB,EAAEvB,EAAED,GAAG,OAAO,MAAMA,EAAEC,EAAR,UAAaA,EAAb,oBAA0BD,EAAI,UAASW,EAAEV,EAAED,GAAG,IAAMqC,EAAE,CAACC,OAAO,KAAKC,WAAWvC,EAAEwC,MAAM,IAAInC,KAAK,GAAGoB,EAAEZ,IAAIZ,GAAG,CAAC,IAAMD,EAAEyB,EAAEX,IAAIb,GAAG,OAAOD,EAAEyC,KAAKJ,GAAGrC,EAAEkC,OAAO,CAAE,QAAOT,EAAEH,IAAIrB,EAAE,CAACoC,IAAI,CAAE,UAASK,EAAEzC,EAAED,GAAG,GAAGyB,EAAEZ,IAAIZ,GAAG,CAAC,IAAMoC,EAAEZ,EAAEX,IAAIb,GAAGoC,EAAErC,GAAG,KAAKqC,EAAEM,MAAM,SAAA1C,GAAC,OAAE,MAAMA,CAAR,KAAawB,EAAET,OAAOf,EAAG,CAAC,CAA0B,SAAS2C,EAAE3C,EAAED,EAAEqC,GAAG,IAAIZ,EAAEZ,IAAIZ,GAAG,OAAO,MAAMD,EAAEoC,EAAES,iBAAiB5C,EAAEoC,GAAG,EAAE,IAAMS,EAAErB,EAAEX,IAAIb,GAAG,GAAG,MAAM6C,EAAE9C,GAAG,OAAOoC,EAAES,iBAAiB5C,EAAEoC,GAAG,IAAMzB,EAAEkC,EAAE9C,GAAGwC,MAAM,GAAG5B,EAAEC,IAAIwB,GAAG,CAAC,IAAMpC,EAAEW,EAAEE,IAAIuB,GAAG,GAAGpC,EAAEc,WAAW,IAAId,EAAEc,SAAS,CAACH,EAAEI,OAAOqB,GAAG,IAAI,IAAIpC,EAAE,EAAEA,EAAE6C,EAAEZ,OAAOjC,IAAI6C,EAAE7C,IAAI6C,EAAE7C,GAAGuC,MAAM3B,IAAIwB,IAAIS,EAAE7C,GAAGuC,MAAMxB,OAAOqB,GAAGpC,EAAEgB,YAAYhB,EAAEgB,WAAWC,OAAQ,QAAOjB,EAAEc,QAAS,QAAO,CAAE,UAASgC,EAAE9C,EAAED,EAAEqC,GAAG,IAAIZ,EAAEZ,IAAIZ,GAAG,OAAO,MAAMD,EAAEoC,EAAEY,SAAS/C,EAAEoC,GAAG,KAAK,IAAMS,EAAErB,EAAEX,IAAIb,GAAG,GAAG,MAAM6C,EAAE9C,GAAG,CAAC,IAAI,IAAIC,EAAE,EAAEA,EAAE6C,EAAEZ,OAAOjC,IAAI,GAAG6C,EAAE7C,IAAI6C,EAAE7C,GAAGuC,MAAM3B,IAAIwB,GAAG,CAAC,IAAMrC,EAAE8C,EAAE7C,GAAGuC,MAAM1B,IAAIuB,GAAG,OAAOrC,EAAEe,WAAWf,EAAEuB,KAAM,QAAOa,EAAEY,SAAS/C,EAAEoC,EAAG,KAAMzB,EAAEkC,EAAE9C,GAAGwC,MAAM,GAAG5B,EAAEC,IAAIwB,GAAG,CAAC,IAAMpC,EAAEW,EAAEE,IAAIuB,GAAG,OAAOpC,EAAEc,WAAWd,EAAEsB,KAAM,KAAI,IAAI0B,EAAE,EAAEA,EAAEH,EAAEZ,OAAOe,IAAI,GAAGA,IAAIjD,GAAG8C,EAAEG,IAAIH,EAAEG,IAAIH,EAAEG,GAAGT,MAAM3B,IAAIwB,GAAG,CAAC,IAAMpC,EAAE6C,EAAEG,GAAGT,MAAM1B,IAAIuB,GAAG,OAAOpC,EAAEc,WAAWH,EAAEU,IAAIe,EAAEpC,GAAGA,EAAEsB,KAAM,QAAO,IAAK,UAAS2B,EAAEjD,EAAED,EAAEqC,EAAES,GAAS,IAAPlC,EAAO,uDAAL,KAAM,GAAIa,EAAEZ,IAAIZ,GAAV,CAAuD,IAAMgD,EAAExB,EAAEX,IAAIb,GAAG,GAAG,MAAMgD,EAAEjD,GAAX,CAA8C,IAAMwB,EAAE,CAACT,SAAS,EAAEQ,MAAMuB,EAAEK,YAAW,EAAGC,YAAW,EAAGnC,WAAWL,GAAGkC,EAAEO,MAAM,kBAAI7B,EAAE2B,YAAW,CAAjB,IAAsBG,OAAO,kBAAI9B,EAAE4B,YAAW,CAAjB,IAAsBH,EAAEjD,GAAGwC,MAAMlB,IAAIe,EAAEb,EAAlL,MAAYY,EAAEmB,SAAStD,EAAEoC,EAAES,EAAElC,EAAtG,MAAY,MAAMZ,GAAGoC,EAAEmB,SAAStD,EAAEoC,EAAES,EAAElC,EAAwN,UAAS4C,EAAEvD,EAAED,EAAEqC,GAAG,GAAIZ,EAAEZ,IAAIZ,GAAV,CAAsD,IAAM6C,EAAErB,EAAEX,IAAIb,GAAG,MAAM6C,EAAE9C,GAAG8C,EAAE9C,GAAGwC,MAAMxB,OAAOqB,GAAGD,EAAEqB,YAAYxD,EAAEoC,EAA1G,MAAY,MAAMrC,GAAGoC,EAAEqB,YAAYxD,EAAEoC,EAAwE,UAASqB,EAAEzD,EAAED,GAAG,IAAIyB,EAAEZ,IAAIZ,GAAG,OAAO,KAAK,IAAMoC,EAAEZ,EAAEX,IAAIb,GAAG,OAAO,MAAMoC,EAAErC,GAAG,KAAKqC,EAAErC,EAAG,UAAS2D,EAAE3D,EAAEyB,EAAEW,EAAEZ,EAAEb,EAAE+B,GAAS,IAAPkB,EAAO,uDAAL,KAAYhB,EAAEc,EAAE1D,EAAEyB,GAAGsB,EAAEH,EAAEN,OAAcY,EAAgBN,EAAtBJ,MAAmBgB,EAAGZ,EAAdL,WAAgB,IAAGQ,GAAGA,EAAEc,OAAOzB,EAAEyB,MAAMd,EAAEe,OAAO1B,EAAE0B,MAAMf,EAAEgB,OAAO3B,EAAE2B,MAAMhB,EAAEiB,OAAO5B,EAAE4B,KAApE,CAA2J,IAArE,IAAAL,EAAEvB,EAAE6B,QAAQC,YAA8BC,EAAeX,EAAhCY,iBAA6BC,EAAGb,EAAbc,UAAeC,EAAE,IAAIC,IAAYd,EAAE,EAAEA,EAAEC,EAAEzB,OAAOwB,IAAI,CAAC,IAAM1D,EAAE2D,EAAED,GAAG,KAAG1D,EAAE8D,KAAK9D,EAAE6D,MAAMrC,GAAGxB,EAAEgE,KAAKhE,EAAE+D,MAAMvC,GAApC,CAA+C,IAAIC,GAAEY,EAAAA,EAAAA,IAAErC,EAAEmE,EAAEP,IAAG3D,EAAAA,EAAAA,IAAEoE,KAAK5C,EAAE4C,EAAEI,iBAAiBhD,IAAI,IAAMW,EAAE,IAAIa,EAAAA,EAAE,CAACC,EAAE1B,EAAEkC,EAAElC,EAAE4C,iBAAiBpE,EAAEoE,mBAAmB,GAAG,MAAMzD,KAAKA,GAAEmC,EAAAA,EAAAA,IAAEV,EAAE+B,EAAEnE,EAAE4D,IAAI,OAAO,OAA6DhD,EAAAA,EAAAA,IAAED,EAAE6C,EAAEd,GAAG,WAAnDE,EAAnB,EAAM8B,aAAiC3B,EAAvC,EAAqB4B,kBAAqCzB,EAA1D,EAAyC0B,iBAAwC,GAAG1B,EAAE,OAA6Z,IAAjZ,IAAa2B,EAAGrB,EAAfsB,YAAyBC,EAAGF,EAAVG,OAAYC,EAAE,CAAC/B,EAAEzC,KAAKyE,IAAI,EAAEzE,KAAK0E,OAAO1D,EAAEoC,KAAKkB,EAAE7B,GAAGH,EAAEG,IAAIQ,EAAEjD,KAAKyE,IAAI,EAAEzE,KAAK0E,OAAOJ,EAAErB,EAAEjC,EAAEuC,MAAMjB,EAAEW,KAAK0B,EAAE3E,KAAK4E,MAAM5D,EAAEqC,KAAKrC,EAAEoC,MAAMd,EAAEG,EAAE,IAAIoC,EAAE7E,KAAK4E,MAAM5D,EAAEuC,KAAKvC,EAAEsC,MAAMhB,EAAEW,EAAE,IAAI6B,EAAE3C,EAAE,EAAEiC,EAAEW,kBAAkBX,EAAEY,WAAWC,EAAE9C,EAAE,EAAEiC,EAAEc,mBAAmBd,EAAEe,YAAYC,EAAE,EAAEC,EAAErF,KAAKyE,IAAI,EAAEzE,KAAK0E,MAAMF,EAAE/B,EAAEqC,GAAGM,GAAGE,EAAEtF,KAAKyE,IAAI,EAAEzE,KAAK0E,MAAMF,EAAEvB,EAAEgC,GAAGG,GAAGG,EAAEvF,KAAK0E,OAAOF,EAAE/B,EAAEkC,EAAE,GAAGG,GAAGM,EAAEI,EAAExF,KAAK0E,OAAOF,EAAEvB,EAAE4B,EAAE,GAAGI,GAAGG,EAAU5F,EAAE8F,EAAE9F,GAAGgG,EAAEhG,IAAI,IAAI,IAAID,EAAE8F,EAAE9F,GAAGgG,EAAEhG,IAAIuE,EAAE2B,IAAF,UAAStD,EAAT,YAAc3C,EAAd,YAAmBD,GAAhsB,CAAqsB,CAAAkD,EAAEiD,SAAS,SAAClG,EAAED,GAAK,IAAIuE,EAAE1D,IAAIb,GAAG,CAAC,IAAMC,EAAEiD,EAAEpC,IAAId,IAAI,MAAMC,GAAGA,EAAEkD,YAAYlD,EAAEmD,aAAaF,EAAElC,OAAOhB,EAAG,CAAC,IAAG4C,EAAEN,OAAO,CAACuB,KAAKzB,EAAEyB,KAAKE,KAAK3B,EAAE2B,KAAKD,KAAK1B,EAAE0B,KAAKE,KAAK5B,EAAE4B,KAAtgC,CAA4gC,C,qYCA95FxC,EAAAA,SAAAA,I,6BAAY,WAAYxB,EAAEC,EAAEuB,EAAEZ,EAAEwB,GAAS,MAAPC,EAAO,uDAAL,KAAK,uBAAC,cAAMrC,EAAEC,EAAEuB,EAAEZ,EAAEwB,IAAQgE,OAAO,IAAIzF,EAAAA,GAAE0B,EAAE,KAAK,MAAM,EAAK+D,OAAOC,WAAW,CAACzF,EAAEwB,GAAG,EAAKgE,OAAOE,KAAK,WAAW,kBAAI,EAAKC,OAAT,IAA1G,CAA6H,C,sCAAA,YAAU,uDAAgBrG,KAAKkG,OAAOI,UAAUtG,KAAKkG,OAAO,KAAKlG,KAAKuG,MAAM,IAAK,G,sBAA2C,WAAiB,OAAOvG,KAAKkG,OAAOM,UAAW,E,IAA1F,SAAe1G,GAAGE,KAAKkG,OAAOM,WAAW1G,CAAE,G,0BAA+C,SAAaA,EAAEW,IAAG,2DAAmBX,EAAEW,GAAGT,KAAKkG,OAAOO,WAAWC,IAAI1G,KAAKyG,WAAWC,GAAI,G,+BAAA,WAAoB,MAAM,CAACA,KAAI5G,EAAAA,EAAAA,KAAI6G,UAAS7G,EAAAA,EAAAA,KAAK,G,sBAAA,WAAWE,KAAKkG,OAAOK,MAAMvG,KAAKuG,KAAM,G,sBAAA,WAAWvG,KAAKkG,OAAOK,MAAM,IAAK,K,EAAriBjF,CAAUvB,EAAAA,G,sBCA8HoC,EAAAA,SAAAA,I,6BAAY,aAAa,6BAAC,eAASyE,YAAgBC,sBAAqB,EAA/C,CAAkD,C,yCAAA,SAAW9G,GAAS,IAAAU,EAAET,KAAK8G,eAAe/G,GAAtB,UAA+BC,KAAK+G,cAAcC,SAASpF,KAA3D,GAA0BlB,EAA1B,KAA4BZ,EAA5B,KAAgE,OAAO,IAAIwB,EAAEvB,EAAEU,EAAE,GAAGA,EAAE,GAAGC,EAAEZ,EAAG,G,iCAAA,SAAoBC,GAAE,WAAOU,EAAEV,EAAEkH,mBAAmB,CAACC,KAAK,iBAAiBC,QAAQ,CAACzG,EAAAA,EAAAA,QAAU0G,OAAO,kBAAI,EAAKC,SAASC,KAAK,SAAAvH,GAAC,OAAEA,EAAEmG,MAAJ,GAAxB,EAAqCqB,UAAUzH,EAAAA,GAAAA,MAAQ,2FAAoCC,IAApC,CAAuCU,GAAG,G,sBAAA,SAASV,GAAGC,KAAKwH,SAASzH,EAAEwH,YAAYzH,EAAAA,GAAAA,MAA5B,uCAAAE,MAAA,KAAAA,KAAkDD,EAAG,G,4BAAA,SAAeW,GAAG,IAAMY,EAAEtB,KAAK+G,cAAcU,eAAc1H,EAAAA,EAAAA,MAAIW,GAAG,GAAGV,KAAK6G,sBAAsBnG,EAAEgH,MAAM,CAAM,IAAU3H,EAAGC,KAAK+G,cAAjBC,SAA+BlH,GAAEW,EAAAA,EAAAA,IAAEV,EAAEmE,kBAAkB,GAAGpE,EAAE,CAAC,IAAiBW,EAAGV,EAAE4H,MAAMjH,EAAEkH,OAAxBC,WAA+BjF,EAAE9C,EAAEW,EAAEV,EAAE6B,KAAK,GAAGO,EAAES,GAAG7C,EAAE6B,KAAK,GAAGgB,GAAGnC,EAAE,EAAEa,EAAE,IAAIa,EAAEzB,EAAEgH,MAAMpG,EAAE,IAAIa,EAAEzB,EAAEgH,KAAM,CAAC,QAAOpG,CAAE,K,EAAruBa,CAAUS,EAAAA,G,mKCAunC+B,EAAE,CAAC,EAAE,GAAGmD,EAAExG,EAAAA,EAAAA,UAAY,+CAAmDyG,EAAC,0CAAiB,aAAa,6BAAC,eAASnB,YAAgBoB,qBAAqB,KAAK,EAAKC,cAAc,KAAK,EAAKlB,cAAc,KAAK,EAAKmB,YAAY,KAAK,EAAKC,uBAAuB,KAAK,EAAKC,sBAAsB,KAAK,EAAKC,gBAAgB,KAAK,EAAKC,YAAY,KAAK,EAAKC,uBAAsB,EAAG,EAAKC,wBAAwB,KAAK,EAAKC,kBAAkB,KAAK,EAAKC,iBAAiB,KAAK,EAAKC,uBAAsB,EAAG,EAAKC,wBAAuB,EAAG,EAAKC,UAAS,EAAG,EAAKC,UAAU,KAAK,EAAKC,MAAM,KAAK,EAAKC,WAAW,KAAK,EAAKC,iBAAgBlG,EAAAA,EAAAA,KAAG,SAAChD,EAAED,GAAH,OAAQ,EAAKwI,aAAa,EAAKY,UAAUC,UAAUC,QAAQC,UAAUtJ,EAAE,EAAKuJ,gBAAgBC,WAAW,EAAKC,aAAa,EAAKF,gBAAgBC,WAAW,EAAKE,aAAa3J,GAA3K,IAAjgB,CAAkrB,CAAhtB,kDAAgtB,WAA2B,MAAC,iBAAOE,KAAK0J,KAAK,gCAAjB,QAA8C,EAA1xB,IAA0xB,SAA0B3J,GAAGC,KAAK2J,KAAK,wBAAwB5J,EAAG,GAA51B,gCAA41B,WAA2B,OAAO,MAAMC,KAAK0J,KAAK,yBAAyB1J,KAAK0J,KAAK,uBAAwB,EAAz8B,IAAy8B,SAAyB3J,GAAE,WAAC,GAAGC,KAAKiI,eAAejI,KAAK4J,uBAAuB7J,EAAE,CAACC,KAAKiI,cAAc3B,UAAUtG,KAAK8I,UAAUe,oBAAoB,IAAM/J,EAAEE,KAAK8J,cAAc/J,GAAGC,KAAKiI,cAAc,IAAIrC,EAAAA,EAAE,CAACmE,YAAY,QAAQC,YAAY,SAAAjK,GAAC,OAAE,EAAKiK,YAAYjK,EAAnB,EAAsBkK,YAAY,SAAAlK,GAAC,OAAE,EAAKkK,YAAYlK,EAAnB,EAAsBmK,UAAUpK,EAAEqK,aAAanK,KAAK+G,gBAAgB/G,KAAK2J,KAAK,uBAAuB5J,GAAGC,KAAKkJ,UAAUkB,eAAgB,CAAC,GAA/1C,oBAA+1C,SAAOrK,GAAGC,KAAKkI,YAAYmC,QAAQrK,KAAKkI,YAAYoC,MAAMvK,EAAEuK,MAAMtK,KAAKiI,cAAcsC,OAAOxK,GAAGC,KAAKkI,YAAYsC,SAAS,MAAqCzK,EAAEuK,MAA1BxK,EAAb,EAAMsC,OAAoBd,EAA1B,EAAeuG,WAAmBpH,EAAlC,EAA4BgK,MAAiB/J,EAAEV,KAAK+G,cAAc2D,uBAAuBjK,GAAG,GAAGT,KAAK+I,MAAM4B,OAAO,OAAC,IAAI3K,KAAK4J,sBAAsB5J,KAAKuI,sBAAsB,CAAC,IAAMxI,EAAEC,KAAKqI,gBAAgB3H,EAAEkH,OAAOnH,EAAEX,EAAE8K,OAAO9K,EAAEoF,EAAAA,EAAAA,SAAWpF,IAAG0D,EAAAA,EAAAA,IAAExD,KAAKmI,uBAAuBnI,KAAKoI,sBAAsB3H,EAAEa,EAAEvB,EAAEC,KAAK+I,MAAM4B,OAAOE,SAASC,SAAU,CAAA9K,KAAKuI,uBAAsB,GAAG,UAAAvI,KAAKsI,mBAAL,eAAkBV,SAAQlH,EAAEkH,QAAQ5H,KAAKsI,YAAY5H,EAAE,MAAMV,KAAKyI,mBAAmBzI,KAAKkJ,UAAU6B,kBAAkB/K,KAAKgL,0BAA0BhL,KAAKiI,cAAcgD,gBAAgB,GAAI,CAAC,GAArgE,qBAAqgE,WAAS,YAAEjL,KAAKkJ,UAAU6B,kBAAkB/K,KAAK4J,uBAAuB5J,KAAK0I,kBAAkB1I,KAAK0I,iBAAiB1H,QAAQhB,KAAK0I,iBAAiB,IAAIwC,gBAAgB,IAAIlL,KAAKkI,YAAYlG,QAAQhC,KAAKyJ,aAAazJ,KAAK0I,iBAAiByC,QAAQhI,MAAM,WAAK,EAAKyF,wBAAuB,EAAG,EAAKM,UAAUkB,eAAgB,KAAI,IAAMrK,EAAEC,KAAK8J,cAAc9J,KAAK4J,sBAAsB5J,KAAKiI,cAAcgD,gBAAgBlL,GAAGC,KAAKkJ,UAAUkB,eAAgB,GAAj8E,oBAAi8E,WAAc,MAAC,OAAO,UAAApK,KAAKkI,mBAAL,eAAkBkD,WAAUpL,KAAK4I,2BAA2B5I,KAAKsJ,kBAAkBtJ,KAAKsJ,gBAAgB8B,SAAU,GAAzkF,oBAAykF,WAAQ,YAACvG,EAAAA,EAAAA,IAAE,MAAMwG,uBAAuBrL,KAAKsL,uBAAsB,GAAItL,KAAKuL,sBAAsBvL,KAAK+G,cAAc,IAAI1B,EAAAA,EAAErF,KAAKkJ,UAAUlC,SAAShH,KAAKkJ,UAAUsC,YAAY,IAAMzL,EAAEC,KAAKyL,2BAA2BzL,KAAKkI,YAAY,IAAInC,EAAAA,EAAE,CAACoE,aAAanK,KAAK+G,cAAc2E,YAAY3L,EAAE4L,QAAQ,SAAC5L,EAAED,GAAH,OAAO,EAAK8L,YAAY7L,EAAED,EAA1B,IAA+B,IAAMA,EAAEE,KAAK8J,cAAc9J,KAAK4J,sBAAsB5J,KAAKiI,cAAc,IAAIrC,EAAAA,EAAE,CAACmE,YAAY,QAAQC,YAAY,SAAAjK,GAAC,OAAE,EAAKiK,YAAYjK,EAAnB,EAAsBkK,YAAY,SAAAlK,GAAC,OAAE,EAAKkK,YAAYlK,EAAnB,EAAsBmK,UAAUpK,EAAEqK,aAAanK,KAAK+G,gBAAgB/G,KAAK6L,2BAA4B,GAAroG,oBAAqoG,WAAS7L,KAAKiI,cAAc3B,UAAUtG,KAAKkI,YAAYxG,QAAQ1B,KAAK8I,UAAUe,oBAAoB7J,KAAKkI,YAAYlI,KAAKiI,cAAcjI,KAAK+G,cAAc,MAAKzD,EAAAA,EAAAA,IAAEtD,KAAKmI,uBAAuBnI,KAAKoI,uBAAuBpI,KAAKmI,uBAAuBnI,KAAKoI,sBAAsB,IAAK,GAAz5G,yBAAy5G,SAAYrI,GAAG,IAAMD,EAAEE,KAAK8I,UAAUgD,WAAW/L,GAAG,OAAOC,KAAK+L,kBAAkBjM,GAAGE,KAAKkJ,UAAUkB,gBAAgBpK,KAAKuI,uBAAsB,EAAGvI,KAAK4I,uBAAuB5I,KAAKkJ,UAAU6B,mBAAmB/K,KAAK4J,qBAAqB9J,CAAE,GAAroH,yBAAqoH,SAAYC,GAAE,WAACC,KAAKkI,YAAYlH,MAAMjB,EAAEiM,IAAIC,IAAIjM,KAAK8I,UAAUoD,YAAYnM,GAAGA,EAAEqG,KAAK,UAAU,WAAKrG,EAAEuG,UAAU,EAAK4C,UAAUkB,eAAgB,IAAGpK,KAAKkJ,UAAUkB,eAAgB,GAAtzH,uCAAszH,WAAiC,IAAPrK,EAAO,uDAAL,KAAYD,EAAE,MAAMC,GAAGA,EAAEoM,KAAK,OAAOnM,KAAK+G,cAAcC,SAASpF,KAAKuK,KAAK,KAAK,GAAGrM,IAAGW,EAAAA,EAAAA,IAAET,KAAKgI,sBAAsB,OAAOhI,KAAKgI,qBAA2D,MAAtCjI,EAAEA,GAAGC,KAAK+G,cAAcC,SAASpF,KAAK,eAAMN,EAAN,KAAQZ,EAAR,KAAaqC,EAAE,IAAIP,EAAAA,EAAE,CAAC4J,MAAM9K,EAAE+K,OAAO3L,EAAE4L,OAAO,CAAC,IAAIC,WAAWjL,EAAEZ,IAAI8L,KAAK,IAAID,WAAWjL,EAAEZ,GAAG+L,UAAU,OAAO,OAAO3M,IAAIE,KAAKgI,qBAAqBjF,GAAGA,CAAE,GAApqI,yBAAoqI,SAAYhD,EAAED,GAAS,IAAAwB,GAAEb,EAAAA,EAAAA,IAAEX,IAAIA,EAAEqL,OAAOpI,EAAE/C,KAAK0M,2BAAsCxK,EAAGlC,KAAbkJ,UAAkBtG,GAAGV,EAAE8E,SAAS2F,cAAalM,EAAAA,EAAAA,KAAEiD,EAAAA,EAAAA,IAAExB,EAAE0K,KAAK1I,mBAAmBxB,EAAE,CAACmK,kBAAiB,EAAGC,oBAAoB5K,EAAE4K,oBAAoBC,cAAchK,EAAE,UAAU/C,KAAK+I,MAAMgE,cAAcC,WAAWhN,KAAKoI,sBAAsB6E,eAAelK,EAAEoI,QAAOzK,EAAAA,EAAAA,IAAEY,GAAG4L,cAAclN,KAAKqI,gBAAgBtI,EAAE6H,OAAOoB,WAAW9G,EAAE8G,WAAWhC,SAAS9E,EAAE8E,SAASmG,kBAAkBvK,GAAG,OAAO5C,KAAKoN,UAAUrN,EAAE2C,EAAG,GAAznJ,2BAAynJ,SAAc3C,GAAG,OAAOA,EAAE,GAAG,CAAE,GAAxpJ,iCAAwpJ,WAA4B,IAAAA,EAAEC,KAAKkJ,UAAU0D,KAAK1I,iBAAiBpE,EAAE,IAAIyB,EAAAA,EAAE,CAACyB,EAAEhD,KAAKkJ,UAAUsC,WAAW7H,KAAKH,EAAExD,KAAKkJ,UAAUsC,WAAW1H,KAAKI,iBAAiBnE,IAAnI,GAA0LyF,EAAAA,EAAAA,IAAExF,KAAK+I,MAAM1G,WAAWtC,GAAnEuB,EAA/I,EAAwI+L,OAAwB5M,EAAhK,EAAiJ6M,eAAsC5M,EAAvL,EAAkKmG,qBAAmD9D,EAAEkB,EAAAA,EAAAA,OAAS,CAACC,iBAAiBnE,EAAE6B,KAAK,IAAIyL,OAAO/L,KAAK,IAAIyB,EAAE+B,OAAO9B,GAAGD,EAAE+B,OAAO9B,EAAElD,EAAEkD,KAAKD,EAAE+B,OAAOhF,GAAGE,KAAK2I,sBAAsBjI,EAAEV,KAAKkJ,UAAU9H,IAAI,WAAW2B,GAAG/C,KAAKqI,gBAAL,OAAqB5H,QAArB,IAAqBA,EAAAA,EAAG,EAAG,GAApkK,sCAAokK,WAAgC,IAAeV,EAAGC,KAAK+I,MAAM1G,WAAWuC,YAAvC2I,cAAmDzN,EAAEC,EAAEA,EAAEiC,OAAO,GAAG,OAAOlC,EAAE0N,OAAO1N,EAAE2N,OAAO,IAAI3N,EAAE4N,OAAO5N,EAAE6N,OAAO,GAAG,GAAG,EAAE,EAAG,GAAluK,wEAAkuK,WAAwB5N,EAAED,GAA1B,sEAA6BE,KAAKsJ,gBAAgBC,WAAWvJ,KAAK4N,mBAAmB7N,EAAED,IAAvF,gDAAluK,kIAA6zK,WAAyBC,EAAED,GAA3B,8FAAkCE,KAAKkI,YAAYvH,IAAIZ,EAAEiM,IAAIC,IAA7D,0CAAoFjM,KAAKkI,YAAY3F,KAAKxC,EAAEiM,KAA5G,UAA4ElM,EAA5E,OAA0HW,EAAGT,KAAK+I,MAAhB8E,QAA0BnN,GAAGV,KAAK4J,sBAAsB5J,KAAKkJ,UAAU6B,mBAAmB/K,KAAKwI,yBAA2BxI,KAAK4I,wBAAyB5I,KAAKkJ,UAAU4E,QAAQ,IAAI9N,KAAKkI,YAAYlG,OAAtT,wBAA8TtB,GAAE,EAAhU,mBAA6UV,KAAKyJ,aAAazJ,KAAK0I,kBAAkB1I,KAAK0I,iBAAiByC,QAA5Y,2DAA6ZjJ,EAAAA,EAAAA,IAAE,EAAD,KAAK4F,EAAEiG,MAAF,MAAna,QAA8a/N,KAAK4I,wBAAuB,EAA1c,eAA8c5I,KAAK0M,4BAA4B,aAAa1M,KAAKgO,MAAMhO,KAAKkJ,UAAU6B,kBAAkB,MAAM/K,KAAKyI,mBAAmBzI,KAAKgL,0BAAgCjI,EAAE/C,KAAK+G,cAAckH,cAActJ,EAAE5E,EAAEiM,KAAKpJ,EAAE5C,KAAK+G,cAAcmH,kBAAkBnO,EAAEiM,KAAhsB,UAA2sBhM,KAAKmO,iBAAiBpO,EAAE,CAACqO,OAAOtO,EAAEuO,iBAAiBrO,KAAKyI,kBAAkB6F,uBAAuBtO,KAAKwI,wBAAwBW,UAAUzI,EAAEmN,QAAQpN,EAAE8N,OAAOxL,EAAE8E,WAAWjF,IAAn3B,QAAu3B7C,EAAEqG,KAAK,UAAU,kBAAI,EAAK8C,UAAUkB,eAAnB,IAAqCpK,KAAK8I,UAAU0F,SAASzO,GAAr8B,mDAAi9BmC,EAAAA,EAAAA,IAAE,EAAD,KAAK4F,EAAEiG,MAAF,MAAv9B,QAAk+B/N,KAAKkJ,UAAUkB,gBAAj/B,iEAA7zK,4HAA+zM,WAAmBrK,GAAnB,sFAAyB,IAAIC,KAAK8I,UAAUzB,SAASrF,OAArD,iEAAyEhC,KAAK+I,MAAM0F,iBAApF,WAAqGzO,KAAKkJ,UAAU6B,iBAApH,gCAA2I/K,KAAK0O,8BAA8B3O,GAA9K,8BAAkLC,KAAKgL,0BAA0BhL,KAAKwI,wBAAwB,KAA9O,eAA0P1I,EAAEE,KAAK8I,UAAUzB,SAASC,IAAxB,yCAA6B,WAAMvH,GAAN,+FAAS,EAAK4O,+BAA+B5O,EAAE,CAAC6O,MAAM,EAAKnG,kBAAkBoG,OAAO,EAAKrG,2BAAzF,2CAA7B,kCAAAxI,KAAA,gBAA5P,WAAoZ4C,EAAAA,EAAAA,IAAE9C,GAAtZ,QAAyZE,KAAK8I,UAAUgG,gBAAxa,iDAA/zM,2IAAuvN,WAAoC/O,GAApC,uFAA6CD,EAAE,CAACoN,cAAclN,KAAKqI,gBAAgBrI,KAAKsI,YAAYV,OAAOoF,WAAWhN,KAAKoI,sBAAsB+C,OAAOpL,GAAxJ,SAAmKC,KAAK+I,MAAMgG,YAAY/O,KAAKkJ,UAAU0D,KAAKxK,OAAOpC,KAAKkJ,UAAU0D,KAAKR,MAAMpM,KAAKkJ,UAAU0D,KAAKP,OAAOvM,GAA1Q,WAA2JwB,EAA3J,SAAqRA,EAAE0N,WAAvR,iDAA+SvO,EAAET,KAAK+I,MAAMkG,WAAWC,wBAAwB,CAACF,YAAWG,EAAAA,EAAAA,IAAE7N,EAAE0N,WAAWhP,KAAK+I,MAAM8E,SAASuB,MAAMpP,KAAKkJ,UAAU0D,KAAK1I,iBAAiBmL,aAAaxH,WAAW,CAAC7E,EAAEhD,KAAKsI,YAAYT,WAAWrE,EAAExD,KAAKsI,YAAYT,YAAYgG,QAAQ7N,KAAK+I,MAAM8E,WAAW7N,KAAK0M,4BAA4BjM,GAAG,YAAYA,EAAEuN,MAAMhO,KAAK+I,MAAMuG,UAAU,mBAAmBtP,KAAK+I,MAAMuG,SAAStB,OAAOvN,EAAE8O,OAAO9O,EAAE8O,OAAOjI,KAAK,SAAAvH,GAAC,OAAE,IAAIA,CAAN,IAAUU,EAAE+O,OAAOjP,KAAKkP,MAAM,IAAIhP,EAAE+O,QAAQ/O,EAAEiP,OAAOnP,KAAKkP,MAAM,IAAIhP,EAAEiP,SAAS1P,KAAKwI,wBAAwB/H,EAA5yB,gDAAvvN,4FAAqiP,WAA0BT,KAAKyI,kBAAkBzI,KAAK+I,MAAMkG,WAAWC,wBAAwB,CAACF,WAAW,KAAKI,MAAMpP,KAAKkJ,UAAU0D,KAAK1I,iBAAiBmL,aAAaxH,WAAW,CAAC7E,EAAEhD,KAAKsI,YAAYT,WAAWrE,EAAExD,KAAKsI,YAAYT,YAAYgG,QAAQ7N,KAAK+I,MAAM8E,SAAU,GAAnzP,uCAAmzP,WAA+B,IAAL9N,EAAK,wDAAC,EAAmCC,KAAK+I,MAA9BjJ,EAAV,EAAM6P,IAAiBrO,EAAvB,EAAYe,WAAoB5B,EAAhC,EAAyBkK,OAAzB,EAA6E3K,KAAK+I,MAAM6G,4BAA4B,CAACC,2BAA2B7P,KAAK+I,MAAM8G,2BAA2B7G,WAAWhJ,KAAKkJ,UAAUF,aAAtItI,EAA1E,EAA+CmP,2BAA8K9M,EAAG,OAADzB,QAAC,IAADA,GAAAA,EAAGwO,qBAAqBrP,EAAEsP,cAAcrP,GAAG,KAAKwB,GAAEW,EAAAA,EAAAA,IAAE/C,EAAEiD,GAAG,GAAGb,IAAIlC,KAAKmI,uBAAuB,CAAC,GAAG,MAAMnI,KAAKmI,yBAAwB7E,EAAAA,EAAAA,IAAEtD,KAAKmI,uBAAuBnI,KAAKoI,uBAAuBpI,KAAKoI,uBAAsB3E,EAAAA,EAAAA,IAAEvB,EAAElC,KAAK+I,MAAM4B,OAAOtI,YAAYtC,EAAE,CAAC,IAAMA,EAAEC,KAAK+G,cAAc2D,uBAAuB1K,KAAKkJ,UAAU0D,KAAKnC,OAAO3K,EAAEE,KAAKqI,gBAAgBtI,EAAE6H,QAAOpE,EAAAA,EAAAA,IAAEtB,EAAElC,KAAKoI,sBAAsBpI,KAAKkJ,UAAU0D,KAAKxK,OAAOpC,KAAKkJ,UAAU0D,KAAK/E,WAAW/H,EAAEE,KAAK+I,MAAM4B,OAAOE,SAASC,SAAU,CAAA9K,KAAKmI,uBAAuBjG,CAAE,CAAC,GAA3jR,gEAA2jR,gHAAwBlC,KAAK+I,MAAM0F,iBAAnC,cAAoDzO,KAAKkJ,UAAU6B,kBAAkB/K,KAAKgL,0BAA0BhL,KAAK6L,2BAA0B,GAAI7L,KAAKkI,YAAY8H,QAAcjQ,EAAE,GAAGC,KAAK4I,uBAAuB5I,KAAKkJ,UAAU6B,mBAAmB/K,KAAK4J,qBAAqB5J,KAAKiI,cAAcgI,MAAMhK,SAAS,SAAAnG,GAAC,OAAEC,EAAEwC,KAAK,EAAKwJ,kBAAkBjM,GAAhC,IAAtT,WAAkW8C,EAAAA,EAAAA,IAAE7C,GAApW,iDAA3jR,2DAAeD,EAAAA,IAAq5RC,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,mBAAc,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,8BAAyB,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,gBAAW,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,iBAAY,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,aAAQ,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,iBAAY,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,YAAO,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,wBAAwB,OAAMnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,uBAAuB,OAAMnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,kBAAa,IAAQnQ,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,OAAKqF,EAAEmI,UAAU,WAAW,MAAMnI,GAAEhI,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,GAAE,0DAA0D4F,G,eCA5zUhF,EAAC,0CAAiB,aAAa,6BAAC,eAAS6D,YAAgBkC,UAAU,KAAK,EAAKC,MAAM,KAAK,EAAKiF,KAAK,SAAnE,CAA4E,CAA1G,qCAA0G,YAAS,sDAAehO,KAAK8I,UAAU,IAAIxH,EAAEtB,KAAK+G,eAAe/G,KAAK8I,UAAUjC,qBAAqB7G,KAAK2I,qBAAsB,GAA1O,oBAA0O,YAAS,sDAAe3I,KAAK8I,UAAUe,oBAAoB7J,KAAK8I,UAAU,IAAK,GAAzT,sCAAyT,WAA2B,OAAO9I,KAAKsL,uBAAuBtL,KAAK+I,MAAMkG,WAAWkB,oBAAoB,aAAanQ,KAAK+I,MAAMgE,gBAAe7K,EAAAA,EAAAA,IAAElC,KAAK+I,OAAQ,GAAvd,uBAAud,SAAUhJ,EAAEW,GAAG,OAAOV,KAAK+I,MAAMqE,UAAUrN,EAAE6H,MAAM7H,EAAEqQ,IAAIrQ,EAAEsQ,IAAI3P,EAAG,GAAzhB,uEAAyhB,WAAuBX,EAAED,GAAzB,YAAAoC,EAAA,2FAA0CzB,EAAGT,KAAK+I,MAAhB8E,QAAsBvM,EAAEtB,KAAKsQ,yBAAyB1N,EAAE5C,KAAK0M,2BAAmCxK,EAA8DpC,EAArEsO,OAAgCrL,EAAqCjD,EAA5DwO,uBAAmCnM,EAAyBrC,EAAnCqJ,UAAmB5H,EAAgBzB,EAAvByO,OAAoBtK,EAAGnE,EAAd+H,WAAgBrF,EAAExC,KAAKkJ,UAAU6B,iBAAiBhI,EAAEjD,EAAEuO,iBAAyBxL,EAAG9C,EAAVmG,OAAe,UAAU3E,EAAV,GAACsB,EAAEG,EAAH,KAAKH,EAAEW,EAAP,KAAYX,EAAEgF,WAAW5D,IAAE/B,IAAGxB,EAAAA,EAAAA,IAAEwB,KAAIxB,EAAAA,EAAAA,IAAEwB,EAAE8M,aAAjT,oBAAoUjP,EAAE,CAACqC,OAAOF,EAAEE,OAAO4M,WAAW9M,EAAE8M,YAAenM,EAAE0N,aAAaxQ,GAAE6C,EAApY,gBAAsYC,EAAEuL,OAAOlM,EAAE8M,WAAWnM,EAAE2N,oBAAmB,EAAjb,uCAAucxQ,KAAK+I,MAAM0H,cAAc1Q,EAAE,oBAAYgD,QAAZ,IAAYA,OAAZ,EAAYA,EAAGiL,MAAKjL,EAAE,MAAxf,OAA+brC,EAA/b,OAA8fmC,EAAEuL,OAAO1N,EAAEmC,EAAE2N,oBAAmB,EAA9hB,QAAiiB3N,EAAE6N,qBAAqB9N,EAAEJ,EAAE,KAAKI,EAAEC,EAAE8N,gBAAgB9N,EAAE8N,cAAczO,EAAEyO,eAAe9N,EAAE8N,cAAc,KAAtoB,wBAAspB5Q,EAAEC,KAAK4Q,4BAA4B/N,EAAEuL,OAAOrO,EAAE8C,EAAE6N,qBAAqB9N,EAAEJ,EAAE,KAAKK,EAAE8N,cAAc,KAApvB,QAAyvB9N,EAAEgL,QAAQjL,EAAEnC,EAAE,KAAKoC,EAAEuJ,MAAMpM,KAAK+G,cAAcC,SAASpF,KAAK,GAAGiB,EAAEwJ,OAAOrM,KAAK+G,cAAcC,SAASpF,KAAK,GAAGiB,EAAEkK,cAAczL,EAAEuB,EAAEsG,UAAUhH,EAAEU,EAAEgO,oBAAv4B,iDAAzhB,8IAAo7C,WAAqC9Q,EAAED,GAAvC,UAAAoC,EAAA,+EAAsDzB,EAAYX,EAAlB8O,MAAetN,EAAGxB,EAAV+O,OAAqBjM,EAAG5C,KAAK+I,MAAhB8E,QAAsB3L,EAAElC,KAAKsQ,yBAAyBvN,EAAE/C,KAAK0M,2BAAmCvK,EAAGpC,EAAVmG,OAA0B3E,EAAGY,EAAhBoO,aAAmBxN,KAAGrC,EAAAA,EAAAA,IAAEa,GAAnM,gCAAsNvB,KAAK+I,MAAM0H,cAAclP,EAAE,oBAAYD,QAAZ,IAAYA,OAAZ,EAAYA,EAAG0M,MAAK1M,EAAE,MAAvQ,OAAuMa,EAAEiM,OAAzM,OAA6QjM,EAAEqO,oBAAmB,EAAlS,sBAAuSrO,EAAEqO,qBAAoB9P,EAAAA,EAAAA,IAAEa,KAAKY,EAAEiM,OAAO7M,EAAEyN,YAAY7M,EAAEqO,oBAAmB,EAAhX,OAAoXrO,EAAEuO,qBAAqB3N,EAAE/C,KAAKkJ,UAAU6B,iBAAiBzJ,EAAEb,EAAE,KAAK0B,EAAE0L,QAAQ9K,EAAEH,EAAE,KAAKT,EAAE4K,cAAc7K,EAAEC,EAAEgH,WAAU,EAAve,iDAAp7C,6FAA85D,WAAyB,IAAMpJ,EAAEC,KAAK+I,MAAMuG,SAAStB,KAAK,GAAG,oBAAoBjO,GAAG,iBAAiBA,GAAG,iBAAiBA,EAAE,MAAM,UAAe,IAAeW,EAAGV,KAAK+I,MAAtBgE,cAAsCjN,EAAGE,KAAK+I,MAAjBuG,SAAuB,MAAM,mBAAmBxP,EAAEkO,MAAM,MAAMlO,EAAEgR,UAAU,aAAapQ,GAAG,UAAUA,EAAE,WAAW,UAAUA,CAAE,KAAzsE,GAAekC,IAA4rE7C,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiD,EAAEmN,UAAU,iBAAY,IAAQnQ,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiD,EAAEmN,UAAU,aAAQ,IAAQnQ,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKiD,EAAEmN,UAAU,YAAO,GAAqE,IAAM/N,EAAnEY,GAAEhD,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,GAAE,mDAAmDsC,G,wDCAvvFrC,GAAAA,SAAAA,I,6BAAY,WAAYZ,EAAEW,EAAEV,EAAEuB,EAAEZ,GAAS,MAAPkC,EAAO,uDAAL,KAAK,uBAAC,cAAM9C,EAAEW,EAAEV,EAAEuB,EAAEZ,IAAQqQ,SAAS,IAAI7O,GAAAA,EAAEU,GAAG,EAAKmO,SAAS5K,WAAW,CAAC7E,EAAEZ,GAAG,EAAKqQ,SAAS3K,KAAK,WAAW,kBAAI,EAAKC,OAAT,IAAtG,CAAyH,C,sCAAA,YAAU,uDAAgBrG,KAAK+Q,SAASzK,UAAUtG,KAAK+Q,SAAS,KAAK/Q,KAAKuG,MAAM,IAAK,G,sBAA6C,WAAiB,OAAOvG,KAAK+Q,SAASvK,UAAW,E,IAA9F,SAAe1G,GAAGE,KAAK+Q,SAASvK,WAAW1G,CAAE,G,+BAAiD,WAAoB,MAAM,CAAC4G,KAAI3G,EAAAA,EAAAA,KAAI4G,UAAS5G,EAAAA,EAAAA,KAAK,G,0BAAA,SAAaA,EAAEmC,IAAG,2DAAmBnC,EAAEmC,GAAS,IAAAZ,EAAEY,GAAGnC,EAAE8H,WAAW9H,EAAEiR,YAAYtQ,EAAEV,KAAKyG,WAAWE,SAAlD,UAAiE3G,KAAK+Q,SAASE,OAA/E,GAA4DrO,EAA5D,KAA8DG,EAA9D,KAAsFL,EAAE,CAAC1C,KAAKgD,EAAEJ,EAAEV,EAAElC,KAAKwD,EAAET,EAAEb,GAA7G,EAAsHnC,EAAEmR,mBAAmB,CAAC,EAAE,GAAGxO,GAAjJ,eAAiHP,EAAjH,KAAmHuB,EAAnH,KAAoKb,EAAG7C,KAAK+Q,SAASL,qBAAhCS,eAAqD5P,EAAEhB,KAAKkP,OAAOzP,KAAKoM,MAAMpM,KAAK+Q,SAASE,OAAO,IAAIpO,GAAGA,EAAEuO,EAAE7Q,KAAKkP,OAAOzP,KAAKqM,OAAOrM,KAAK+Q,SAASE,OAAO,IAAIpO,GAAGA,EAAES,EAAE/B,EAAEvB,KAAKqR,OAAO/P,EAAEkB,EAAE4O,EAAEpR,KAAKsR,OAAOhQ,GAAExB,EAAAA,GAAAA,GAAEY,EAAE4C,EAAE,EAAE,EAAE,EAAEd,EAAE,EAAEL,EAAEuB,EAAE,IAAGjD,EAAAA,GAAAA,GAAET,KAAKyG,WAAWC,IAAI3G,EAAEwR,gBAAgB7Q,GAAGV,KAAK+Q,SAAStK,WAAWC,IAAI1G,KAAKyG,WAAWC,GAAI,G,sBAAA,WAAW1G,KAAK+Q,SAASxK,MAAMvG,KAAKuG,KAAM,G,sBAAA,WAAWvG,KAAK+Q,SAASxK,MAAM,IAAK,K,EAAp9B7F,CAAUY,EAAAA,GCADsB,GAAAA,SAAAA,I,6BAAY,aAAa,6BAAC,eAASgE,YAAgBC,sBAAqB,EAAG,EAAK2K,YAAY,CAAC,YAApE,CAAgF,C,yCAAA,SAAW/Q,GAAS,IAAAX,EAAEE,KAAK+G,cAAcU,eAAc1H,EAAAA,EAAAA,MAAIU,GAAvC,UAAgDT,KAAK+G,cAAcC,SAASpF,KAA5E,GAA2CN,EAA3C,KAA6CsB,EAA7C,KAAiF,OAAO,IAAIlC,GAAED,EAAEX,EAAE,GAAGA,EAAE,GAAGwB,EAAEsB,EAAG,G,iCAAA,SAAoB7C,GAAE,WAAOW,EAAEX,EAAEkH,mBAAmB,CAACC,KAAK,oBAAoBC,QAAQ,CAAC1G,EAAAA,GAAG2G,OAAO,kBAAI,EAAKC,SAASC,KAAK,SAAAvH,GAAC,OAAEA,EAAEgR,QAAJ,GAAxB,EAAuCxJ,UAAUzH,EAAAA,GAAAA,MAAQ,2FAAoCC,IAApC,CAAuCW,GAAG,G,sBAAA,SAASX,GAAE,WAACC,KAAKwH,SAASzH,EAAEwH,YAAYzH,EAAAA,GAAAA,KAAOE,KAAKwR,YAAYvL,SAAS,SAAAxF,GAAIV,EAAE0R,WAAWhR,GAAb,iDAA8BV,EAAG,GAAG,K,EAAjiB6C,CAAUtB,EAAAA,GCAmcC,GAAC,0CAAiB,SAAAA,IAAa,6BAAC,eAASqF,YAAgB8K,QAAQ,KAAK,EAAK5I,UAAU,KAAK,EAAKC,MAAM,KAAK,EAAKiF,KAAK,WAArF,CAAgG,CAA9H,uDAA8H,WAA2B,OAAM,CAAG,GAAlK,gEAAkK,WAAgBjO,EAAED,GAAlB,mFAAqBA,GAAC,kBAAKA,GAAL,IAAOiN,cAAc,UAAU4E,iCAAgC,IAArF,SAAuG3R,KAAK+I,MAAMqE,UAAUrN,EAAE6H,MAAM7H,EAAEqQ,IAAIrQ,EAAEsQ,IAAIvQ,GAAhJ,UAA+FwB,EAA/F,YAAyJ,kBAAkBtB,KAAK+I,MAAM1G,WAAWuP,UAAxC,OAAkDtQ,QAAlD,IAAkDA,GAAAA,EAAG0N,YAA9M,qCAA8OhP,KAAK+I,MAAM8I,uBAAuBvQ,EAAE0N,WAAWlP,GAA7R,OAA2NwB,EAAE0N,WAA7N,uCAAiS1N,GAAjS,iDAAlK,uFAAqc,SAAiBvB,EAAEuB,GAAS,IAAAZ,EAAEY,EAAE+M,iBAA2BzL,EAAG7C,EAAZgR,SAAcnO,EAAEoJ,IAAIjM,EAAEiM,IAAIpJ,EAAEwJ,MAAMpM,KAAK+G,cAAcC,SAASpF,KAAK,GAAGgB,EAAEyJ,OAAOrM,KAAK+G,cAAcC,SAASpF,KAAK,GAAQ,IAAgBnB,EAAGC,EAAlByQ,eAA4BpO,EAAGzB,EAAV8M,OAAY,GAAGxL,EAAEqO,OAAOjR,KAAK8R,qBAAqBlP,EAAEoJ,IAAIvL,IAAGX,EAAAA,EAAAA,IAAEiD,KAAIjD,EAAAA,EAAAA,IAAEiD,EAAEiM,YAAY,CAAC,IAAMjP,EAAE,CAACqC,OAAOW,EAAEX,OAAO4M,WAAWjM,EAAEiM,YAAYpM,EAAE2N,aAAaxQ,EAAE6C,EAAE8N,qBAAqBhQ,EAAEkC,EAAEwL,OAAOpO,KAAK+R,uBAAuBhP,EAAEiM,WAAWtO,EAAEkC,EAAEqO,OAAQ,KAAI,CAAC,IAAMlR,EAAE,CAACQ,KAAKkP,OAAOzP,KAAK+G,cAAcC,SAAS,GAAGpE,EAAEqO,OAAO,IAAIxQ,GAAGF,KAAKkP,OAAOzP,KAAK+G,cAAcC,SAAS,GAAGpE,EAAEqO,OAAO,IAAIxQ,IAAIX,EAAEE,KAAK4Q,0BAA0B7Q,GAAG6C,EAAEwL,OAAOtO,EAAE8C,EAAE8N,qBAAqBhQ,CAAE,QAAOkC,EAAEoP,gBAAgB5I,QAAQC,QAAQ,KAAM,GAA7mC,4CAA6mC,SAA+BtJ,EAAEuB,GAAE,MAAOZ,EAAEY,EAAEsN,MAAsBhM,EAAGlC,EAAlByQ,eAA8B1Q,EAAGV,EAAZgR,SAActQ,EAAEwQ,OAAOjR,KAAK8R,qBAAqBrR,EAAEuL,IAAIpJ,GAAG,IAAMG,EAAEtC,EAAEiQ,qBAAqBS,eAAe,OAAO1Q,EAAEiQ,qBAAqBhQ,GAAEZ,EAAAA,EAAAA,IAAC,UAACW,EAAE8P,oBAAH,aAAC,EAAgBvB,aAAajM,IAAIH,IAAInC,EAAE2N,OAAOpO,KAAK+R,uBAAuBtR,EAAE8P,aAAavB,WAAWvO,EAAEiQ,qBAAqBjQ,EAAEwQ,SAAS7H,QAAQC,QAAQ,KAAM,GAA79C,oBAA69C,WAAQ,YAAC,sDAAerJ,KAAK8I,UAAU,IAAI/F,GAAE/C,KAAK+G,eAAe/G,KAAK8I,UAAUjC,qBAAqB7G,KAAK2I,sBAAsB3I,KAAKiS,kBAAkBjS,KAAK+I,MAAMuG,UAAUtP,KAAK0R,SAAQpQ,EAAAA,EAAAA,KAAG,kBAAI,EAAKyH,MAAMuG,QAAf,IAA0B,SAAAvP,GAAC,OAAE,EAAKkS,kBAAkBlS,EAAzB,GAA8B,GAAltD,oBAAktD,YAAS,sDAAeC,KAAK8I,UAAUe,oBAAoB7J,KAAK0R,QAAQQ,SAASlS,KAAK0R,QAAQ,IAAK,GAArzD,kCAAqzD,SAAqB3R,EAAED,GAAG,IAAMwB,EAAEvB,EAAEsQ,IAAIrQ,KAAK+G,cAAcC,SAASpF,KAAK,GAAG9B,EAAEY,EAAEX,EAAEqQ,IAAIpQ,KAAK+G,cAAcC,SAASpF,KAAK,GAAG9B,EAAE,MAAM,CAACwB,EAAExB,EAAE,EAAEA,EAAEwB,GAAGA,EAAEZ,EAAEZ,EAAE,EAAEA,EAAEY,GAAGA,EAAG,GAAn9D,oCAAm9D,SAAuBX,EAAED,EAAEwB,GAAG,IAAqBZ,EAAGZ,EAAlBqR,eAAoB,OAAO1Q,EAAAA,EAAAA,IAAEV,EAAE,YAAYW,EAAEY,EAAG,GAAviE,+BAAuiE,SAAkBvB,GAAG,iBAAiBA,EAAEiO,OAAOhO,KAAK8I,UAAU0I,YAAY,cAAczR,EAAEoS,MAAM,CAAC,SAAS,YAAY,kBAAkBpS,EAAEoS,MAAM,CAAC,UAAU,CAAC,YAAa,KAAhtE,GAAejQ,IAAmsEnC,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKa,GAAE2O,UAAU,iBAAY,IAAQnQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKa,GAAE2O,UAAU,aAAQ,IAAQnQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKa,GAAE2O,UAAU,YAAO,GAAyE,IAAM/N,GAAvEZ,IAAExB,EAAAA,EAAAA,GAAE,EAAC6C,EAAAA,EAAAA,GAAE,uDAAuDrB,I,oCCAnoEsB,GAAEvB,EAAAA,EAAAA,UAAY,+CAAmDkC,GAAC,0CAA2B,aAAa,6BAAC,eAASoD,YAAgBwL,wBAAuB,EAAG,EAAKC,uBAAsB,EAAG,EAAKC,QAAQ,KAA/F,CAAoG,CAA5I,kDAA4I,WAA4B,OAAOtS,KAAKoS,sBAAuB,EAA3M,IAA2M,SAA0BrS,GAAGC,KAAKoS,uBAAuBrS,EAAEC,KAAKsS,SAAS,0BAA0BtS,KAAKsS,UAAUtS,KAAKsS,QAAQhH,sBAAsBvL,EAAG,GAAnW,gCAAmW,WAA2B,OAAOC,KAAKoS,sBAAuB,EAAja,IAAia,SAAyBrS,GAAGC,KAAKqS,sBAAsBtS,EAAEC,KAAKsS,SAAS,yBAAyBtS,KAAKsS,UAAUtS,KAAKsS,QAAQ1I,qBAAqB7J,EAAG,GAArjB,oBAAqjB,SAAOA,GAAGC,KAAKsS,QAAQ/H,OAAOxK,GAAGC,KAAKuS,aAAa,WAAY,GAApnB,wBAAonB,WAAa,OAAOvS,KAAKsS,SAAStS,KAAKsS,QAAQlH,QAAS,GAA5qB,oBAA4qB,WAAQ,WAACpL,KAAK+I,MAAMyJ,gCAAgCxS,KAAKyS,iBAAiBzS,KAAK0S,QAAQ1M,IAAI,EAACtF,EAAAA,EAAAA,KAAG,WAAK,IAAYX,EAAG,EAATgJ,MAAc,MAAM,CAAC8E,QAAQ9N,EAAE8N,QAAQyB,SAASvP,EAAEuP,SAASvC,cAAchN,EAAEgN,cAAc8C,2BAA2B9P,EAAE8P,2BAA4B,IAAG,SAAC9P,EAAEU,GAAI,QAAOa,EAAEvB,EAAEgN,gBAAgBtM,EAAEsM,gBAAgB,aAAahN,EAAEgN,eAAe,aAAatM,EAAEsM,iBAAgB9I,EAAAA,EAAAA,IAAE,EAAK8E,OAAOrI,EAAEX,EAAEuP,WAAW7O,EAAE6O,WAAU,UAAA7O,EAAE6O,gBAAF,eAAYtB,SAAZ,UAAmBjO,EAAEuP,gBAArB,aAAmB,EAAYtB,MAAKtN,GAAG,EAAK+R,iBAAiB,IAAM7P,EAAE7C,EAAE8P,6BAA6BpP,EAAEoP,4BAA4BvO,GAAGZ,EAAE,EAAK4R,QAAQrJ,gBAAgBrG,GAAGQ,OAAO,SAAArD,IAAID,EAAAA,EAAAA,IAAEC,IAAI8C,GAAEkL,MAAMhO,EAAG,IAAG,EAAKwS,aAAa,WAAY,KAAG7R,EAAAA,EAAAA,KAAG,kCAAI,EAAKqI,MAAM4J,iBAAf,QAA0B,QAA1B,IAAqC,SAAA5S,GAAI,EAAKuS,QAAQxJ,UAAU6J,UAAU5S,CAAE,GAAE6C,EAAAA,KAAGlC,EAAAA,EAAAA,KAAG,kCAAI,EAAKqI,MAAM6J,cAAf,QAAuB,IAAvB,IAA8B,SAAA7S,GAAI,EAAKuS,QAAQxJ,UAAU8J,OAAO7S,CAAE,GAAE6C,EAAAA,KAAGlC,EAAAA,EAAAA,KAAG,kBAAI,EAAKsI,UAAT,IAAsB,WAAK,EAAKsJ,QAAQtJ,WAAW,EAAKA,WAAW,EAAKsJ,QAAQrJ,iBAAgB,GAAI7F,OAAO,SAAArD,IAAID,EAAAA,EAAAA,IAAEC,IAAI8C,GAAEkL,MAAMhO,EAAG,GAAG,GAAEmC,EAAAA,KAAI,SAAU,GAAhmD,oBAAgmD,WAAQ,MAAClC,KAAK0S,QAAQR,OAAO,UAAUlS,KAAK+I,MAAM8J,gCAAgC7S,KAAK8S,eAAe9S,KAAKsS,SAAlG,UAA2GtS,KAAKsS,eAAhH,OAA2G,EAAchM,UAAUtG,KAAKsS,QAAQ,IAAK,GAA9vD,uBAA8vD,WAAYtS,KAAKoK,eAAgB,GAA/xD,wBAA+xD,WAAapK,KAAKoK,eAAgB,GAAj0D,qBAAi0D,WAAUpK,KAAKsS,QAAQS,SAAU,GAAl2D,8DAAk2D,WAAchT,EAAEuB,GAAhB,+FAAyB,CAAC,CAAC0M,KAAK,UAAUjF,MAAM/I,KAAK+I,MAAMiK,SAASjT,EAAEkT,QAAQ,IAAIxS,EAAAA,EAAE,CAACyS,WAAW,CAAC,EAAEC,SAASpT,EAAEgE,aAA9G,gDAAl2D,gFAA49D,WAAY,OAAO/D,KAAKsS,QAAQ9I,WAAY,GAAxgE,4BAAwgE,WAAiB,IAAMzJ,EAAE,iBAAiBC,KAAK+I,MAAMuG,SAAStB,KAAK,WAAW,SAAShO,KAAK+I,MAAMuG,SAAStB,KAAK,OAAO,SAAS,GAAGhO,KAAKsS,QAAQ,OAAC,GAAGtS,KAAKsS,QAAQtE,OAAOjO,EAAE,YAAYC,KAAKoT,eAAepT,KAAKsS,SAAStS,KAAK8S,eAAe9S,KAAKsS,SAAzB,UAAkCtS,KAAKsS,eAAvC,OAAkC,EAAchM,UAAUtG,KAAKsS,QAAQ,IAAK,KAAwBhR,EAAZb,EAAGT,KAAT+I,MAAgJ,0BAA5HzH,EAAE,aAAavB,EAAE,IAAIuD,GAAE,CAACyF,MAAMtI,EAAEyI,UAAUlJ,OAAO,SAASD,EAAE,IAAIyC,EAAAA,EAAE,CAACuG,MAAMtI,EAAEyI,UAAUlJ,OAAO,IAAIuB,EAAE,CAACwH,MAAMtI,EAAEyI,UAAUlJ,UAAqCsB,EAAEgK,sBAAsBtL,KAAKoS,wBAAwB,yBAAyB9Q,IAAIA,EAAEsI,qBAAqB5J,KAAKqS,uBAAuB,gBAAgB/Q,IAAIA,EAAEgH,YAAYtI,KAAKsS,SAAS,gBAAgBtS,KAAKsS,SAAStS,KAAKsS,QAAQhK,aAAatI,KAAKoT,eAAe9R,GAAGtB,KAAKsS,QAAQhR,EAAEtB,KAAKoK,eAAgB,GAAxwF,4BAAwwF,SAAerK,GAAGA,IAAIA,EAAE8I,WAAW9I,EAAEsT,SAAStT,EAAE8I,UAAS,EAAG7I,KAAK8I,UAAUwK,WAAWvT,EAAE+I,UAAU,GAAG/I,EAAE+I,UAAU6J,UAAU3S,KAAK+I,MAAM4J,UAAU5S,EAAE+I,UAAU8J,OAAO5S,KAAK+I,MAAM6J,OAAQ,GAA97F,4BAA87F,SAAe7S,IAAI,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG8I,YAAW7I,KAAK8I,UAAUoD,YAAYnM,EAAE+I,WAAW/I,EAAEwT,SAASxT,EAAE8I,UAAS,EAAI,KAAhiG,IAAe3D,EAAAA,GAAAA,IAAEG,EAAAA,GAAAA,IAAEtC,EAAAA,EAAAA,GAAEyC,GAAAA,OAA6gGzF,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,OAAKqB,GAAE0M,UAAU,eAAU,IAAQnQ,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,OAAKqB,GAAE0M,UAAU,wBAAwB,OAAMnQ,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,OAAKqB,GAAE0M,UAAU,uBAAuB,MAAgE,IAAMzM,GAAhED,IAAEzD,EAAAA,EAAAA,GAAE,EAAC2C,EAAAA,EAAAA,GAAE,gDAAgDc,G,qFCAhrIZ,EAAE,I,SAAI9C,GAAE,CAAC0T,kBAAkB,QAAQC,uBAAuB,aAAaC,qBAAqB,WAAWC,oBAAoB,UAAUC,uBAAuB,aAAaC,KAAK,SAAS,SAAS9T,EAAED,GAAG,OAAO8C,EAAEgI,OAAO9K,EAAG,CAAyT,SAASY,EAAEZ,GAAG,MAA2DA,EAAEuC,WAA7CO,EAAhB,EAAMkR,UAA2B/T,EAAjC,EAAkBgU,eAA0B5R,EAA5C,EAAmC6R,SAAqBtT,EAAxD,EAA8C+L,UAA0B,OAAO,IAAI7J,IAAI,MAAM7C,GAAG,MAAMoC,GAAG,OAAOzB,GAAG,OAAOA,EAAG,C,8PCASmC,EAAE,SAAAA,GAAI,IAAIa,EAAC,0CAAiB,aAAa,6BAAC,eAASkD,YAAgBqN,mBAAmB,UAAU,EAAKlL,MAAM,KAAK,EAAK6D,KAAK,KAAK,EAAK5F,SAAS,KAApG,CAAyG,CAAvI,uCAAuI,WAAiB,OAAOhH,KAAKkU,gBAAiB,GAArL,4BAAqL,WAAiB,OAAOlU,KAAKmU,kBAAkBnU,KAAK4M,KAAK1I,iBAAkB,GAAhQ,4BAAgQ,WAAuB,OAAOlE,KAAK+I,MAAMuG,UAAU,2BAA2BtP,KAAK+I,MAAMuG,UAAUtP,KAAK+I,MAAMuG,SAAS8E,sBAAuB,GAA9Y,+BAA8Y,WAA0B,OAAOrR,EAAAA,EAAAA,KAAEzB,EAAAA,EAAAA,IAAEtB,KAAK+I,MAAMyC,YAAYxL,KAAK4M,KAAK1I,kBAAiB,EAAI,GAAze,sCAAye,SAAyBpE,GAAG,QAAQE,KAAKmU,kBAAkBrU,EAAG,GAAviB,+BAAuiB,SAAkBA,GAAG,IAAMC,GAAEuB,EAAAA,EAAAA,IAAEtB,KAAK+I,MAAMyC,YAAY9K,GAAEqC,EAAAA,EAAAA,IAAEhD,EAAED,GAAE,GAAI,OAAO0C,EAAAA,EAAAA,IAAEzC,EAAED,EAAEY,EAAG,GAAznB,yEAAynB,WAAyBZ,EAAEwB,GAA3B,MAAAY,EAAA,2GAA0CzB,EAAGT,KAAT+I,MAAkBjJ,EAAtD,sBAA8D,IAAIY,EAAAA,EAAE,0CAA0C,gCAAgC,CAACqI,MAAMtI,IAArJ,UAA4KyB,EAAGzB,EAAhB4T,aAAkBlS,GAAE8B,EAAAA,EAAAA,GAAExD,EAAEa,GAAOY,KAAGU,EAAAA,EAAAA,IAAET,GAAnM,sBAA4M,IAAIzB,EAAAA,EAAE,0CAA0C,iDAAiD,CAAC2T,aAAanS,EAAEoS,cAAcnS,IAA3U,cAAqVY,EAAE,GAAvV,SAAwXtC,EAAE8T,SAASzU,EAAE,CAACkJ,WAAWhJ,KAAKgJ,aAAtZ,OAA4a,GAA5a,SAAiWxG,EAAjW,EAA2VgS,MAAoB3R,EAA/W,EAAmW4R,YAAoE/Q,EAAE,GAAMlB,GAAGA,EAAER,OAAO,CAAgQ,GAA/P0B,EAAE,iBAAiBjD,EAAEuN,MAAMvN,EAAEiU,mBAAmB,MAAMlS,EAAE,GAAGA,EAAE8E,KAAK,SAAAxH,GAAC,OAAEW,EAAEkU,qBAAqB7U,EAAzB,IAA8BqM,KAAK,MAAM3J,EAAE2J,KAAK,OAAYrM,EAAE,CAAC8U,SAAS,IAAGlU,EAAE,4BAAgCV,KAAK6U,sBAAsBnR,EAAEhD,IAASY,EAAvN,UAAyNb,EAAE4B,kBAA3N,iBAAyN,EAAc0R,sBAAvO,aAAyN,EAA8Be,WAAexT,EAAEU,OAAO,IAASjC,EAAEuB,EAAEyT,QAAQ,SAAAjV,GAAI,IAAMC,EAAED,EAAEoT,WAAWsB,OAAO1U,EAAEoT,WAAW8B,OAAOlV,EAAEoT,WAAW+B,MAAM,OAAOC,OAAOnV,KAAK2D,CAAE,IAAM3D,EAAEiC,OAAO,IAAStB,EAAEX,EAAE,KAAQ,IAAUA,KAAKW,EAAEwS,WAAcxS,EAAEwS,WAAWiC,eAAepV,KAAUuB,EAAEtB,KAAKiU,mBAAmBlU,EAAED,EAAEwB,GAAGtB,KAAK6U,sBAAsBnU,EAAEwS,WAAWnT,GAAGuB,IAAmC,mBAAxBsB,EAAEnC,EAAE4B,WAAWuP,WAA8B,cAAchP,IAAI9C,EAAE,oBAAF,OAAsB+C,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAI,GAAG/C,EAAE,oBAAF,OAAsB+C,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAI,KAAUX,EAAE,IAAInC,EAAAA,EAAEC,KAAKwL,WAAWzH,QAAQ,KAAKjE,IAAKiJ,MAAMtI,EAAEyB,EAAEkT,YAAYlT,EAAE6G,MAAMhG,EAAER,KAAKL,EAAG,CAA7sC,yBAAotCa,GAAptC,iDAAznB,4FAA+0D,SAAsBjD,EAAEC,GAAG,GAAG,iBAAiBD,EAAE,CAAC,IAAwHC,EAAEW,EAApHA,EAAEV,KAAK+I,MAAMuL,eAAetU,KAAK+I,MAAMuL,cAAce,WAAW/T,EAAEtB,KAAKsV,cAAc5U,EAAEX,GAAG6C,EAAEtB,GAAGA,EAAEiU,OAAO,GAAG3S,EAAW,OAAO9C,EAAE0V,OAAOC,SAAS,MAAY/U,GAANX,EAAE,KAAQ,IAAIC,KAAK0V,uBAAuB5V,EAAEC,EAAEW,EAAEkC,IAAI9C,EAAE0V,OAAOC,SAAS,MAAM1V,EAAEW,EAAE,IAAIV,KAAK0V,uBAAuB5V,EAAEC,EAAEW,EAAEkC,IAAI5C,KAAK2V,wBAAwB7V,EAAE8C,EAAI,QAAO9C,CAAE,GAAlsE,2BAAksE,SAAcA,EAAEC,GAAG,GAAID,GAAIA,EAAEkC,QAASjC,EAAnB,CAA4B,IAA4BuB,EAAtBZ,EAAEX,EAAE6V,cAAoB,OAAO9V,EAAE2C,MAAM,SAAA3C,GAAC,SAAKA,EAAE+V,WAAW/V,EAAE+V,UAAUD,gBAAgBlV,GAAGZ,EAAE+V,UAAUD,gBAAgBlV,EAAEoV,QAAQ,KAAK,QAAQxU,EAAExB,GAAE,EAAxG,IAA8GwB,CAA7J,CAA+J,GAA/4E,oCAA+4E,SAAuBxB,EAAEC,EAAEW,EAAEY,GAAE,WAAC,OAAOxB,GAAGC,GAAGW,GAAGY,EAAExB,EAAE0V,OAAOO,MAAMhW,GAAGuH,KAAK,SAAAxH,GAAC,OAAE,EAAK6V,wBAAwB7V,EAAEwB,EAAjC,IAAsC6K,KAAKzL,GAAGZ,CAAE,GAAzgF,qCAAygF,SAAwBA,EAAEC,GAAG,IAAID,IAAIC,EAAE,OAAOD,EAAE,IAAMY,EAAEsV,OAAOlW,GAAG,OAAOmW,MAAMvV,GAAGZ,EAAEC,EAAEwV,OAAO7U,EAAG,KAAzmF,GAAemC,GAA4lF,OAAO/C,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKiD,EAAEwM,UAAU,aAAQ,IAAQpQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,IAAE0B,EAAAA,KAAIuB,EAAEwM,UAAU,kBAAa,IAAQpQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKiD,EAAEwM,UAAU,YAAO,IAAQpQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKiD,EAAEwM,UAAU,aAAa,OAAMpQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,OAAKiD,EAAEwM,UAAU,gBAAW,IAAQpQ,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,IAAE,CAACyV,UAAS,KAAMxS,EAAEwM,UAAU,mBAAmB,MAAMxM,GAAE5D,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,GAAE,2CAA2CwB,EAAK,C,uMCArsGpC,EAAE,SAAAA,GAAI,IAAIC,EAAC,8IAAiB,WAAY,WAACvB,KAAK0S,QAAQ1M,KAAIpD,EAAAA,EAAAA,KAAG,kBAAI,EAAKmG,KAAT,GAAgB,WAAW,SAAArI,GAAI,EAAK8I,UAAU9I,EAAEyV,aAAa/S,OAAO,SAAA1C,IAAID,EAAAA,EAAAA,IAAEC,IAAIX,EAAAA,EAAAA,UAAY,EAAKqW,eAAerI,MAAMrN,EAAG,GAAG,IAAG,uBAAwB,KAAvM,GAAeY,GAA0L,OAAOZ,EAAAA,EAAAA,GAAE,EAACZ,EAAAA,EAAAA,OAAKyB,EAAE2O,UAAU,aAAQ,GAAQ3O,GAAEb,EAAAA,EAAAA,GAAE,EAACwB,EAAAA,EAAAA,GAAE,4CAA4CX,EAAK,C","sources":["../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/BaseImageryTileSubView2D.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryTileView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTile.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldTileView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/support/util.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../chunks/mat3f32.js\";import{RasterBitmap as s}from\"./RasterBitmap.js\";import{TiledDisplayObject as e}from\"../webgl/TiledDisplayObject.js\";class i extends e{constructor(t,e,i,r,a,n=null){super(t,e,i,r,a),this.bitmap=new s(n,null,null),this.bitmap.coordScale=[r,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}_createTransforms(){return{dvs:t(),tileMat3:t()}}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{i as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../../viewpointUtils.js\";import{brushes as r}from\"../brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as t}from\"../webgl/enums.js\";import o from\"../webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e),[r,t]=this._tileInfoView.tileInfo.size;return new i(e,s[0],s[3],r,t)}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"imagery (tile)\",brushes:[r.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}_getTileBounds(r){const i=this._tileInfoView.getTileBounds(e(),r);if(this.isCustomTilingScheme&&r.world){const{tileInfo:e}=this._tileInfoView,t=s(e.spatialReference);if(t){const{resolution:s}=e.lodAt(r.level),o=t/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*r.world,i[2]-=n*r.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{HandleOwner as t}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{debounce as l,isAbortError as a,eachAlways as o}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Point.js\";import u from\"../../../../layers/support/PixelBlock.js\";import p from\"../../../../layers/support/TileInfo.js\";import{update as y,unregister as d,register as g,getRasterId as m}from\"../../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as _}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{getWorldWidth as f,computeProjectedScales as w}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import\"../../tiling/PagedTileQueue.js\";import b from\"../../tiling/TileInfoView.js\";import\"../../tiling/TileKey.js\";import P from\"../../tiling/TileQueue.js\";import I from\"../../tiling/TileStrategy.js\";import{getWebGLCapabilities as C}from\"../../../webgl/capabilities.js\";import v from\"../../../../geometry/Extent.js\";const R=[0,0],T=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let V=class extends t{constructor(){super(...arguments),this._emptyTilePixelBlock=null,this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._srcResolutions=null,this.previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._isCustomTilingScheme=!1,this._globalUpdateRequested=!1,this.attached=!1,this.container=null,this.layer=null,this.timeExtent=null,this.redrawOrRefetch=l(((e,t)=>!this.previousLOD||this.layerView.suspended?Promise.resolve():e?this.updatingHandles.addPromise(this.doRefresh()):this.updatingHandles.addPromise(this._redrawImage(t))))}get useWebGLForProcessing(){return this._get(\"useWebGLForProcessing\")??!0}set useWebGLForProcessing(e){this._set(\"useWebGLForProcessing\",e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this.container.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new I({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.layerView.requestUpdate()}}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:v.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,this.previousLOD?.level!==r.level&&(this.previousLOD=r,null==this._symbolizerParams||this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}}moveEnd(){!this.layerView.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=new AbortController,0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.layerView.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.layerView.requestUpdate()}get updating(){return this._fetchQueue?.updating||this._globalUpdateRequested||!(!this.updatingHandles||!this.updatingHandles.updating)}attach(){C(\"2d\").supportsTextureFloat||(this.useWebGLForProcessing=!1),this._initializeTileInfo(),this._tileInfoView=new b(this.layerView.tileInfo,this.layerView.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new P({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this._fetchTile1(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new I({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._updateBlockCacheRegistry()}detach(){this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,d(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryUrl=this._blockCacheRegistryId=null}acquireTile(e){const t=this.container.createTile(e);return this._enqueueTileFetch(t),this.layerView.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this.container.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.layerView.requestUpdate()})),this.layerView.requestUpdate()}createEmptyTilePixelBlock(e=null){const t=null==e||e.join(\",\")===this._tileInfoView.tileInfo.size.join(\",\");if(t&&s(this._emptyTilePixelBlock))return this._emptyTilePixelBlock;e=e||this._tileInfoView.tileInfo.size;const[i,r]=e,l=new u({width:i,height:r,pixels:[new Uint8Array(i*r)],mask:new Uint8Array(i*r),pixelType:\"u8\"});return t&&(this._emptyTilePixelBlock=l),l}_fetchTile1(e,t){const i=s(t)&&t.signal,l=this.canUseWebGLForProcessing(),{layerView:a}=this,o=!a.tileInfo.isWrappable&&s(f(a.view.spatialReference)),h={allowPartialFill:!0,datumTransformation:a.datumTransformation,interpolation:l?\"nearest\":this.layer.interpolation,registryId:this._blockCacheRegistryId,requestRawData:l,signal:r(i),srcResolution:this._srcResolutions[e.level],timeExtent:a.timeExtent,tileInfo:a.tileInfo,disableWrapAround:o};return this.fetchTile(e,h)}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.layerView.view.spatialReference,t=new c({x:this.layerView.fullExtent.xmin,y:this.layerView.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),l=p.create({spatialReference:e,size:512,scales:i});(0===l.origin.x||l.origin.x>t.x)&&(l.origin=t),this._isCustomTilingScheme=r,this.layerView.set(\"tileInfo\",l),this._srcResolutions=s??[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){this.updatingHandles.addPromise(this._enqueueTileFetch1(e,t))}async _enqueueTileFetch1(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.layerView.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.layerView.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){a(i)&&T.error(i)}this._globalUpdateRequested=!1}!this.canUseWebGLForProcessing()&&\"rasterVF\"!==this.type||this.layerView.hasTilingEffects||null!=this._symbolizerParams||this._updateSymbolizerParams();const l=this._tileInfoView.getTileCoords(R,e.key),o=this._tileInfoView.getTileResolution(e.key);await this.updateTileSource(e,{source:t,symbolizerParams:this._symbolizerParams,globalSymbolizerParams:this._globalSymbolizerParams,suspended:r,bandIds:s,coords:l,resolution:o}),e.once(\"attach\",(()=>this.layerView.requestUpdate())),this.container.addChild(e)}catch(i){a(i)||T.error(i)}this.layerView.requestUpdate()}}async _redrawImage(e){if(0===this.container.children.length)return;await this.layer.updateRenderer(),this.layerView.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const t=this.container.children.map((async e=>this.updateTileSymbolizerParameters(e,{local:this._symbolizerParams,global:this._globalSymbolizerParams})));await o(t),this.container.requestRender()}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this.previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.layerView.view.extent,this.layerView.view.width,this.layerView.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:_(i.pixelBlock,this.layer.bandIds),isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds});!this.canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.layerView.view.spatialReference.isGeographic,resolution:{x:this.previousLOD.resolution,y:this.previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,raster:s}=this.layer,{multidimensionalDefinition:r}=this.layer.normalizeRasterFetchOptions({multidimensionalDefinition:this.layer.multidimensionalDefinition,timeExtent:this.layerView.timeExtent}),l=i?.multidimensionalInfo?s.getSliceIndex(r):null,a=m(t,l);if(a!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&d(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(a,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.layerView.view.scale),t=this._srcResolutions[e.level];y(a,this._blockCacheRegistryId,this.layerView.view.extent,this.layerView.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=a}}async doRefresh(){await this.layer.updateRenderer(),this.layerView.hasTilingEffects||this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._globalUpdateRequested=this.layerView.hasTilingEffects||!this.useProgressiveUpdate,this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await o(e)}};e([h()],V.prototype,\"_fetchQueue\",void 0),e([h()],V.prototype,\"_globalUpdateRequested\",void 0),e([h()],V.prototype,\"attached\",void 0),e([h()],V.prototype,\"container\",void 0),e([h()],V.prototype,\"layer\",void 0),e([h()],V.prototype,\"layerView\",void 0),e([h()],V.prototype,\"type\",void 0),e([h()],V.prototype,\"useWebGLForProcessing\",null),e([h()],V.prototype,\"useProgressiveUpdate\",null),e([h()],V.prototype,\"timeExtent\",void 0),e([h()],V.prototype,\"updating\",null),V=e([n(\"esri.views.2d.layers.imagery.BaseImageryTileSubView2D\")],V);export{V as BaseImageryTileSubView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RasterTileContainer as i}from\"../../engine/imagery/RasterTileContainer.js\";import{BaseImageryTileSubView2D as o}from\"./BaseImageryTileSubView2D.js\";import{canUseMajorityInterpolationOnDataSource as a}from\"../support/util.js\";let l=class extends o{constructor(){super(...arguments),this.container=null,this.layer=null,this.type=\"raster\"}attach(){super.attach(),this.container=new i(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme}detach(){super.detach(),this.container.removeAllChildren(),this.container=null}canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&a(this.layer))}fetchTile(e,r){return this.layer.fetchTile(e.level,e.row,e.col,r)}async updateTileSource(e,t){const{bandIds:s}=this.layer,i=this._getLayerInterpolation(),o=this.canUseWebGLForProcessing(),{source:a,globalSymbolizerParams:l,suspended:n,coords:c,resolution:p}=t,u=this.layerView.hasTilingEffects?l:t.symbolizerParams,{bitmap:m}=e;if([m.x,m.y]=c,m.resolution=p,a&&r(a)&&r(a.pixelBlock)){const e={extent:a.extent,pixelBlock:a.pixelBlock};if(m.rawPixelData=e,o)m.source=a.pixelBlock,m.isRendereredSource=!1;else{const r=await this.layer.applyRenderer(e,\"stretch\"===l?.type?l:null);m.source=r,m.isRendereredSource=!0}m.symbolizerParameters=o?u:null,o?m.transformGrid||(m.transformGrid=a.transformGrid):m.transformGrid=null}else{const e=this.createEmptyTilePixelBlock();m.source=e,m.symbolizerParameters=o?u:null,m.transformGrid=null}m.bandIds=o?s:null,m.width=this._tileInfoView.tileInfo.size[0],m.height=this._tileInfoView.tileInfo.size[1],m.interpolation=i,m.suspended=n,m.invalidateTexture()}async updateTileSymbolizerParameters(e,t){const{local:s,global:i}=t,{bandIds:o}=this.layer,a=this._getLayerInterpolation(),l=this.canUseWebGLForProcessing(),{bitmap:n}=e,{rawPixelData:c}=n;!l&&r(c)?(n.source=await this.layer.applyRenderer(c,\"stretch\"===i?.type?i:null),n.isRendereredSource=!0):(n.isRendereredSource&&r(c)&&(n.source=c.pixelBlock),n.isRendereredSource=!1),n.symbolizerParameters=l?this.layerView.hasTilingEffects?i:s:null,n.bandIds=l?o:null,n.interpolation=a,n.suspended=!1}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{interpolation:r}=this.layer,{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"bilinear\"===r||\"cubic\"===r?\"bilinear\":\"nearest\":r}};e([t()],l.prototype,\"container\",void 0),e([t()],l.prototype,\"layer\",void 0),e([t()],l.prototype,\"type\",void 0),l=e([s(\"esri.views.2d.layers.imagery.ImageryTileView2D\")],l);const n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{c as e}from\"../../../../chunks/mat3f32.js\";import{RasterVFDisplayObject as a}from\"./RasterVFDisplayObject.js\";import{TiledDisplayObject as i}from\"../webgl/TiledDisplayObject.js\";class r extends i{constructor(t,s,e,i,r,o=null){super(t,s,e,i,r),this.tileData=new a(o),this.tileData.coordScale=[i,r],this.tileData.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.tileData.destroy(),this.tileData=null,this.stage=null}set stencilRef(t){this.tileData.stencilRef=t}get stencilRef(){return this.tileData.stencilRef}_createTransforms(){return{dvs:e(),tileMat3:e()}}setTransform(e,a){super.setTransform(e,a);const i=a/(e.resolution*e.pixelRatio),r=this.transforms.tileMat3,[o,l]=this.tileData.offset,h=[this.x+o*a,this.y-l*a],[n,f]=e.toScreenNoRotation([0,0],h),{symbolTileSize:m}=this.tileData.symbolizerParameters,c=Math.round((this.width-this.tileData.offset[0])/m)*m,D=Math.round((this.height-this.tileData.offset[1])/m)*m,d=c/this.rangeX*i,u=D/this.rangeY*i;t(r,d,0,0,0,u,0,n,f,1),s(this.transforms.dvs,e.displayViewMat3,r),this.tileData.transforms.dvs=this.transforms.dvs}onAttach(){this.tileData.stage=this.stage}onDetach(){this.tileData.stage=null}}export{r as RasterVFTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../geometry/support/aaBoundingRect.js\";import s from\"./BrushVectorField.js\";import{RasterVFTile as r}from\"./RasterVFTile.js\";import{WGLDrawPhase as t}from\"../webgl/enums.js\";import i from\"../webgl/TileContainer.js\";class o extends i{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=[\"triangle\"]}createTile(s){const t=this._tileInfoView.getTileBounds(e(),s),[i,o]=this._tileInfoView.tileInfo.size;return new r(s,t[0],t[3],i,o)}prepareRenderPasses(e){const r=e.registerRenderPass({name:\"imagery (vf tile)\",brushes:[s],target:()=>this.children.map((e=>e.tileData)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===t.MAP&&this.symbolTypes.forEach((s=>{e.renderPass=s,super.doRender(e)}))}}export{o as RasterVFTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sampleVectorField as s}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFTileContainer as l}from\"../../engine/imagery/RasterVFTileContainer.js\";import{BaseImageryTileSubView2D as a}from\"./BaseImageryTileSubView2D.js\";let c=class extends a{constructor(){super(...arguments),this._handle=null,this.container=null,this.layer=null,this.type=\"rasterVF\"}canUseWebGLForProcessing(){return!1}async fetchTile(e,t){t={...t,interpolation:\"nearest\",requestProjectedLocalDirections:!0};const i=await this.layer.fetchTile(e.level,e.row,e.col,t);return\"vector-magdir\"===this.layer.rasterInfo.dataType&&i?.pixelBlock&&(i.pixelBlock=await this.layer.convertVectorFieldData(i.pixelBlock,t)),i}updateTileSource(e,i){const r=i.symbolizerParams,{tileData:o}=e;o.key=e.key,o.width=this._tileInfoView.tileInfo.size[0],o.height=this._tileInfoView.tileInfo.size[1];const{symbolTileSize:s}=r,{source:l}=i;if(o.offset=this._getTileSymbolOffset(o.key,s),t(l)&&t(l.pixelBlock)){const e={extent:l.extent,pixelBlock:l.pixelBlock};o.rawPixelData=e,o.symbolizerParameters=r,o.source=this._sampleVectorFieldData(l.pixelBlock,r,o.offset)}else{const e=[Math.round((this._tileInfoView.tileInfo[0]-o.offset[0])/s),Math.round((this._tileInfoView.tileInfo[1]-o.offset[1])/s)],t=this.createEmptyTilePixelBlock(e);o.source=t,o.symbolizerParameters=r}return o.invalidateVAO(),Promise.resolve(null)}updateTileSymbolizerParameters(e,i){const r=i.local,{symbolTileSize:o}=r,{tileData:s}=e;s.offset=this._getTileSymbolOffset(s.key,o);const l=s.symbolizerParameters.symbolTileSize;return s.symbolizerParameters=r,t(s.rawPixelData?.pixelBlock)&&l!==o&&(s.source=this._sampleVectorFieldData(s.rawPixelData.pixelBlock,s.symbolizerParameters,s.offset)),Promise.resolve(null)}attach(){super.attach(),this.container=new l(this._tileInfoView),this.container.isCustomTilingScheme=this._isCustomTilingScheme,this._updateSymbolType(this.layer.renderer),this._handle=i((()=>this.layer.renderer),(e=>this._updateSymbolType(e)))}detach(){super.detach(),this.container.removeAllChildren(),this._handle.remove(),this._handle=null}_getTileSymbolOffset(e,t){const i=e.col*this._tileInfoView.tileInfo.size[0]%t,r=e.row*this._tileInfoView.tileInfo.size[1]%t;return[i>t/2?t-i:-i,r>t/2?t-r:-r]}_sampleVectorFieldData(e,t,i){const{symbolTileSize:r}=t;return s(e,\"vector-uv\",r,i)}_updateSymbolType(e){\"vector-field\"===e.type&&(this.container.symbolTypes=\"wind-barb\"===e.style?[\"scalar\",\"triangle\"]:\"simple-scalar\"===e.style?[\"scalar\"]:[\"triangle\"])}};e([r()],c.prototype,\"container\",void 0),e([r()],c.prototype,\"layer\",void 0),e([r()],c.prototype,\"type\",void 0),c=e([o(\"esri.views.2d.layers.imagery.VectorFieldTileView2D\")],c);const n=c;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isAbortError as t}from\"../../../core/promiseUtils.js\";import{watch as r,syncAndInitial as o,initial as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import u from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as l}from\"./LayerView2D.js\";import c from\"./imagery/ImageryTileView2D.js\";import d from\"./imagery/VectorFieldTileView2D.js\";import{canUseMajorityInterpolationOnDataSource as p}from\"./support/util.js\";import v from\"../../layers/ImageryTileLayerView.js\";import w from\"../../layers/LayerView.js\";import b from\"../../layers/RefreshableLayerView.js\";const m=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\");let y=class extends(v(b(l(w)))){constructor(){super(...arguments),this._useWebGLForProcessing=!0,this._useProgressiveUpdate=!0,this.subview=null}get useWebGLForProcessing(){return this._useWebGLForProcessing}set useWebGLForProcessing(e){this._useWebGLForProcessing=e,this.subview&&\"useWebGLForProcessing\"in this.subview&&(this.subview.useWebGLForProcessing=e)}get useProgressiveUpdate(){return this._useWebGLForProcessing}set useProgressiveUpdate(e){this._useProgressiveUpdate=e,this.subview&&\"useProgressiveUpdate\"in this.subview&&(this.subview.useProgressiveUpdate=e)}update(e){this.subview.update(e),this.notifyChange(\"updating\")}isUpdating(){return!this.subview||this.subview.updating}attach(){this.layer.increaseRasterJobHandlerUsage(),this._updateSubview(),this.handles.add([r((()=>{const{layer:e}=this;return{bandIds:e.bandIds,renderer:e.renderer,interpolation:e.interpolation,multidimensionalDefinition:e.multidimensionalDefinition}}),((e,s)=>{const i=e.interpolation!==s.interpolation&&(\"majority\"===e.interpolation||\"majority\"===s.interpolation)&&p(this.layer),r=e.renderer!==s.renderer&&s.renderer?.type!==e.renderer?.type;r&&this._updateSubview();const o=e.multidimensionalDefinition!==s.multidimensionalDefinition||i||r;this.subview.redrawOrRefetch(o).catch((e=>{t(e)||m.error(e)})),this.notifyChange(\"updating\")})),r((()=>this.layer.blendMode??\"normal\"),(e=>{this.subview.container.blendMode=e}),o),r((()=>this.layer.effect??null),(e=>{this.subview.container.effect=e}),o),r((()=>this.timeExtent),(()=>{this.subview.timeExtent=this.timeExtent,this.subview.redrawOrRefetch(!0).catch((e=>{t(e)||m.error(e)}))}),a)],\"attach\")}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.subview.moveEnd()}async hitTest(e,i){return[{type:\"graphic\",layer:this.layer,mapPoint:e,graphic:new s({attributes:{},geometry:e.clone()})}]}doRefresh(){return this.subview.doRefresh()}_updateSubview(){const e=\"vector-field\"===this.layer.renderer.type?\"rasterVF\":\"flow\"===this.layer.renderer.type?\"flow\":\"raster\";if(this.subview){if(this.subview.type===e)return void this._attachSubview(this.subview);this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null}const{layer:s}=this;let i;i=\"rasterVF\"===e?new d({layer:s,layerView:this}):\"flow\"===e?new u({layer:s,layerView:this}):new c({layer:s,layerView:this}),\"useWebGLForProcessing\"in i&&(i.useWebGLForProcessing=this._useWebGLForProcessing),\"useProgressiveUpdate\"in i&&(i.useProgressiveUpdate=this._useProgressiveUpdate),\"previousLOD\"in i&&(i.previousLOD=this.subview&&\"previousLOD\"in this.subview&&this.subview.previousLOD),this._attachSubview(i),this.subview=i,this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([n()],y.prototype,\"subview\",void 0),e([n()],y.prototype,\"useWebGLForProcessing\",null),e([n()],y.prototype,\"useProgressiveUpdate\",null),y=e([h(\"esri.views.2d.layers.ImageryTileLayerView2D\")],y);const g=y;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{unwrap as i,isNone as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as n}from\"../../layers/support/commonProperties.js\";import{getDefaultDatumTransformationForDataset as l,projectExtent as u}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as p}from\"./support/popupUtils.js\";const m=m=>{let f=class extends m{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}_getfullExtent(){return this.projectFullExtent(this.view.spatialReference)}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}get datumTransformation(){return l(i(this.layer.fullExtent),this.view.spatialReference,!0)}supportsSpatialReference(t){return!!this.projectFullExtent(t)}projectFullExtent(t){const e=i(this.layer.fullExtent),r=l(e,t,!1);return u(e,t,r)}async fetchPopupFeatures(t,i){const{layer:s}=this;if(!t)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,n=p(s,i);if(!a||o(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const l=[],{value:u,magdirValue:m}=await s.identify(t,{timeExtent:this.timeExtent});let f=\"\";if(u&&u.length){f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((t=>s.getStandardTimeValue(t))).join(\", \"):u.join(\", \");const t={ObjectId:0},r=\"Raster.ServicePixelValue\";t[r]=this._formatAttributeValue(f,r);const i=s.rasterInfo?.attributeTable?.features;if(i&&i.length>0){const e=i.filter((t=>{const e=t.attributes.value||t.attributes.Value||t.attributes.VALUE;return String(e)===f}));if(e.length>0){const r=e[0];if(r)for(const e in r.attributes)if(r.attributes.hasOwnProperty(e)){const i=this._rasterFieldPrefix+e;t[i]=this._formatAttributeValue(r.attributes[e],i)}}}const o=s.rasterInfo.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(t[\"Raster.Magnitude\"]=m?.[0],t[\"Raster.Direction\"]=m?.[1]);const a=new e(this.fullExtent.clone(),null,t);a.layer=s,a.sourceLayer=a.layer,l.push(a)}return l}_formatAttributeValue(t,e){if(\"string\"==typeof t){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,e),o=i&&i.format;if(o){let e,r;return t.trim().includes(\",\")?(e=\",\",r=e+\" \",this._formatDelimitedString(t,e,r,o)):t.trim().includes(\" \")?(e=r=\" \",this._formatDelimitedString(t,e,r,o)):this._formatNumberFromString(t,o)}}return t}_getFieldInfo(t,e){if(!t||!t.length||!e)return;const r=e.toLowerCase();let i;return t.some((t=>!(!t.fieldName||t.fieldName.toLowerCase()!==r&&t.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=t,!0))),i}_formatDelimitedString(t,e,r,i){return t&&e&&r&&i?t.trim().split(e).map((t=>this._formatNumberFromString(t,i))).join(r):t}_formatNumberFromString(t,e){if(!t||!e)return t;const r=Number(t);return isNaN(r)?t:e.format(r)}};return t([s()],f.prototype,\"layer\",void 0),t([s(n)],f.prototype,\"timeExtent\",void 0),t([s()],f.prototype,\"view\",void 0),t([s()],f.prototype,\"fullExtent\",null),t([s()],f.prototype,\"tileInfo\",void 0),t([s({readOnly:!0})],f.prototype,\"hasTilingEffects\",null),f=t([a(\"esri.views.layers.ImageryTileLayerView\")],f),f};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let c=class extends i{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this.declaredClass).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([a(\"esri.layers.mixins.RefreshableLayerView\")],c),c};export{i as default};\n"],"names":["t","e","this","_timer","_cachedBlocks","Map","_size","_duration","_interval","Math","min","s","r","has","get","refCount","delete","controller","abort","ts","Date","now","set","block","i","c","_trim","_updateTimer","clear","_clearTimer","size","setInterval","Array","from","length","clearInterval","a","n","extent","rasterInfo","cache","push","u","some","h","decreaseRefCount","o","m","getBlock","l","x","isResolved","isRejected","then","catch","putBlock","d","deleteBlock","y","g","f","xmin","xmax","ymin","ymax","clone","normalize","p","spatialReference","k","transform","M","Set","inverseTransform","pyramidLevel","pyramidResolution","excessiveReading","R","storageInfo","C","origin","j","max","floor","v","ceil","B","b","pyramidBlockWidth","blockWidth","w","pyramidBlockHeight","blockHeight","$","I","H","E","P","add","forEach","bitmap","coordScale","once","ready","destroy","stage","stencilRef","transforms","dvs","tileMat3","arguments","isCustomTilingScheme","_getTileBounds","_tileInfoView","tileInfo","registerRenderPass","name","brushes","target","children","map","drawPhase","visible","getTileBounds","world","lodAt","level","resolution","T","V","_emptyTilePixelBlock","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_srcResolutions","previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_isCustomTilingScheme","_globalUpdateRequested","attached","container","layer","timeExtent","redrawOrRefetch","layerView","suspended","Promise","resolve","updatingHandles","addPromise","doRefresh","_redrawImage","_get","_set","useProgressiveUpdate","removeAllChildren","_getCacheSize","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","pause","state","update","resume","scale","getClosestInfoForScale","raster","toJSON","ioConfig","sampling","hasTilingEffects","_updateSymbolizerParams","updateCacheSize","AbortController","signal","updating","supportsTextureFloat","useWebGLForProcessing","_initializeTileInfo","fullExtent","_computeFetchConcurrency","concurrency","process","_fetchTile1","_updateBlockCacheRegistry","createTile","_enqueueTileFetch","key","id","removeChild","join","width","height","pixels","Uint8Array","mask","pixelType","canUseWebGLForProcessing","isWrappable","view","allowPartialFill","datumTransformation","interpolation","registryId","requestRawData","srcResolution","disableWrapAround","fetchTile","scales","srcResolutions","blockBoundary","maxCol","minCol","maxRow","minRow","_enqueueTileFetch1","bandIds","moving","error","type","getTileCoords","getTileResolution","updateTileSource","source","symbolizerParams","globalSymbolizerParams","coords","addChild","updateRenderer","_updateGlobalSymbolizerParams","updateTileSymbolizerParameters","local","global","requestRender","fetchPixels","pixelBlock","symbolizer","generateWebGLParameters","_","isGCS","isGeographic","renderer","factor","outMin","round","outMax","url","normalizeRasterFetchOptions","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","reset","tiles","prototype","canRenderInWebGL","row","col","_getLayerInterpolation","rawPixelData","isRendereredSource","applyRenderer","symbolizerParameters","transformGrid","createEmptyTilePixelBlock","invalidateTexture","colorRamp","tileData","pixelRatio","offset","toScreenNoRotation","symbolTileSize","D","rangeX","rangeY","displayViewMat3","symbolTypes","renderPass","_handle","requestProjectedLocalDirections","dataType","convertVectorFieldData","_getTileSymbolOffset","_sampleVectorFieldData","invalidateVAO","_updateSymbolType","remove","style","_useWebGLForProcessing","_useProgressiveUpdate","subview","notifyChange","increaseRasterJobHandlerUsage","_updateSubview","handles","blendMode","effect","decreaseRasterJobHandlerUsage","_detachSubview","moveEnd","mapPoint","graphic","attributes","geometry","_attachSubview","attach","addChildAt","detach","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","mesh","bandCount","attributeTable","colormap","_rasterFieldPrefix","_getfullExtent","projectFullExtent","dynamicRangeAdjustment","popupEnabled","popupTemplate","identify","value","magdirValue","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","features","filter","Value","VALUE","String","hasOwnProperty","sourceLayer","fieldInfos","_getFieldInfo","format","trim","includes","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","Number","isNaN","readOnly","dataChanged","declaredClass"],"sourceRoot":""}