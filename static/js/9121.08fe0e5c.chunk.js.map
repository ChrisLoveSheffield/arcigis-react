{"version":3,"file":"static/js/9121.08fe0e5c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","../node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js","../node_modules/@arcgis/core/views/layers/WMSLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";const a={visible:\"visibleSublayers\"};let l=class extends(s(r)){constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.unshift(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t?\"TRUE\":\"FALSE\",version:o,layers:r}}};e([t()],l.prototype,\"layer\",null),e([t({readOnly:!0})],l.prototype,\"layers\",null),e([t({type:Number})],l.prototype,\"scale\",void 0),e([t({readOnly:!0})],l.prototype,\"version\",null),e([t({readOnly:!0})],l.prototype,\"visibleSublayers\",null),l=e([o(\"esri.layers.support.ExportWMSImageParameters\")],l);export{l as ExportWMSImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/set.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../geometry/Extent.js\";import i from\"./DynamicLayerView3D.js\";import o from\"../../layers/WMSLayerView.js\";let a=class extends(o(i)){constructor(){super(...arguments),this.type=\"wms-3d\"}initialize(){this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\"))),this.updatingHandles.add((()=>this.exportImageParameters?.version),(()=>{this.updatingHandles.addPromise(this.refreshDebounced())}))}createFetchPopupFeaturesQuery(e){const t=this.findExtentInfoAt(e),r=t.extent,i=new s(r[0],r[1],r[2],r[3],this._spatialReference),o=t.imageSize,a=o.width,n=o.height,p=i.width/a;return{extent:i,width:a,height:n,x:Math.round((e.x-i.xmin)/p),y:Math.round((i.ymax-e.y)/p)}}getFetchOptions(){return{timeExtent:this.timeExtent}}};a=e([r(\"esri.views.3d.layers.WMSLayerView3D\")],a);const n=a;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as s}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as p}from\"../../layers/support/ExportWMSImageParameters.js\";const a=a=>{let i=class extends a{initialize(){this.exportImageParameters=new p({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:p,width:a,height:i});const c=t.fetchFeatureInfo(p,a,i,m,n);return Promise.resolve(c?[c]:[])}};return e([t()],i.prototype,\"exportImageParameters\",void 0),e([t({readOnly:!0})],i.prototype,\"exportImageVersion\",null),e([t()],i.prototype,\"layer\",void 0),e([t(s)],i.prototype,\"timeExtent\",void 0),i=e([o(\"esri.layers.mixins.WMSLayerView\")],i),i};export{a as default};\n"],"names":["a","visible","l","e","scale","this","_get","_set","handles","remove","add","sublayers","on","notifyChange","propertyName","visibleSublayers","filter","name","map","join","commitProperty","layer","r","s","t","forEach","o","minScale","maxScale","unshift","layers","format","imageFormat","request","service","styles","transparent","imageTransparency","version","prototype","readOnly","type","Number","arguments","serviceSupportsSpatialReference","view","spatialReference","addResolvingPromise","Promise","reject","updatingHandles","exportImageParameters","addPromise","refreshDebounced","findExtentInfoAt","extent","i","_spatialReference","imageSize","width","n","height","p","x","Math","round","xmin","y","ymax","timeExtent","destroy","popupEnabled","createFetchPopupFeaturesQuery","resolve","m","c","fetchFeatureInfo"],"sourceRoot":""}