"use strict";(self.webpackChunkuums_front_end=self.webpackChunkuums_front_end||[]).push([[9527],{98074:function(t,e,i){i.d(e,{p:function(){return p}});var o=i(15671),n=i(43144),r=i(60136),s=i(29388),a=i(27366),h=i(42537),l=i(92026),c=i(67426),u=i(49861),d=(i(63780),i(93169),i(25243),i(69912)),p=function(t){var e=function(t){(0,r.Z)(i,t);var e=(0,s.Z)(i);function i(){var t;return(0,o.Z)(this,i),(t=e.apply(this,arguments)).parent=null,t._userInteractive=!1,t._interactiveViewModelCount=0,t}return(0,n.Z)(i,[{key:"interactive",get:function(){return this._interactiveViewModelCount>0||this._userInteractive},set:function(t){this._userInteractive=t}},{key:"updating",get:function(){return!1}},{key:"visible",get:function(){return!(0,l.pC)(this.parent)||this.parent.visible&&!this.parent.suspended},set:function(t){void 0!==t?this._override("visible",t):this._clearOverride("visible")}},{key:"forceInteractiveForViewModel",value:function(){var t=this;return this._interactiveViewModelCount++,(0,h.kB)((function(){return t._interactiveViewModelCount--}))}}]),i}((0,c.v)(t));return(0,a._)([(0,u.Cb)({readOnly:!0})],e.prototype,"type",void 0),(0,a._)([(0,u.Cb)({constructOnly:!0})],e.prototype,"analysis",void 0),(0,a._)([(0,u.Cb)({constructOnly:!0})],e.prototype,"parent",void 0),(0,a._)([(0,u.Cb)({constructOnly:!0})],e.prototype,"view",void 0),(0,a._)([(0,u.Cb)({type:Boolean})],e.prototype,"interactive",null),(0,a._)([(0,u.Cb)()],e.prototype,"_userInteractive",void 0),(0,a._)([(0,u.Cb)({readOnly:!0})],e.prototype,"updating",null),(0,a._)([(0,u.Cb)()],e.prototype,"visible",null),(0,a._)([(0,u.Cb)()],e.prototype,"_interactiveViewModelCount",void 0),e=(0,a._)([(0,d.j)("esri.views.3d.analysis.AnalysisView3D")],e)}},61201:function(t,e,i){i.d(e,{Kc:function(){return A},jB:function(){return j}});var o=i(15671),n=i(43144),r=i(60136),s=i(29388),a=i(100),h=i(92026),l=i(94172),c=i(17842),u=i(88396),d=i(11186),p=i(71353),v=i(86244),_=i(11208),f=i(27366),y=i(85015),x=i(49861),b=(i(63780),i(93169),i(25243),i(69912)),m=(i(42877),function t(e,i,o){for(var n=0,r=i.length;n<r;n++){var s=i[n];Array.isArray(s)?t(e,s,o):null!=s&&!1!==s&&("string"==typeof s&&(s={vnodeSelector:"",properties:void 0,children:void 0,text:s.toString(),domNode:null}),o.push(s))}});function g(t,e,i){if(Array.isArray(e))i=e,e=void 0;else if(e&&("string"==typeof e||e.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var o,n;return i&&1===i.length&&"string"==typeof i[0]?o=i[0]:i&&(m(t,i,n=[]),0===n.length&&(n=void 0)),{vnodeSelector:t,properties:e,children:n,text:""===o?void 0:o,domNode:null}}i(88367);var S=function(t){(0,r.Z)(i,t);var e=(0,s.Z)(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t)).startX=0,n.startY=0,n.endX=0,n.endY=0,n.width=1,n.color=[0,0,0,.5],n.visible=!0,n}return(0,n.Z)(i,[{key:"startPosition",get:function(){return[this.startX,this.startY]},set:function(t){this._set("startX",t[0]),this._set("startY",t[1])}},{key:"endPosition",get:function(){return[this.endX,this.endY]},set:function(t){this._set("endX",t[0]),this._set("endY",t[1])}},{key:"strokeStyle",get:function(){var t=this.color;return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(t[3],")")}},{key:"lineCap",get:function(){return"round"}},{key:"render",value:function(){var t=this._calculateCoordinates(C),e=t.height,i=t.left,o=t.top,n=t.width,r=t.x1,s=t.x2,a=t.y1,h=t.y2,l="stroke: ".concat(this.strokeStyle,"; stroke-width: ").concat(this.width,"; stroke-linecap: ").concat(this.lineCap,";");return g("div",{classes:{"esri-line-overlay-item":!0},styles:{left:i+"px",top:o+"px",width:n+"px",height:e+"px",visibility:this.visible?"visible":"hidden"}},[g("svg",{width:n,height:e},[g("line",{x1:r,y1:a,x2:s,y2:h,style:l})])])}},{key:"renderCanvas",value:function(t){if(this.visible){t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;var e=this._calculateCoordinates(C);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}}},{key:"_calculateCoordinates",value:function(t){var e=Math.min(this.startX,this.endX),i=Math.max(this.startX,this.endX),o=Math.min(this.startY,this.endY),n=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=o-r,t.width=i-e+2*r,t.height=Math.max(20,n-o+2*r),t.x1=this.startX-e+r,t.y1=this.startY-o+r,t.x2=this.endX-e+r,t.y2=this.endY-o+r,t}}]),i}(y.Z);(0,f._)([(0,x.Cb)()],S.prototype,"startX",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"startY",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"endX",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"endY",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"startPosition",null),(0,f._)([(0,x.Cb)()],S.prototype,"endPosition",null),(0,f._)([(0,x.Cb)()],S.prototype,"width",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"color",void 0),(0,f._)([(0,x.Cb)()],S.prototype,"visible",void 0),(0,f._)([(0,x.Cb)({readOnly:!0})],S.prototype,"strokeStyle",null),S=(0,f._)([(0,b.j)("esri.views.overlay.LineOverlayItem")],S);var C={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},w=S,k=i(37762),R=i(29439),I={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"},T=function(t){(0,r.Z)(i,t);var e=(0,s.Z)(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t)).x=0,n.y=0,n.text="-",n.fontSize=14,n.anchor="center",n.visible=!0,n._backgroundColor="rgba(0, 0, 0, 0.6)",n._textColor="white",n._textShadowColor=[0,0,0],n._textShadowSize=1,n}return(0,n.Z)(i,[{key:"position",get:function(){return[this.x,this.y]},set:function(t){this._set("x",t[0]),this._set("y",t[1])}},{key:"_textShadow",get:function(){var t=(0,R.Z)(this._textColor,3),e=t[0],i=t[1],o=t[2];return"0 0 ".concat(this._textShadowSize,"px rgb(").concat(e,", ").concat(i,", ").concat(o,")")}},{key:"_padding",get:function(){return.5*this.fontSize}},{key:"_borderRadius",get:function(){return this._padding}},{key:"render",value:function(){return g("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this._backgroundColor,color:this._textColor,padding:this._padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])}},{key:"renderCanvas",value:function(t){if(this.visible){var e=t.font.replace(/^(.*?)px/,"");t.font="".concat(this.fontSize,"px ").concat(e);var i=this._padding,o=this._borderRadius,n=t.measureText(this.text).width,r=this.fontSize,s=P[this.anchor];t.textAlign="center",t.textBaseline="middle";var a=n+2*i,h=r+2*i,l=this.x+s.x*a,c=this.y+s.y*h;this._roundedRect(t,l,c,a,h,o),t.fillStyle=this._backgroundColor,t.fill();var u=this.x+(s.x+.5)*a,d=this.y+(s.y+.5)*h;this._renderTextShadow(t,this.text,u,d),t.fillStyle=this._textColor,t.fillText(this.text,u,d)}}},{key:"_renderTextShadow",value:function(t,e,i,o){t.lineJoin="miter",t.fillStyle="rgba(".concat(this._textShadowColor[0],", ").concat(this._textShadowColor[1],", ").concat(this._textShadowColor[2],", ").concat(1/Z.length,")");var n,r=this._textShadowSize,s=(0,k.Z)(Z);try{for(s.s();!(n=s.n()).done;){var a=(0,R.Z)(n.value,2),h=a[0],l=a[1];t.fillText(e,i+r*h,o+r*l)}}catch(c){s.e(c)}finally{s.f()}}},{key:"_roundedRect",value:function(t,e,i,o,n,r){t.beginPath(),t.moveTo(e,i+r),t.arcTo(e,i,e+r,i,r),t.lineTo(e+o-r,i),t.arcTo(e+o,i,e+o,i+r,r),t.lineTo(e+o,i+n-r),t.arcTo(e+o,i+n,e+o-r,i+n,r),t.lineTo(e+r,i+n),t.arcTo(e,i+n,e,i+n-r,r),t.closePath()}},{key:"_cssClasses",value:function(){var t={"esri-text-overlay-item":!0};for(var e in I)t[I[e]]=this.anchor===e;return t}}]),i}(y.Z);(0,f._)([(0,x.Cb)()],T.prototype,"x",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"y",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"position",null),(0,f._)([(0,x.Cb)()],T.prototype,"text",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"fontSize",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"anchor",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"visible",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"_backgroundColor",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"_textColor",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"_textShadowColor",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"_textShadowSize",void 0),(0,f._)([(0,x.Cb)()],T.prototype,"_textShadow",null),(0,f._)([(0,x.Cb)()],T.prototype,"_padding",null),(0,f._)([(0,x.Cb)()],T.prototype,"_borderRadius",null),T=(0,f._)([(0,b.j)("esri.views.overlay.TextOverlayItem")],T);for(var P={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},Z=[],M=0;M<360;M+=22.5)Z.push([Math.cos(Math.PI*M/180),Math.sin(Math.PI*M/180)]);var z=T,A=function(t){(0,r.Z)(i,t);var e=(0,s.Z)(i);function i(t){var n;return(0,o.Z)(this,i),(n=e.call(this,t.view))._handles=new a.Z,n._textItem=null,n._calloutItem=null,n._showCallout=!0,n._showText=!0,n._geometry=null,n._text="-",n._fontSize=14,n._distance=25,n._anchor="right",n.applyProps(t),n}return(0,n.Z)(i,[{key:"geometry",get:function(){return this._geometry},set:function(t){this._geometry=t,this._updateLabelPosition()}},{key:"textItem",get:function(){return this._textItem}},{key:"text",get:function(){return this._text},set:function(t){this._text=t,this.attached&&(this._textItem.text=this._text)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}},{key:"distance",get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}},{key:"overlaps",value:function(t){return!!this.attached&&this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem)}},{key:"_updateLabelPosition",value:function(){if(this.attached){this._showText=!1,this._showCallout=!1;var t=this.geometry,e=this.view,i=this.visible;if((0,h.pC)(t)&&e._stage)switch(t.type){case"point":if(!this._computeLabelPositionFromPoint(t.point,J))break;if(t.callout){var o=e.state.camera,n=t.callout.distance;(0,u.b)($,$,[0,t.callout.offset]),o.renderToScreen($,J),(0,u.a)(H,0,1),(0,u.f)(H,H,n*o.pixelRatio),(0,u.b)(H,H,$),o.renderToScreen(H,U),this._showCallout=this._updatePosition(J,U)}else this._textItem.position=[J[0],J[1]],this._textItem.anchor="center";this._showText=!0;break;case"corner":if(!this._computeLabelPositionFromCorner(t,this._distance,J,U))break;this._showCallout=this._updatePosition(J,U),this._showText=!0;break;case"segment":if(!this._computeLabelPositionFromSegment(t,this._distance,this._anchor,J,U))break;this._showText=!0;var r=this._updatePosition(J,U);this._showCallout=!1!==t.callout&&r,this._showCallout||(this._textItem.anchor="center")}this.updateVisibility(i)}}},{key:"_computeLabelPositionFromPoint",value:function(t,e){var i=this.view.state.camera;return i.projectToRenderScreen(t,$),!($[2]<0||$[2]>1)&&(i.renderToScreen($,e),!0)}},{key:"_computeLabelPositionFromCorner",value:function(t,e,i,o){if(!t)return!1;var n=this.view.state.camera;return X(t.left,1,n,O),(0,u.n)(O,O),X(t.right,0,n,V),(0,u.b)(H,O,V),(0,u.n)(H,H),(0,u.i)(H,H),n.projectToRenderScreen(t.left.endRenderSpace,$),!($[2]<0||$[2]>1)&&(n.renderToScreen($,i),(0,u.f)(H,H,e*n.pixelRatio),(0,u.b)(H,H,$),n.renderToScreen(H,o),!0)}},{key:"_computeLabelPositionFromSegment",value:function(t,e,i,o,n){if(!t)return!1;var r=t.segment,s=this.view.state.camera;(0,_.CM)(r.startRenderSpace,r.endRenderSpace,s,O),(0,u.a)(H,-O[1],O[0]);var a=!1;switch(i){case"top":a=H[1]<0;break;case"bottom":a=H[1]>0;break;case"left":a=H[0]>0;break;case"right":a=H[0]<0}if(a&&(0,u.n)(H,H),0===(0,u.o)(H))switch(i){case"top":H[1]=1;break;case"bottom":H[1]=-1;break;case"left":H[0]=-1;break;case"right":H[0]=1}return r.eval(E[t.sampleLocation],F),s.projectToRenderScreen(F,$),!($[2]<0||$[2]>1)&&(s.renderToScreen($,o),(0,u.f)(H,H,e*s.pixelRatio),(0,u.b)(H,H,$),s.renderToScreen(H,n),!0)}},{key:"_updatePosition",value:function(t,e){if(e){var i=e[0]-t[0],o=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(i)>Math.abs(o)?i>0?"left":"right":o>0?"top":"bottom",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor="center",!1}},{key:"createResources",value:function(){var t=this;this._textItem=new z({visible:!0,text:this._text,fontSize:this._fontSize}),this._calloutItem=new w({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add((0,l.YP)((function(){return t.view.state.camera}),(function(){return t._updateLabelPosition()})))}},{key:"destroyResources",value:function(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}},{key:"updateVisibility",value:function(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}]),i}(v.l);function X(t,e,i,o){t.eval(e,Y,L),(0,d.a)(B,Y,L),i.projectToRenderScreen(Y,W),i.projectToRenderScreen(B,N),(0,u.g)(o,D,G),(0,u.i)(o,o)}function j(t){switch(t){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}var Y=(0,p.c)(),B=(0,p.c)(),L=(0,p.c)(),O=(0,c.gX)(),V=(0,c.gX)(),H=(0,c.gX)(),F=(0,p.c)(),$=(0,c.J$)(),J=(0,c.s1)(),U=(0,c.s1)(),W=(0,c.J$)(),G=W,N=(0,c.J$)(),D=N,E={start:0,center:.5,end:1}},9052:function(t,e,i){i.d(e,{u4:function(){return d},y$:function(){return u}});var o=i(15671),n=i(43144),r=i(11186),s=i(71353),a=i(79803),h=i(92183),l=i(51378),c=i(80064),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.c)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.c)();(0,o.Z)(this,t),this.startRenderSpace=e,this.endRenderSpace=i,this.type="euclidean"}return(0,n.Z)(t,[{key:"eval",value:function(t,e,i){return(0,r.h)(e,this.startRenderSpace,this.endRenderSpace,t),i&&((0,r.b)(i,this.endRenderSpace,this.startRenderSpace),(0,r.n)(i,i)),e}},{key:"createRenderGeometry",value:function(t,e){var i=[],o=[],n=function(e,n){var s=v;(0,r.b)(s,e,t),i.push([s[0],s[1],s[2]]),o.push([n[0],n[1],n[2]])},s=e.worldUpAtPosition(this.eval(.5,p),l.WM.get());return n(this.startRenderSpace,s),n(this.endRenderSpace,s),{points:i,normals:o}}}],[{key:"fromPositionAndVector",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,r.g)(p,i,o),(0,r.a)(p,e,p),new t((0,s.a)(e),(0,s.a)(p))}}]),t}(),d=function(){function t(e,i,n){(0,o.Z)(this,t),this.startRenderSpace=e,this.endRenderSpace=i,this.renderSpatialReference=n,this.type="geodesic",this._start=(0,s.c)(),this._end=(0,s.c)(),this._pcpf=(0,h.rS)(n),this._project=(0,a.Up)(n,this._pcpf),this._projectIn(e,this._start),this._projectIn(i,this._end)}return(0,n.Z)(t,[{key:"_projectIn",value:function(t,e){this._project?(0,a.SH)(t,this.renderSpatialReference,e,this._pcpf):(0,r.c)(e,t)}},{key:"eval",value:function(t,e,i){if(this._project)if(i){var o=v;(0,c.ek)(this._start,this._end,t,e,o),(0,r.a)(_,e,o),(0,a.SH)(e,this._pcpf,e,this.renderSpatialReference),(0,a.SH)(_,this._pcpf,_,this.renderSpatialReference),(0,r.b)(i,_,e),(0,r.n)(i,i)}else(0,c.ZA)(this._start,this._end,t,e),(0,a.SH)(e,this._pcpf,e,this.renderSpatialReference);else(0,r.h)(e,this._start,this._end,t),i&&((0,r.b)(i,this._end,this._start),(0,r.n)(i,i));return e}},{key:"createRenderGeometry",value:function(t,e){for(var i=[],o=[],n=function(e,n){var s=_;(0,r.b)(s,e,t),i.push([s[0],s[1],s[2]]),o.push([n[0],n[1],n[2]])},s=0;s<128;++s){var a=s/127,h=p,l=v;this.eval(a,h),e.worldUpAtPosition(h,l),n(h,l)}return{points:i,normals:o}}}]),t}();var p=(0,s.c)(),v=(0,s.c)(),_=(0,s.c)()},11208:function(t,e,i){i.d(e,{$r:function(){return l},By:function(){return u},CM:function(){return h},a7:function(){return c}});var o=i(17842),n=i(88396),r=(i(11186),i(71353)),s=i(7882),a=i(74509);function h(t,e,i,o){i.projectToRenderScreen(t,v),i.projectToRenderScreen(e,_),(0,n.g)(o,_,v),(0,n.i)(o,o)}function l(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,r.c)(),s=e.toXYZ(t);return s[2]=(0,a.zx)(o,s,e.spatialReference,i)||0,o.renderCoordsHelper.toRenderCoords(s,e.spatialReference,n),n}function c(t,e,i,n){return"2d"===n.type?n.toScreen(e.vectorToPoint(t,d)):(l(t,e,i,n,p),n.state.camera.projectToScreen(p,f),(0,o.vW)(f[0],f[1]))}function u(t,e,i,o,n,r,s){var h=i.toXYZ(t),l=i.toXYZ(e);if("absolute-height"!==o.mode){var c=(0,a.zx)(n,h,i.spatialReference,o),u=(0,a.zx)(n,l,i.spatialReference,o),d=(null==c?u:null==u?c:Math.min(c,u))||0;h[2]=d,l[2]=d}n.renderCoordsHelper.toRenderCoords(h,i.spatialReference,r),n.renderCoordsHelper.toRenderCoords(l,i.spatialReference,s)}var d=new s.Z,p=(0,r.c)(),v=(0,o.J$)(),_=(0,o.J$)(),f=(0,o.s1)();(0,o.s1)()}}]);
//# sourceMappingURL=9527.1d408ced.chunk.js.map