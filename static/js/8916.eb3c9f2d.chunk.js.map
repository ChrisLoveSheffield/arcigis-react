{"version":3,"file":"static/js/8916.eb3c9f2d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LengthDimension.js","../node_modules/@arcgis/core/analysis/dimensionUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/settings.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingFactory.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../node_modules/@arcgis/core/views/interactive/snapping/SceneSnappingManagerPool.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/DimensioningTool.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/DimensioningVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LengthDimensionResult.js","../node_modules/@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionComputation.js","../node_modules/@arcgis/core/views/3d/analysis/DimensioningAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingConstraint.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{lengthDimensionAxes as o}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as e}from\"../core/Cyclical.js\";import{isNone as s,isSome as i}from\"../core/maybe.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import l from\"../geometry/Extent.js\";import c from\"../geometry/Point.js\";let y=class extends r{constructor(t){super(t),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.axis=\"horizontal\",this.offset=0,this.heading=0}get extent(){if(s(this.startPoint))return null;const t=l.fromPoint(this.startPoint);return i(this.endPoint)&&t.union(l.fromPoint(this.endPoint)),t}};t([n({type:[\"length\"]})],y.prototype,\"type\",void 0),t([n({type:c})],y.prototype,\"startPoint\",void 0),t([n({type:c})],y.prototype,\"endPoint\",void 0),t([n({type:o,nonNullable:!0})],y.prototype,\"axis\",void 0),t([n({type:Number,nonNullable:!0})],y.prototype,\"offset\",void 0),t([n({type:Number,nonNullable:!0}),p((t=>e.normalize(a(t),0,!0)))],y.prototype,\"heading\",void 0),t([n({readOnly:!0})],y.prototype,\"extent\",null),y=t([m(\"esri.analysis.LengthDimension\")],y);const u=y;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t=[\"horizontal\",\"vertical\",\"direct\"];export{t as lengthDimensionAxes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{watch as n}from\"../../../../core/reactiveUtils.js\";import{c as a,b as l,k as o,o as h}from\"../../../../chunks/vec3.js\";import{c as _,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as u}from\"../../../../chunks/vec4.js\";import{f as c,a as f}from\"../../../../chunks/vec4f32.js\";import{create as m,fromRay as y,getStart as g,getEnd as x}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as b}from\"../../../../geometry/support/frustum.js\";import{create as w,fromPoints as E,pointAt as R}from\"../../../../geometry/support/lineSegment.js\";import{create as O,fromPoints as D}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as A}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as C}from\"./Object3DVisualElement.js\";import P from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as j}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as v}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends C{constructor(t){super(t),this._ray=O(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=_(),this._end=d(1,0,0),this._width=1,this._color=c(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=c(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=j.OccludeAndTransparent,this._fadedExtensions=F,this.applyProps(t)}createExternalResources(){const e=new M(this.materialParameters);this._handles.add(n((()=>this.view.state.camera),(()=>{this._updateGeometry()})));const t=new A({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[_(),_()],i=this.extensionType===V.FADED;i&&t.push(_(),_());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=P.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this._updateVertices(e)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,a(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),l(this._end,e,this._end),D(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,o(this._start,e)||(a(this._start,e),D(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,o(this._end,e)||(a(this._end,e),D(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(u(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(u(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?f(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,F),this.recreateGeometry()}_updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){t(this.object)&&this._updateVertices(this.object)}_updateVertices(e){const s=this._extensionType===V.FADED?this._updateLineSegmentFinite(T):this._updateLineSegmentInfinite(this._extensionType,T);this._updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}_updateLineSegmentFinite(e){return E(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(y(this._ray,W),e){case V.LINE:W.c0=-Number.MAX_VALUE;break;case V.RAY:case V.GROUND_RAY:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&h(W.ray.direction,W.ray.direction),this._extensionType===V.GROUND_RAY&&null!=t&&(W.c1=Math.abs(s-t));break}}if(!b(s.frustum,W))return E(this._start,this._end,t);const i=g(W,L),n=x(W,S);return E(i,n,t)}_updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(v.POSITION).data;if(this.extensionType===V.FADED){const e=R(t,-this.fadedExtensions.start,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,0,L);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=R(t,1,L);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=R(t,1+this.fadedExtensions.end,L);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=R(t,0,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=R(t,1,L);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const W=m(),L=_(),S=_(),T=w();var V;!function(e){e[e.LINE=0]=\"LINE\",e[e.RAY=1]=\"RAY\",e[e.GROUND_RAY=2]=\"GROUND_RAY\",e[e.FADED=3]=\"FADED\"}(V||(V={}));const N=1/3,F={start:N,end:N};export{G as ExtendedLineVisualElement,V as ExtensionType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";const o={main:new t([255,127,0])};class i{constructor(){this.color=o.main,this.opacity=.5,this.radius=5}}class r{constructor(){this.fontSize=14}get height(){return 1.5*s(this.fontSize)}get offset(){return this.height+20}}class e{constructor(){this.pointManipulators=new i,this.labels=new r}}const n=new e;export{n as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{i as a,g as c,f as n,a as h,b as l}from\"../../../../chunks/vec2.js\";import{k as d,c as m,n as u,b as _,a as p}from\"../../../../chunks/vec3.js\";import{c as f,f as g}from\"../../../../chunks/vec3f64.js\";import{g as b,c as j}from\"../../../../chunks/vec4.js\";import{f as y}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as w}from\"./Object3DVisualElement.js\";import x from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as G}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as O}from\"../../webgl-engine/lib/VertexAttribute.js\";import{RibbonLineMaterial as R}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class v extends w{constructor(t){super(t),this._handles=new e,this._location=f(),this._direction=g(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=y(1,0,1,1),this._renderOccluded=G.OccludeAndTransparent,this.applyProps(t)}get location(){return this._location}set location(e){d(this._location,e)||(m(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(m(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){u(this._direction,_(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){b(e,this._color)||(j(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}createExternalResources(){const e=new R(this.materialParameters);this._handles.add(i((()=>this.view.state.camera),(()=>{this._updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=x.createPolylineGeometry([f(),f()]),s=x.createPolylineGeometry([f(),f()]),i=t(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this._updateVertices(e)}forEachExternalMaterial(e){r(this._externalResources)&&e(this._externalResources.material)}_updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;s(e)||this._updateVertices(e)}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),p(P,this.location,this.direction),t.projectToScreen(P,A),a(A,c(A,A,V)),this._updateVertexAttributes(t,e,0,V,A,1),this._updateVertexAttributes(t,e,1,V,A,-1)}_updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],c=a.geometry.getMutableAttribute(O.POSITION).data,d=n(M,h(M,i[1]*o,i[0]*-o),this.offset+this.width/2),m=l(k,l(k,l(k,s,n(k,i,this.length/2)),d),d),u=l(E,m,n(E,i,-this.length));e.unprojectFromScreen(m,P),c[0]=P[0],c[1]=P[1],c[2]=P[2],e.unprojectFromScreen(u,P),c[3]=P[0],c[4]=P[1],c[5]=P[2],t.geometryVertexAttrsUpdated(a)}}const P=f(),V=o(),A=o(),M=o(),k=o(),E=o();export{v as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{unwrapOr as t}from\"../../../core/maybe.js\";import{h as i}from\"../../../chunks/vec3.js\";import{c as o}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as r,ExtensionType as a}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as l}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as s}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as c}from\"./visualElements/RightAngleQuadVisualElement.js\";import{RenderOccludedFlag as d}from\"../webgl-engine/lib/Material.js\";import{defaults as p}from\"../../interactive/snapping/Settings.js\";import{LineSegmentHintType as m}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as v}from\"../../interactive/snapping/SnappingVisualizer.js\";import{anyMapPointToRender as u,anyMapPointsToRenderWithEqualRelativeZ as f}from\"../../interactive/support/viewUtils.js\";class g extends v{visualizeIntersectionPoint(i,o){const{coordinateHelper:r,view:a}=o;return n(new s({view:a,primitive:\"circle\",geometry:r.vectorToPoint(i.intersectionPoint),elevationInfo:t(i.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(p.orange),pixelSnappingEnabled:!1}))}visualizePoint(i,o){const{coordinateHelper:r,view:a}=o;return n(new s({view:a,primitive:\"circle\",geometry:r.vectorToPoint(i.point),elevationInfo:t(i.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(p.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,i){const{coordinateHelper:o,view:r}=i;return n(this._createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,o,t(e.elevationInfo,i.elevationInfo),r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(o,r){const{coordinateHelper:a,view:s}=r,c=t(o.elevationInfo,r.elevationInfo),m=u(o.lineStart,a,c,r.view),v=u(o.lineEnd,a,c,r.view),f=i(v,m,v,.5),g=new l({view:s,attached:!1,offset:p.parallelLineHintOffset,length:p.parallelLineHintLength,width:p.parallelLineHintWidth,color:e.toUnitRGBA(p.orange),location:f,renderOccluded:d.Opaque});return g.setDirectionFromPoints(m,f),g.attached=!0,n(g)}visualizeRightAngleQuad(i,o){const{coordinateHelper:r,view:a}=o,l=t(i.elevationInfo,o.elevationInfo);return n(new c({view:a,attached:!0,color:e.toUnitRGBA(p.orange),renderOccluded:d.Transparent,outlineRenderOccluded:d.Opaque,outlineColor:e.toUnitRGBA(p.orange),outlineSize:p.rightAngleHintOutlineSize,size:p.rightAngleHintSize,geometry:{previous:u(i.previousVertex,r,l,a),center:u(i.centerVertex,r,l,a),next:u(i.nextVertex,r,l,a)}}))}_createLineSegmentHintFromMap(e,n,t,i,r,a,l=!0,s=!0){const c=o(),d=o();return f(n,t,i,r,a,c,d),this._createLineSegmentHint(e,a,c,d,l,s)}_createLineSegmentHint(n,t,i,o,l=!0,s=!0){const c=new r({view:t,extensionType:a.FADED,start:i,end:o,color:e.toUnitRGBA(p.orange),renderOccluded:d.Opaque});switch(n){case m.TARGET:c.width=p.lineHintWidthTarget,c.fadedExtensions={start:0,end:p.lineHintFadedExtensions};break;case m.REFERENCE_EXTENSION:c.width=p.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case m.REFERENCE:c.width=p.lineHintWidthReference,c.fadedExtensions={start:l?p.lineHintFadedExtensions:0,end:s?p.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{g as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(r){super(r),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};r([s({constructOnly:!0})],e.prototype,\"layer\",void 0),r([s()],e.prototype,\"enabled\",void 0),r([s()],e.prototype,\"updating\",void 0),r([s()],e.prototype,\"availability\",void 0),e=r([t(\"esri.views.interactive.snapping.SnappingLayerSource\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../../chunks/vec3f64.js\";import{WorkerHandle as i}from\"../../../../../core/workers/WorkerHandle.js\";import{f as n}from\"../../../../../chunks/sphere.js\";import{absoluteHeightElevationInfo as a}from\"../../../../../support/elevationInfoUtils.js\";import{EdgeSnappingCandidate as d}from\"../../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as c}from\"../../candidates/VertexSnappingCandidate.js\";let p=class extends t{constructor(e){super(e),this.availability=0,this._ids=new Set,this.tmpP=s()}destroy(){this.workerHandle.destroy(),this.workerHandle=null}initialize(){this.workerHandle=new l(this.schedule,{fetchAllEdgeLocations:(e,t)=>this._fetchAllEdgeLocations(e,t)})}async fetchCandidates(e,t){const r=e.coordinateHelper.toXYZ(e.point);this.view.renderCoordsHelper.toRenderCoords(r,e.coordinateHelper.spatialReference,r);const o=\"number\"==typeof e.distance?e.distance:e.distance.pixelSize,s=await this.workerHandle.invoke({bounds:n(r[0],r[1],r[2],o),types:e.types},t),i=e.coordinateHelper;return s.candidates.sort(((e,t)=>e.distance-t.distance)),s.candidates.map((e=>this._convertCandidate(i,e)))}async add(e,t){this._ids.add(e.id),await this.workerHandle.invokeMethod(\"add\",e,t)}async remove(e,t){this._ids.delete(e.id),await this.workerHandle.invokeMethod(\"remove\",e,t)}_convertCandidate(e,t){switch(t.type){case\"edge\":return new d({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),edgeStart:this._convertRenderCoordinate(e,t.start),edgeEnd:this._convertRenderCoordinate(e,t.end),elevationInfo:a});case\"vertex\":return new c({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),elevationInfo:a})}}_convertRenderCoordinate(e,t){return this.view.renderCoordsHelper.fromRenderCoords(t,this.tmpP,e.spatialReference),e.fromXYZ(this.tmpP)}async _fetchAllEdgeLocations(e,t){const r=[],o=[];for(const{id:s,uid:i}of e.components)this._ids.has(s)&&r.push((async()=>{const e=await this.fetchEdgeLocations(s,t.signal);return o.push(e.locations.buffer),{id:s,uid:i,objectIds:e.objectIds,locations:e.locations.buffer,origin:e.origin,type:e.type}})());return{result:{components:(await Promise.all(r)).filter((({id:e})=>this._ids.has(e)))},transferList:o}}};e([r({constructOnly:!0})],p.prototype,\"view\",void 0),e([r({constructOnly:!0})],p.prototype,\"fetchEdgeLocations\",void 0),e([r({constructOnly:!0})],p.prototype,\"schedule\",void 0),e([r({readOnly:!0})],p.prototype,\"availability\",void 0),p=e([o(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],p);class l extends i{constructor(e,t){super(\"SceneLayerSnappingSourceWorker\",\"fetchCandidates\",{},e,{strategy:\"dedicated\",client:t})}}export{p as SceneLayerSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{abortMaybe as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js\";import{SceneLayerSnappingSourceWorkerHandle as d}from\"./sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js\";let c=class extends r{constructor(e){super(e),this.availability=1,this.abortController=new AbortController}get updating(){return this.updatingHandles.updating}get layer(){return this.layerSource.layer}destroy(){this.abortController=o(this.abortController)}initialize(){const e=this.view.resourceController;this.edgeWorker=new n((r=>e.schedule(r))),this.workerHandle=new d({view:this.view,schedule:r=>e.schedule(r),fetchEdgeLocations:async(e,r)=>{if(s(this.tracker))throw new Error(\"tracker-not-initialized\");return this.tracker.fetchEdgeLocations(e,this.edgeWorker,r)}}),this.updatingHandles.addPromise(this._setupLayerView()),this.handles.add([t(this.workerHandle),t(this.edgeWorker)])}async fetchCandidates(e,r){return this.workerHandle.fetchCandidates(e,r)}refresh(){}async _setupLayerView(){const e=await this.view.whenLayerView(this.layer);if(\"scene-layer-graphics-3d\"===e.type)return;const r={add:(e,r)=>this.updatingHandles.addPromise(this.workerHandle.add({id:e,bounds:r},this.abortController.signal)),remove:e=>this.updatingHandles.addPromise(this.workerHandle.remove({id:e},this.abortController.signal))};this.tracker=e.trackSnappingSources(r),this.handles.add(this.tracker)}};e([i({constructOnly:!0})],c.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],c.prototype,\"view\",void 0),e([i({readOnly:!0})],c.prototype,\"updating\",null),e([i({readOnly:!0})],c.prototype,\"availability\",void 0),c=e([a(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")],c);export{c as SceneLayerSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{isSome as o}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as p}from\"../../../geometry/support/vectorStacks.js\";import{SnappingTypes as n}from\"../../../layers/graphics/data/QueryEngineResult.js\";import a from\"./FeatureSnappingLayerSource.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";import{SceneLayerSnappingSource as u}from\"./featureSources/SceneLayerSnappingSource.js\";import{anyMapPointToRender as l}from\"../support/viewUtils.js\";let m=class extends r{constructor(e){super(e),this.options=null,this._snappingSources=new t}initialize(){this.own([this.view.on(\"layerview-create\",(({layerView:e})=>this._createSource(e))),this.view.on(\"layerview-destroy\",(({layerView:e})=>this._removeSource(e)))]);for(const e of this.view.allLayerViews.items)this._createSource(e)}destroy(){this.options=null,this._snappingSources.drain((e=>e.destroy()))}get updating(){return this._snappingSources.some((e=>e.updating))}get _types(){return n.EDGE|n.VERTEX}async fetchCandidates(e,r,t){const{view:s,options:i}=this,{coordinateHelper:n,elevationInfo:a}=r,u=o(i)?i.distance:1,m=l(e,n,a,s,p.get()),y=u*s.state.camera.computeScreenPixelSizeAt(m),S=this._types,d=this._snappingSources.items.map((r=>r.fetchCandidates({point:e,coordinateHelper:n,distance:y,types:S},t))),h=(await Promise.all(d)).flat();return c(e,h),h}_createSource(e){if(\"scene-layer-3d\"!==e.type)return;const r=new u({layerSource:new a({layer:e.layer}),view:this.view});this._snappingSources.push(r)}_removeSource(e){const r=this._snappingSources.findIndex((r=>r.layerSource.layer===e.layer));-1!==r&&this._snappingSources.removeAt(r).destroy()}};e([s({constructOnly:!0})],m.prototype,\"view\",void 0),e([s()],m.prototype,\"updating\",null),e([s()],m.prototype,\"options\",void 0),e([s()],m.prototype,\"_snappingSources\",void 0),m=e([i(\"esri.views.interactive.snapping.SceneSnappingEngine\")],m);export{m as SceneSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{LineSegmentHintType as t}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as i}from\"../hints/RightAngleSnappingHint.js\";class o extends e{constructor({coordinateHelper:t,targetPoint:e,constraint:r,previousVertex:i,otherVertex:o,otherVertexType:n,objectId:s,elevationInfo:h}){super(t,e,r,h),this.previousVertex=i,this.otherVertex=o,this.otherVertexType=n,this.objectId=s}get hints(){const e=this.previousVertex,o=this.otherVertexType===n.CENTER?this.otherVertex:this.targetPoint,s=this.otherVertexType===n.CENTER?this.targetPoint:this.otherVertex,h=this.elevationInfo;return[new r(t.TARGET,o,s,h),new r(t.REFERENCE,e,o,h),new i(this.previousVertex,o,s,h)]}}var n;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(n||(n={}));export{n as OtherVertexType,o as RightAngleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../core/HandleOwner.js\";import r from\"../../../core/Handles.js\";import{someMap as i}from\"../../../core/MapUtils.js\";import{isSome as o,isNone as s,unwrap as n}from\"../../../core/maybe.js\";import{eachAlwaysValues as a,throwIfAborted as c}from\"../../../core/promiseUtils.js\";import{sync as u,watch as p,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as g}from\"../../../chunks/vec3f64.js\";import{SnappingTypes as f}from\"../../../layers/graphics/data/QueryEngineResult.js\";import{RayConstraint as y}from\"./SnappingConstraint.js\";import{sortCandidatesInPlace as S}from\"./snappingUtils.js\";import{EdgeSnappingCandidate as m}from\"./candidates/EdgeSnappingCandidate.js\";import{FeatureSnappingCandidate as v}from\"./candidates/FeatureSnappingCandidate.js\";import{RightAngleSnappingCandidate as w,OtherVertexType as _}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToRender as j,anyMapPointToScreenPoint as x}from\"../support/viewUtils.js\";let C=class extends t{constructor(e){super(e),this.options=null,this.sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null}}}get updating(){return i(this.snappingSources,(({snappingSource:e})=>e.updating))||this.updatingHandles.updating}get snappingSources(){const e=this._get(\"snappingSources\")||new Map,t=new Map;if(o(this.options)&&o(this.options.featureSources))for(const r of this.options.featureSources.items){const i=r.layer.uid,s=e.get(i);if(s){e.delete(i),t.set(i,s);continue}if(!r.layer.loaded){this.updatingHandles.addPromise(r.layer.load());continue}const n=this._createSourceInfo(r);o(n)&&t.set(i,n)}for(const[,r]of e)r.destroy();return t}initialize(){this.updatingHandles.add((()=>this.snappingSources),(()=>this.notifyChange(\"updating\")),u),o(this.view)&&this.handles.add([this.view.on(\"layerview-create\",(e=>this._updateLayerView(e.layer,e.layerView))),this.view.on(\"layerview-destroy\",(e=>this._updateLayerView(e.layer,null)))])}_updateLayerView(e,t){for(const[,r]of this.snappingSources)r.snappingSource.layerSource.layer===e&&(r.layerView=t)}destroy(){this._set(\"options\",null);for(const[,e]of this.snappingSources)e.destroy()}async fetchCandidates(e,t,r){if(s(this.options)||!this.options.effectiveFeatureEnabled)return[];const i=[],n=this._computeScreeenSizeDistanceParameters(e,t),u={distance:n,point:e,coordinateHelper:t.coordinateHelper,types:this.types,filter:null};for(const[,{snappingSource:s,layerView:a}]of this.snappingSources)!s.layerSource.enabled||o(a)&&a.suspended||i.push(s.fetchCandidates(u,r).then((e=>e.filter((e=>!this._candidateIsExcluded(s,e,t.excludeFeature))))));const p=(await a(i)).flat();return this._addRightAngleCandidates(p,e,n,t),c(r),S(e,p),p}_addRightAngleCandidates(e,t,r,i){const s=o(i.vertexHandle)?i.vertexHandle.rightEdge?.rightVertex?.pos:o(i.editGeometryOperations)&&\"polygon\"===i.editGeometryOperations.data.type?n(i.editGeometryOperations.data.components[0]?.getFirstVertex())?.pos:null,a=o(i.vertexHandle)?i.vertexHandle.leftEdge?.leftVertex?.pos:o(i.editGeometryOperations)?n(i.editGeometryOperations.data.components[0]?.getLastVertex())?.pos:null,c=e.length;for(let o=0;o<c;o++)this._addRightAngleCandidate(e[o],a,t,r,i,e),this._addRightAngleCandidate(e[o],s,t,r,i,e)}_addRightAngleCandidate(e,t,r,i,o,n){if(s(t)||!(e instanceof m))return;const a=e.constraint.closestTo(t),c=(a[0]-r[0])/i.x,u=(a[1]-r[1])/i.y;if(c*c+u*u<=1){const r=o.coordinateHelper;n.push(new w({coordinateHelper:r,targetPoint:a,otherVertex:t,otherVertexType:_.NEXT,previousVertex:e.constraint.start,constraint:new y(r,t,a),objectId:e.objectId,elevationInfo:e.elevationInfo}))}}_computeScreeenSizeDistanceParameters(e,t){const r=o(this.options)?this.options.distance*(\"touch\"===t.pointer?this.options.touchSensitivityMultiplier:1):0;if(s(this.view))return{x:r,y:r,pixelSize:r};if(\"2d\"===this.view.type){const e=r*this.view.resolution;return{x:e,y:e,pixelSize:e}}return this._computeScreenSizeDistanceParameters3D(e,r,this.view,t)}_computeScreenSizeDistanceParameters3D(e,t,r,i){const{coordinateHelper:o,elevationInfo:s}=i,n=r.state.camera.computeScreenPixelSizeAt(j(e,o,s,r,M)),a=n*r.renderCoordsHelper.unitInMeters/r.mapCoordsHelper.unitInMeters,c=t*a;return{x:c/this._computeScreenMagnitudeOfMapOffset(e,a,0,r,i),y:c/this._computeScreenMagnitudeOfMapOffset(e,0,a,r,i),pixelSize:n}}_computeScreenMagnitudeOfMapOffset(e,t,r,i,{coordinateHelper:o,elevationInfo:s}){const n=o.clone(e);n[0]+=t,n[1]+=r;const a=x(e,o,s,i),c=x(n,o,s,i),u=c.x-a.x,p=c.y-a.y;return Math.sqrt(u*u+p*p)}get types(){return f.EDGE|f.VERTEX}_candidateIsExcluded(e,t,r){if(s(r))return!1;const i=this._getCandidateObjectId(t);if(s(i))return!1;const o=e.layerSource.layer;return\"graphics\"===o.type?r.uid===i:r.sourceLayer===o&&(!(!r.attributes||!(\"objectIdField\"in o))&&r.attributes[o.objectIdField]===i)}_getCandidateObjectId(e){return e instanceof v?e.objectId:null}_createSourceInfo(e){const t=this._createFeatureSnappingSourceType(e);if(s(t))return null;if(\"loading\"in t)return this.updatingHandles.addPromise(t.loading.then((()=>{this.destroyed||this.notifyChange(\"snappingSources\")}))),null;const r=o(this.view)?this.view.allLayerViews.find((t=>t.layer===e.layer)):null;return new H(t.source,r)}_createFeatureSnappingSourceType(e){switch(e.layer.type){case\"feature\":case\"geojson\":case\"csv\":case\"subtype-group\":case\"wfs\":return this._createFeatureSnappingSourceFeatureLayer(e);case\"graphics\":return this._createFeatureSnappingSourceGraphicsLayer(e)}return null}_createFeatureSnappingSourceFeatureLayer(e){switch(e.layer.source.type){case\"feature-layer\":{const t=this._getSourceModule(\"featureService\");return o(t.module)?{source:new t.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}case\"memory\":case\"csv\":case\"geojson\":case\"wfs\":{if(\"mesh\"===e.layer.geometryType)return null;const t=this._getSourceModule(\"featureCollection\");return o(t.module)?{source:new t.module.FeatureCollectionSnappingSource({layerSource:e})}:{loading:t.loader}}}return null}_createFeatureSnappingSourceGraphicsLayer(e){const t=this._getSourceModule(\"graphics\");return o(t.module)?{source:new t.module.GraphicsSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:e})}:{loading:t.loader}}_getSourceModule(e){const t=this.sourceModules[e];if(s(t.loader)){const r=this._loadSourceModule(e).then((e=>{t.module=e}));return t.loader=r,{module:t.module,loader:r}}return{module:t.module,loader:t.loader}}_loadSourceModule(e){switch(e){case\"featureService\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureServiceSnappingSource.js\"));case\"featureCollection\":return this.updatingHandles.addPromise(import(\"./featureSources/FeatureCollectionSnappingSource.js\"));case\"graphics\":return this.updatingHandles.addPromise(import(\"./featureSources/GraphicsSnappingSource.js\"))}return null}};e([d({constructOnly:!0})],C.prototype,\"spatialReference\",void 0),e([d({constructOnly:!0})],C.prototype,\"view\",void 0),e([d()],C.prototype,\"options\",void 0),e([d({readOnly:!0})],C.prototype,\"updating\",null),e([d({readOnly:!0})],C.prototype,\"snappingSources\",null),C=e([h(\"esri.views.interactive.snapping.FeatureSnappingEngine\")],C);class H{constructor(e,t){this.snappingSource=e,this.layerView=t,this.handles=new r;const i=this.snappingSource.layerSource.layer;if(\"refresh\"in i){const t=i;this.handles.add(t.on(\"refresh\",(()=>e.refresh())))}this.handles.add([p((()=>e.updating),(t=>e.layerSource.updating=t),l),p((()=>e.availability),(t=>e.layerSource.availability=t),l)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}const M=g();export{C as FeatureSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{defaults as t}from\"./Settings.js\";import{squareDistance as r}from\"./snappingUtils.js\";import{anyMapPointToScreenPoint as s}from\"../support/viewUtils.js\";class i{constructor(e,r){this.view=e,this.options=r,this.squaredShortLineThreshold=t.shortLineThreshold*t.shortLineThreshold}snap(t,r){return e(r.vertexHandle)?\"vertex\"!==r.vertexHandle.type?[]:this.snapExistingVertex(t,r):this.snapNewVertex(t,r)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(e.leftVertex.pos,e.rightVertex.pos,t)}exceedsShortLineThreshold(e,t,{elevationInfo:i,editGeometryOperations:o}){const h=o.data.coordinateHelper;return 0===this.squaredShortLineThreshold||r(s(t,h,i,this.view),s(e,h,i,this.view))>this.squaredShortLineThreshold}squaredProximityTreshold(e){return\"touch\"===e?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{i as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{h as t,g as n}from\"../../../../chunks/vec2.js\";import{a as e}from\"../../../../chunks/vec2f64.js\";import{LineConstraint as i}from\"../SnappingConstraint.js\";import{LineSegmentHintType as s}from\"../snappingUtils.js\";import{SnappingCandidate as r}from\"./SnappingCandidate.js\";import{LineSnappingHint as o}from\"../hints/LineSnappingHint.js\";class a extends r{constructor({coordinateHelper:t,lineStart:n,lineEnd:e,targetPoint:r,elevationInfo:a}){super(t,r,new i(t,n,e),a),this.referenceLineHint=new o(s.REFERENCE_EXTENSION,n,e,a)}get hints(){return[this.referenceLineHint,new o(s.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.elevationInfo)]}_lineEndClosestToTarget(){const e=this.constraint.start,i=this.constraint.end;return Math.sign(t(n(c,i,e),n(p,this.targetPoint,e)))>0?i:e}}const p=e(),c=e();export{a as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{a as t}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as o}from\"./SnappingAlgorithm.js\";import{squareDistance as r}from\"./snappingUtils.js\";import{LineSnappingCandidate as s}from\"./candidates/LineSnappingCandidate.js\";import{anyMapPointToScreenPoint as i}from\"../support/viewUtils.js\";import{projectPointToLine as n}from\"../../support/geometry2dUtils.js\";class d extends o{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=o.edges.length,s=[];if(r<1)return s;const n=t.coordinateHelper,d=i(e,n,t.elevationInfo,this.view),p=o.edges[r-1];let a=p;do{this.edgeExceedsShortLineThreshold(a,t)&&this._processCandidateProposal(a.leftVertex.pos,a.rightVertex.pos,e,d,t,s),a=a.leftVertex.leftEdge}while(a&&a!==p);return s}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),n=s.component;if(n.edges.length<2)return r;const d=o.coordinateHelper,p=i(t,d,o.elevationInfo,this.view),a=s.leftEdge,h=s.rightEdge;a&&h&&this.edgeExceedsShortLineThreshold(a,o)&&this.edgeExceedsShortLineThreshold(h,o)&&this._processCandidateProposal(a.leftVertex.pos,h.rightVertex.pos,t,p,o,r);const l=n.edges[0];let g=l;do{g!==s.leftEdge&&g!==s.rightEdge&&this.edgeExceedsShortLineThreshold(g,o)&&this._processCandidateProposal(g.leftVertex.pos,g.rightVertex.pos,t,p,o,r),g=g.rightVertex.rightEdge}while(g&&g!==l);return r}_processCandidateProposal(e,o,d,p,a,h){const l=n(t(),d,e,o),{coordinateHelper:g,elevationInfo:c,pointer:f}=a,m=g.fromXYZ(l,g.getZ(d,0));r(p,i(m,g,c,this.view))<this.squaredProximityTreshold(f)&&h.push(new s({coordinateHelper:g,lineStart:e,lineEnd:o,targetPoint:m,elevationInfo:c}))}}export{d as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{g as e,b as t}from\"../../../../chunks/vec2.js\";import{LineConstraint as n}from\"../SnappingConstraint.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as r}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as a}from\"../hints/ParallelSnappingHint.js\";class o extends r{constructor({coordinateHelper:i,referenceLine:r,lineStart:s,targetPoint:a,elevationInfo:o}){const f=i.clone(s);e(f,t(f,f,r.rightVertex.pos),r.leftVertex.pos),super(i,a,new n(i,s,f),o),this._referenceLines=[{edge:r,fadeLeft:!0,fadeRight:!0}]}get hints(){const e=this.elevationInfo;return[new s(i.TARGET,this.constraint.start,this.targetPoint,e),new a(this.constraint.start,this.targetPoint,e),...this._referenceLines.map((t=>new s(i.REFERENCE,t.edge.leftVertex.pos,t.edge.rightVertex.pos,e,t.fadeLeft,t.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((n=>{e.rightVertex.rightEdge===n.edge&&(n.fadeLeft=!1,t.fadeRight=!1),e.leftVertex.leftEdge===n.edge&&(n.fadeRight=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{o as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{s as t}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{defaults as o}from\"./Settings.js\";import{SnappingAlgorithm as i}from\"./SnappingAlgorithm.js\";import{squareDistance as s}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as n}from\"./candidates/ParallelLineSnappingCandidate.js\";import{anyMapPointToScreenPoint as l}from\"../support/viewUtils.js\";import{projectPointToLine as a}from\"../../support/geometry2dUtils.js\";class c extends i{constructor(){super(...arguments),this._tmpProjection=r()}snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],o=r.edges.length,i=r.vertices.length,s=[];if(o<2)return s;const n=l(e,t.coordinateHelper,t.elevationInfo,this.view),a=r.vertices[i-1],c=r.vertices[0],h=r.edges[o-1];let p=h;do{this.edgeExceedsShortLineThreshold(p,t)&&(this._checkEdgeForParalleLines(p,a.pos,e,n,t,s),this._checkEdgeForParalleLines(p,c.pos,e,n,t,s)),p=p.leftVertex.leftEdge}while(p&&p!==h);return s}snapExistingVertex(t,r){const o=[],i=e(r.vertexHandle),s=i.component;if(s.edges.length<3)return o;const n=l(t,r.coordinateHelper,r.elevationInfo,this.view),a=i.leftEdge,c=i.rightEdge,h=s.vertices[0],p=s.vertices.length,d=s.vertices[p-1],g=s.edges[0];let m=g;do{m!==a&&m!==c&&this.edgeExceedsShortLineThreshold(m,r)&&(a&&this._checkEdgeForParalleLines(m,a.leftVertex.pos,t,n,r,o),c&&this._checkEdgeForParalleLines(m,c.rightVertex.pos,t,n,r,o),i===h?this._checkEdgeForParalleLines(m,d.pos,t,n,r,o):i===d&&this._checkEdgeForParalleLines(m,h.pos,t,n,r,o)),m=m.rightVertex.rightEdge}while(m&&m!==g);return o}_checkEdgeForParalleLines(e,r,i,c,h,p){const d=e.leftVertex.pos,g=e.rightVertex.pos;if(a(this._tmpProjection,r,d,g),t(this._tmpProjection,r)<o.parallelLineThreshold)return;a(this._tmpProjection,i,d,g,r);const{coordinateHelper:m,elevationInfo:f,pointer:v}=h,P=m.fromXYZ(this._tmpProjection,m.getZ(i,0));if(s(c,l(P,m,f,this.view))<this.squaredProximityTreshold(v)){if(this._parallelToPreviousCandidate(e,p))return;p.push(new n({coordinateHelper:m,referenceLine:e,lineStart:r,targetPoint:P,elevationInfo:f}))}}_parallelToPreviousCandidate(e,r){const i=e.leftVertex.pos,s=e.rightVertex.pos;for(const n of r)if(a(this._tmpProjection,s,n.constraint.start,n.constraint.end,i),t(this._tmpProjection,s)<o.parallelLineThreshold)return n.addReferenceLine(e),!0;return!1}}export{c as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{g as t,h as r,u as i,v as o}from\"../../../chunks/vec2.js\";import{a as s,f as n}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{RayConstraint as g}from\"./SnappingConstraint.js\";import{squareDistance as h}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as a,OtherVertexType as d}from\"./candidates/RightAngleSnappingCandidate.js\";import{anyMapPointToScreenPoint as c}from\"../support/viewUtils.js\";class f extends p{constructor(){super(...arguments),this._tmp=s()}snapNewVertex(e,t){const r=t.editGeometryOperations.data.components[0],i=r.vertices.length,o=[];if(i<2)return o;const s=c(e,t.coordinateHelper,t.elevationInfo,this.view),n=r.vertices[i-1];this._checkForSnappingCandidate(o,n.leftEdge,n.pos,e,n.leftEdge.leftVertex.pos,n.pos,t,e,s);const p=r.vertices[0];return this._checkForSnappingCandidate(o,p.rightEdge,p.pos,e,p.rightEdge.rightVertex.pos,p.pos,t,e,s),o}snapExistingVertex(t,r){const i=[],o=e(r.vertexHandle),s=o.component,n=s.vertices.length;if(n<3)return i;const p=c(t,r.coordinateHelper,r.elevationInfo,this.view),g=o.leftEdge,h=o.rightEdge,a=s.vertices[0],d=s.vertices[n-1];if(!g)return this._checkForSnappingCandidate(i,a.rightEdge.rightVertex.rightEdge,a.rightEdge.rightVertex.pos,t,a.rightEdge.rightVertex.rightEdge.rightVertex.pos,a.rightEdge.rightVertex.pos,r,t,p),i;if(!h)return this._checkForSnappingCandidate(i,d.leftEdge.leftVertex.leftEdge,d.leftEdge.leftVertex.pos,t,d.leftEdge.leftVertex.leftEdge.leftVertex.pos,d.leftEdge.leftVertex.pos,r,t,p),i;if(g&&g.leftVertex.leftEdge){const e=g.leftVertex.leftEdge;this._checkForSnappingCandidate(i,e,g.leftVertex.pos,t,e.leftVertex.pos,g.leftVertex.pos,r,t,p)}if(h&&h.rightVertex.rightEdge){const e=h.rightVertex.rightEdge;this._checkForSnappingCandidate(i,e,h.rightVertex.pos,t,e.rightVertex.pos,h.rightVertex.pos,r,t,p)}return i}_checkForSnappingCandidate(e,p,f,l,x,V,m,E,v){if(!this.edgeExceedsShortLineThreshold(p,m))return;t(this._tmp,p.rightVertex.pos,p.leftVertex.pos);const u=n(this._tmp[1],-this._tmp[0]),_=r(u,t(this._tmp,l,f))/i(u),{coordinateHelper:S,elevationInfo:C,pointer:k}=m,j=S.fromXYZ(o(s(),V,u,_),S.getZ(E,0));h(v,c(j,S,C,this.view))<this.squaredProximityTreshold(k)&&e.push(new a({coordinateHelper:S,targetPoint:j,constraint:new g(S,V,o(S.createVector(),V,u,Math.sign(_))),previousVertex:x,otherVertex:V,otherVertexType:d.CENTER,elevationInfo:C}))}}export{f as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{l as t,j as n}from\"../../../../chunks/vec2.js\";import{a as i}from\"../../../../chunks/vec2f64.js\";import{PlanarCircleConstraint as s}from\"../SnappingConstraint.js\";import{LineSegmentHintType as o}from\"../snappingUtils.js\";import{SnappingCandidate as p}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as e}from\"../hints/RightAngleSnappingHint.js\";class a extends p{constructor({coordinateHelper:i,targetPoint:o,point1:p,point2:r,elevationInfo:e}){super(i,o,new s(i,t(h,p,r,.5),.5*n(p,r)),e),this.p1=p,this.p2=r}get hints(){const t=this.elevationInfo;return[new r(o.REFERENCE,this.targetPoint,this.p1,t),new r(o.REFERENCE,this.targetPoint,this.p2,t),new e(this.p1,this.targetPoint,this.p2,t)]}}const h=i();export{a as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../core/maybe.js\";import{l as t,j as o}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{SnappingAlgorithm as s}from\"./SnappingAlgorithm.js\";import{squareDistance as i}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as n}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{anyMapPointToScreenPoint as p}from\"../support/viewUtils.js\";import{projectPointToCircle as a}from\"../../support/geometry2dUtils.js\";class d extends s{snapNewVertex(e,t){const o=t.editGeometryOperations.data.components[0],r=[],s=o.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||s<2)return r;const i=o.vertices[0],n=o.vertices[s-1];return this._processCandidateProposal(i.pos,n.pos,e,t,r),r}snapExistingVertex(t,o){const r=[],s=e(o.vertexHandle),i=s.component;return i.edges.length<2?r:\"polyline\"!==o.editGeometryOperations.data.type||0!==s.index&&s.index!==i.vertices.length-1?(this._processCandidateProposal(s.leftEdge.leftVertex.pos,s.rightEdge.rightVertex.pos,t,o,r),r):r}_processCandidateProposal(e,s,d,l,m){if(!this.exceedsShortLineThreshold(e,s,l))return;const c=t(r(),e,s,.5),g=.5*o(e,s),h=a(r(),d,c,g),{coordinateHelper:f,elevationInfo:v,pointer:x}=l,u=f.fromXYZ(h,f.getZ(d,0)),y=p(d,f,v,this.view);i(y,p(u,f,v,this.view))<this.squaredProximityTreshold(x)&&m.push(new n({coordinateHelper:f,targetPoint:u,point1:e,point2:s,elevationInfo:v}))}}export{d as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as i}from\"./LineSnapper.js\";import{ParallelLineSnapper as p}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as n}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";let m=class extends o{constructor(s){super(s),this.updating=!1,this._snappers=new t}initialize(){this._snappers.push(new p(this.view,this.options),new i(this.view,this.options),new n(this.view,this.options),new a(this.view,this.options))}set options(s){this._set(\"options\",s);for(const o of this._snappers)o.options=s}async fetchCandidates(s,o){if(!this.options.effectiveSelfEnabled)return[];const t=[];for(const r of this._snappers.items)t.push(...r.snap(s,o));return c(s,t),t}};s([r({readOnly:!0})],m.prototype,\"updating\",void 0),s([r({constructOnly:!0})],m.prototype,\"view\",void 0),s([r()],m.prototype,\"options\",null),m=s([e(\"esri.views.interactive.snapping.SelfSnappingEngine\")],m);export{m as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{FeatureSnappingEngine as e}from\"./FeatureSnappingEngine.js\";import{SelfSnappingEngine as n}from\"./SelfSnappingEngine.js\";function i(i,p){return[new n({view:i,options:p}),new e({view:i,options:p,spatialReference:i.spatialReference})]}export{i as defaultSnappingEnginesFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"./FeatureSnappingLayerSource.js\";import{defaults as a}from\"./Settings.js\";let p=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new o,this.distance=a.distance,this.touchSensitivityMultiplier=a.touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};e([r()],p.prototype,\"enabled\",void 0),e([r()],p.prototype,\"enabledToggled\",void 0),e([r()],p.prototype,\"selfEnabled\",void 0),e([r()],p.prototype,\"featureEnabled\",void 0),e([r({type:o.ofType(s)})],p.prototype,\"featureSources\",void 0),e([r()],p.prototype,\"distance\",void 0),e([r()],p.prototype,\"touchSensitivityMultiplier\",void 0),e([r({readOnly:!0})],p.prototype,\"effectiveEnabled\",null),e([r({readOnly:!0})],p.prototype,\"effectiveSelfEnabled\",null),e([r({readOnly:!0})],p.prototype,\"effectiveFeatureEnabled\",null),p=e([i(\"esri.views.interactive.snapping.SnappingOptions\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{IntersectionConstraint as t}from\"../SnappingConstraint.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class s extends i{constructor(i,n,s,r,o){super(i,n,new t(i,n,s.constraint,r.constraint),o),this.first=s,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.elevationInfo)]}}export{s as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Evented.js\";import{HandleOwner as i}from\"../../../core/HandleOwner.js\";import{isSome as n}from\"../../../core/maybe.js\";import{isAborted as s}from\"../../../core/promiseUtils.js\";import{watch as r,sync as o,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as h}from\"../../../chunks/vec2.js\";import{defaultSnappingEnginesFactory as p}from\"./snappingFactory.js\";import l from\"./SnappingOptions.js\";import{squareDistance as u,sortCandidatesInPlace as f}from\"./snappingUtils.js\";import{IntersectionSnappingCandidate as v}from\"./candidates/IntersectionSnappingCandidate.js\";import{anyMapPointToScreenPoint as g}from\"../support/viewUtils.js\";let _=class extends(e.EventedMixin(i)){constructor(t){super(t),this.options=new l,this.snappingEnginesFactory=p,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}initialize(){this.handles.add([r((()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}}),(()=>{this.doneSnapping(),this.emit(\"changed\")}),o),r((()=>this.options),(t=>{for(const e of this._engines)e.options=t}),o),r((()=>({viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,snappingEnginesFactory:this.snappingEnginesFactory})),(({viewReady:t,snappingEnginesFactory:e})=>this._recreateEngines(t,e)),a)])}destroy(){this._destroyEngines()}get updating(){return this._engines.some((t=>t.updating))}_recreateEngines(t,e){if(this._destroyEngines(),!t)return;const{view:i,options:n}=this;this._engines=e(i,n)}_destroyEngines(){for(const t of this._engines)t.destroy();this._engines=[]}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,i=t*e;return i*i}async snap(t,e,i){const r=e.coordinateHelper.pointToVector(t),o=await this._fetchCandidates(r,e,i);return{get valid(){return!s(i)},apply:()=>{const{snappedPoint:t,hints:i}=this._processCandidates(r,o,e);return this._removeVisualization(),n(e.visualizer)&&this.handles.add(e.visualizer.draw(i,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),t}}}update(t,e){this._removeVisualization();let i=t;const s=[];if(n(this._currentMainCandidate)){const n=e.coordinateHelper,r=n.pointToVector(t),o=this._currentMainCandidate.constraint.closestTo(r);if(u(g(r,n,e.elevationInfo,this.view),g(o,n,e.elevationInfo,this.view))<this._squaredPointProximityThreshold(e.pointer)){i=n.vectorToDehydratedPoint(o),this._currentMainCandidate.targetPoint=o,s.push(...this._currentMainCandidate.hints);for(const t of this._currentOtherActiveCandidates)t.targetPoint=o,s.push(...t.hints)}else this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}return n(e.visualizer)&&this.handles.add(e.visualizer.draw(s,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),m),i}doneSnapping(){this._removeVisualization(),this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}_removeVisualization(){this.handles.remove(m)}async _fetchCandidates(t,e,i){return(await Promise.all(this._engines.map((n=>n.fetchCandidates(t,e,i))))).flat()}_processCandidates(t,e,i){if(e.length<1)return this.doneSnapping(),{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(t),hints:[]};f(t,e);const s=this._currentMainCandidate;if(n(s)){const n=this._findOldConstraintInNewCandidates(s,e);if(n>=0){if(!(e[n]instanceof v))return this._intersectWithOtherCandidates(n,e,t,i);if(h(t,s.targetPoint)<this._squaredPointProximityThreshold(i.pointer))return this._updateSnappingCandidate(s,e,i)}}return this._intersectWithOtherCandidates(0,e,t,i)}_findOldConstraintInNewCandidates(t,e){return t instanceof v?this._findOldCandidateIndex(e,t.first)>=0&&this._findOldCandidateIndex(e,t.second)>=0?0:-1:this._findOldCandidateIndex(e,t)}_intersectWithOtherCandidates(t,e,i,n){const s=e[t],r=[],o=n.coordinateHelper;for(let a=0;a<e.length;++a){if(a===t)continue;const d=e[a];for(const t of s.constraint.intersect(d.constraint)){const e=o.fromXYZ(t.intersection,s.targetPoint[2]);r.push([new v(o,e,s,d,d.elevationInfo),u(g(i,n.coordinateHelper,n.elevationInfo,this.view),g(e,n.coordinateHelper,n.elevationInfo,this.view))])}}return r.length>0&&(r.sort(((t,e)=>t[1]-e[1])),r[0][1]<this._squaredPointProximityThreshold(n.pointer))?this._updateSnappingCandidate(r[0][0],e,n):this._updateSnappingCandidate(s,e,n)}_updateSnappingCandidate(t,e,i){this.doneSnapping(),this._currentMainCandidate=t;const n=this._currentMainCandidate.targetPoint,s=[];s.push(...t.hints);for(const r of e){if(t instanceof v){if(r.constraint.objectEqual(t.first.constraint)||r.constraint.objectEqual(t.second.constraint))continue}else if(r.constraint.objectEqual(t.constraint))continue;r.constraint.check(n)&&(r.targetPoint=n,this._currentOtherActiveCandidates.push(r),s.push(...r.hints))}return{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(n),hints:s}}_squaredPointProximityThreshold(t){return\"touch\"===t?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}_findOldCandidateIndex(t,e){let i=-1;for(let n=0;n<t.length;++n)if(e.constraint.objectEqual(t[n].constraint)){i=n;break}return i}get test(){return{visualizationsActive:this.handles.has(m),engines:this._engines}}};t([d({constructOnly:!0})],_.prototype,\"view\",void 0),t([d()],_.prototype,\"options\",void 0),t([d({readOnly:!0})],_.prototype,\"updating\",null),t([d()],_.prototype,\"snappingEnginesFactory\",void 0),t([d()],_.prototype,\"_engines\",void 0),t([d()],_.prototype,\"squaredMouseProximityTreshold\",null),t([d()],_.prototype,\"squaredTouchProximityThreshold\",null),_=t([c(\"esri.views.interactive.snapping.SnappingManager\")],_);const m=\"visualization-handle\";export{_ as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{makeHandle as n}from\"../../../core/handleUtils.js\";import{nextTick as e}from\"../../../core/nextTick.js\";import{SceneSnappingEngine as r}from\"./SceneSnappingEngine.js\";import{SnappingManager as o}from\"./SnappingManager.js\";const t=new Map;function a(e){t.has(e)||t.set(e,{referenceCount:0,snappingManager:p(e)});const r=t.get(e);r.referenceCount++;const o=n((()=>i(e,r)));return{snappingManager:r.snappingManager,...o}}function i(n,r){r.referenceCount--,r.referenceCount>0||e((()=>{0===r.referenceCount&&(r.snappingManager.destroy(),t.delete(n))}))}function p(n){return new o({view:n,snappingEnginesFactory:(e,o)=>[new r({view:n,options:o})]})}export{a as acquire};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as n}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../geometry.js\";import t from\"../../../../analysis/LengthDimension.js\";import{HandleOwner as e}from\"../../../../core/HandleOwner.js\";import s from\"../../../../core/Handles.js\";import{isSome as a,applySome as o,destroyMaybe as r,isNone as p}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as m}from\"../../../../core/promiseUtils.js\";import{watch as d,sync as g,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{clonePoint as h}from\"../../../../layers/graphics/hydratedFeatures.js\";import{settings as _}from\"./settings.js\";import{createSphereManipulator as v}from\"../../interactive/manipulatorUtils.js\";import{SnappingVisualizer3D as M}from\"../../interactive/SnappingVisualizer3D.js\";import{screenToMap3D as f,hideManipulatorWhileDragging as P}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{createCoordinateHelper as j}from\"../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as y,resetProperties as w}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometry as D}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as S}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as x}from\"../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as H}from\"../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as b}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as O}from\"../../../interactive/snapping/SnappingOperation.js\";import C from\"../../../../geometry/Point.js\";let T=class extends e{constructor(n){super(n),this.stagedDimension=null,this._dimensionManipulators=new Map,this._dimensionHandles=new s,this._snappingPipeline=new b,this._snappingManagerResult=x(n.view),this.own(this._snappingManagerResult)}initialize(){this._snappingOperation=new O({view:this.view}),this.own([this._dimensionHandles,d((()=>this._snappingOperation.stagedPoint),(n=>{a(this.stagedDimension)&&(this.stagedDimension.endPoint=o(n,(n=>h(n,new C))))}),g)])}destroy(){this._snappingOperation=r(this._snappingOperation)}get updating(){return this.updatingHandles.updating||this._snappingManager.updating}get _snappingManager(){return this._snappingManagerResult.snappingManager}addDimension(n,i){if(this._dimensionManipulators.has(n))return;const t=this._createPointManipulator(n,{isStart:!0}),e=this._createPointManipulator(n,{isStart:!1}),s={startManipulator:t,endManipulator:e};this._setupDimensionToManipulatorsSync(n,s),this._dimensionManipulators.set(n,s),i.add(t),i.add(e)}removeDimension(n,i){const t=this._dimensionManipulators.get(n);if(p(t))return;this._dimensionHandles.remove(n);const{startManipulator:e,endManipulator:s}=t;this._dimensionManipulators.delete(n),i.remove(e),i.remove(s)}getManipulatorsForDimension(n){return this._dimensionManipulators.get(n)}onDeactivate(){this._snappingManager.doneSnapping()}onUnstagedClick({mapPoint:n,pointerType:i}){const e=this._snappingContext(i),s=h(this._snappingManager.update(n,e),new C),a=new t({startPoint:s,endPoint:null});return this.stagedDimension=a,this._snappingManager.doneSnapping(),a}onStagedClick({mapPoint:n,pointerType:i}){if(p(this.stagedDimension))return;const t=this._snappingContext(i),e=h(this._snappingManager.update(n,t),new C);this.stagedDimension.endPoint=e,this.stagedDimension=null,this._snappingManager.doneSnapping()}onPointerMove({mapPoint:n,pointerType:i}){const t=this._snappingContext(i);this.updatingHandles.addPromise(m(this._snappingOperation.snap(n,this._snappingManager,t)))}_setupDimensionToManipulatorsSync(n,i){const{startManipulator:t,endManipulator:e}=i;this._dimensionHandles.add([d((()=>({startPoint:n.startPoint,endPoint:n.endPoint,stagedDimension:this.stagedDimension})),(({startPoint:i,endPoint:s,stagedDimension:o})=>{a(i)?(t.available=p(o)||o===n,t.location=i):t.available=!1,a(s)?(e.available=p(o),e.location=s):e.available=!1}),l)],n)}_createPointManipulator(n,t){const{isStart:e}=t,s=e?\"startPoint\":\"endPoint\",a=v(this.view,i.toUnitRGB(_.pointManipulators.color),_.pointManipulators.opacity);a.available=!1,a.radius=_.pointManipulators.radius;const o=y(a,((i,t,e,a)=>{const o=P(i);t.next(o).next(f(this.view)).next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:this._snappingContext(a),snappingManager:this._snappingManager,cancel:e,updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((i=>{const t=h(i.mapEnd,new C);n[s]=t})),e.next(o).next(w(n,[s]))}));return this._dimensionHandles.add(o,n),a}_snappingContext(n){return new H({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:n,editGeometryOperations:new S(new D(\"point\",j(!0,!1,this.view.spatialReference))),visualizer:new M})}};n([c({constructOnly:!0,nonNullable:!0})],T.prototype,\"view\",void 0),n([c({readOnly:!0})],T.prototype,\"updating\",null),n([c()],T.prototype,\"stagedDimension\",void 0),T=n([u(\"esri.views.3d.analysis.Dimensioning.LengthDimensionSubTool\")],T);export{T as LengthDimensionSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{isSome as i,isNone as o}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{LengthDimensionSubTool as c}from\"./LengthDimensionSubTool.js\";import{newIntersector as p}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as m}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as u}from\"../../../interactive/AnalysisToolBase.js\";import{createScreenPointArrayFromEvent as h}from\"../../../support/screenUtils.js\";var d;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(d||(d={}));let v=class extends u{constructor(e){super(e),this.preferManipulatorCursor=!0,this.analysisViewData=null}initialize(){this._intersector=p(this.view.state.viewingMode),this._intersector.options.store=m.MIN,this._lengthDimensionSubTool=new c({view:this.view}),this.own(t(this._lengthDimensionSubTool));for(const e of this.analysis.dimensions.items)this._addDimension(e);this.own(this.analysis.dimensions.on(\"change\",(e=>{for(const t of e.added)this._addDimension(t);for(const t of e.removed)this._removeDimension(t)}))),this.own(s((()=>this.state),(e=>{e===d.Created&&this.finishToolCreation()}),n))}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?i(this._activeSubTool)?d.Creating:d.Created:d.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}getManipulatorsForDimension(e){return this._lengthDimensionSubTool.getManipulatorsForDimension(e)}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){i(this._activeSubTool)&&(this._activeSubTool.onDeactivate(),i(this._activeSubTool.stagedDimension)&&(this.analysis.dimensions.remove(this._activeSubTool.stagedDimension),this._activeSubTool.stagedDimension=null),this._activeSubTool=null)}_clickHandler(e){if(o(this._activeSubTool))return;const t=this._intersectScreen(e);if(!o(t)){if(o(this._activeSubTool.stagedDimension)){const i=this._activeSubTool.onUnstagedClick({mapPoint:t,pointerType:e.pointerType});this.analysis.dimensions.add(i)}else this._activeSubTool.onStagedClick({mapPoint:t,pointerType:e.pointerType});e.stopPropagation()}}_doubleClickHandler(e){this.view.activeTool=null,e.stopPropagation()}_pointerMoveHandler(e){if(o(this._activeSubTool))return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);o(t)||this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_intersectScreen(e){const t=h(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=l.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,this.view.spatialReference):null}_addDimension(e){this._lengthDimensionSubTool.addDimension(e,this.manipulators)}_removeDimension(e){this._lengthDimensionSubTool.removeDimension(e,this.manipulators)}};e([r({constructOnly:!0})],v.prototype,\"view\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysis\",void 0),e([r({readOnly:!0})],v.prototype,\"state\",null),e([r({readOnly:!0})],v.prototype,\"updating\",null),e([r({readOnly:!0})],v.prototype,\"cursor\",null),e([r({readOnly:!0})],v.prototype,\"preferManipulatorCursor\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysisViewData\",void 0),e([r()],v.prototype,\"_activeSubTool\",void 0),e([r()],v.prototype,\"_lengthDimensionSubTool\",void 0),v=e([a(\"esri.views.3d.analysis.Dimensioning.DimensioningTool\")],v);export{v as DimensioningTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{destroyHandle as s}from\"../../../../core/handleUtils.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{toUnit as n}from\"../../../../core/quantityUtils.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{C as l,e as d,v as c,f as h,z as p,c as f,n as u}from\"../../../../chunks/vec3.js\";import{c as _,Z as S}from\"../../../../chunks/vec3f64.js\";import{f as g}from\"../../../../chunks/vec4f64.js\";import{Axis as b}from\"../../../../geometry/support/Axis.js\";import{sv3d as v}from\"../../../../geometry/support/vectorStacks.js\";import{formatNumber as y}from\"../../../../intl/number.js\";import{settings as V}from\"./settings.js\";import{LabelVisualElement as w}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{EuclideanSegment as E}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as O}from\"../../webgl-engine/materials/lineStippleUtils.js\";let G=class extends t{constructor(e){super(e),this._directSegment=new E,this._dimensionSegment=new E,this._offsetAxis=_(),this._startOffsetSegment=new E(this._directSegment.startRenderSpace,this._dimensionSegment.startRenderSpace),this._endOffsetSegment=new E(this._directSegment.endRenderSpace,this._dimensionSegment.endRenderSpace),this._labelSegment=new E,this._hasValidGeometry=!1;const t={view:e.view,attached:!0,width:1,color:g(1,.5,0,1),renderOccluded:R.OccludeAndTransparent},s={...t,stipplePattern:O(5)};this._dimensionVisualElement=new j(t),this._startOffsetVisualElement=new j(s),this._endOffsetVisualElement=new j(s),this._label=new w({view:e.view,attached:!0,distance:0,fontSize:V.labels.fontSize})}initialize(){this.own([s(this._dimensionVisualElement),s(this._startOffsetVisualElement),s(this._endOffsetVisualElement),s(this._label)]);const{computation:e,view:t}=this,{dimension:i}=e;this.own([r((()=>({startPoint:i.startPoint,endPoint:i.endPoint,offset:i.offset,axis:i.axis,heading:i.heading})),(e=>{this._updateGeometry(e),this._updateLines(),this._updateLabelGeometry(t.state.camera)}),o),r((()=>e.length),(e=>this._updateLabelContent(e)),o),r((()=>t.state.camera),(e=>this._updateLabelGeometry(e)),o)])}get testInfo(){return{dimensionVisualElement:this._dimensionVisualElement,label:this._label}}_updateGeometry({startPoint:e,endPoint:t,offset:s,axis:n}){const{renderCoordsHelper:r}=this.view,o=this._directSegment;if(i(e)||i(t)||!r.toRenderCoords(e,o.startRenderSpace)||!r.toRenderCoords(t,o.endRenderSpace))return void(this._hasValidGeometry=!1);const{startRenderSpace:a,endRenderSpace:m}=o,d=o.eval(.5,v.get()),c=r.worldUpAtPosition(d,v.get()),h=r.worldBasisAtPosition(d,b.X,v.get()),p=this._offsetAxis;x(p,a,m,c,n,h);const f=s/r.unitInMeters,[u,_]=L(a,m,p,f),S=this._dimensionSegment;l(S.startRenderSpace,o.startRenderSpace,p,u),l(S.endRenderSpace,o.endRenderSpace,p,_),this._hasValidGeometry=!0}_updateLines(){if(!this._hasValidGeometry)return this._dimensionVisualElement.visible=!1,this._startOffsetVisualElement.visible=!1,void(this._endOffsetVisualElement.visible=!1);this._dimensionVisualElement.setGeometryFromSegment(this._dimensionSegment),this._startOffsetVisualElement.setGeometryFromSegment(this._startOffsetSegment),this._endOffsetVisualElement.setGeometryFromSegment(this._endOffsetSegment),this._dimensionVisualElement.visible=!0,this._startOffsetVisualElement.visible=!0,this._endOffsetVisualElement.visible=!0}_updateLabelContent(e){if(i(e)||!this._hasValidGeometry)return this._label.text=\"\",void(this._label.visible=!1);const{value:t}=n(e,\"meters\");this._label.text=`${y(t,{minimumFractionDigits:2,maximumFractionDigits:2})} m`,this._label.visible=!0}_updateLabelGeometry(e){if(!this._hasValidGeometry)return void(this._label.visible=!1);const{offset:t}=this.computation.dimension,s=e.computeRenderPixelSizeAt(this._dimensionSegment.eval(.5,v.get())),i=(Math.sign(t)>=0?1:-1)*V.labels.offset*s;P(this._labelSegment,this._dimensionSegment,this._offsetAxis,i),this._label.geometry={type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1}}};function x(e,t,s,i,n,r){switch(n){case\"horizontal\":return f(e,i);case\"vertical\":return d(t,i)<d(s,i)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(h(e,e,i),u(e,e),e);case\"direct\":return d(t,r)>d(s,r)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(u(e,e),e)}}function L(e,t,s,i=0){const n=d(t,s),r=d(e,s),o=Math.abs(n-r)+i;return n>r?[o,i]:[i,o]}function P(e,t,s,i){l(e.startRenderSpace,t.startRenderSpace,s,i),l(e.endRenderSpace,t.endRenderSpace,s,i)}e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"computation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"view\",void 0),G=e([m(\"esri.views.3d.analysis.Dimensioning.LengthDimensionVisualization\")],G);export{G as LengthDimensionVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{LengthDimensionVisualization as e}from\"./LengthDimensionVisualization.js\";let r=class extends i{constructor(o){super(o),this._dimensionVisualizations=new Map}initialize(){for(const o of this.computations)this._addComputation(o);this.own(this.computations.on(\"change\",(({added:o,removed:i})=>{for(const s of i)this._removeComputation(s);for(const s of o)this._addComputation(s)})))}destroy(){this._dimensionVisualizations.forEach((o=>{o.destroy()})),this._dimensionVisualizations.clear()}get testInfo(){return{visualizations:Array.from(this._dimensionVisualizations.values())}}_addComputation(o){this._dimensionVisualizations.has(o)||this._dimensionVisualizations.set(o,new e({computation:o,view:this.view}))}_removeComputation(o){const i=this._dimensionVisualizations.get(o);s(i)||(i.destroy(),this._dimensionVisualizations.delete(o))}};o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"computations\",void 0),r=o([n(\"esri.views.3d.analysis.Dimensioning.DimensioningVisualization\")],r);export{r as DimensioningVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(s){super(s),this.dimension=null}};s([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),t=s([e(\"esri.views.3d.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../LengthDimensionResult.js\";import{euclideanDistanceBetweenPoints as i}from\"../../../support/euclideanLengthMeasurementUtils.js\";let p=class extends r{constructor(o){super(o)}initialize(){this._set(\"result\",new n({dimension:this.dimension}))}get length(){const{startPoint:o,endPoint:r,axis:t}=this.dimension;if(s(o)||s(r))return null;const e=i(o,r);if(s(e))return null;return e[t]}};o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"dimension\",void 0),o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"result\",void 0),o([t()],p.prototype,\"length\",null),p=o([e(\"esri.views.3d.analysis.LengthDimensionComputation\")],p);export{p as LengthDimensionComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{abortMaybe as t,destroyMaybe as e}from\"../../../core/maybe.js\";import{on as n}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensioningTool as l}from\"./Dimensioning/DimensioningTool.js\";import{DimensioningVisualization as p}from\"./Dimensioning/DimensioningVisualization.js\";import{LengthDimensionComputation as c}from\"./Dimensioning/LengthDimensionComputation.js\";import{connectAnalysisViewToTool as d,removeAnalysisViewTool as u,activateTemporaryAnalysisViewTool as h}from\"../../analysis/analysisViewUtils.js\";let y=class extends(m(i)){constructor(s){super(s),this.type=\"dimensioning-view-3d\",this.tool=null,this._computations=new o,this._dimensionsToResults=new Map,this._placementTask=null}initialize(){this.own([d(this,l),n((()=>this.analysis.dimensions),\"change\",(({added:s,removed:i})=>{for(const o of i)this._removeDimension(o);for(const o of s)this._addDimension(o)}),{onListenerAdd:s=>{for(const i of s)this._addDimension(i)},onListenerRemove:s=>{for(const i of s)this._removeDimension(i)}})]),this._analysisVisualization=new p({view:this.view,computations:this._computations})}destroy(){this._placementTask=t(this._placementTask),this._analysisVisualization=e(this._analysisVisualization),this._computations.drain((s=>s.destroy())),u(this)}get results(){return this.analysis.dimensions.map((s=>this._dimensionsToResults.get(s)))}get testInfo(){return{visualization:this._analysisVisualization}}async createLengthDimensions(s){return this._placementTask=t(this._placementTask),this._placementTask=h(this,l,s),this._placementTask.promise}_addDimension(s){const i=this._dimensionsToResults;if(i.has(s))return;const o=this._computations,t=new c({dimension:s});o.add(t),i.set(s,t.result)}_removeDimension(s){const i=this._computations,o=this._dimensionsToResults,t=i.findIndex((i=>i.dimension===s)),n=i.removeAt(t);o.delete(s),e(n)}};s([r({readOnly:!0})],y.prototype,\"type\",void 0),s([r({constructOnly:!0,nonNullable:!0})],y.prototype,\"analysis\",void 0),s([r()],y.prototype,\"tool\",void 0),s([r({readOnly:!0})],y.prototype,\"results\",null),s([r()],y.prototype,\"_analysisVisualization\",void 0),s([r()],y.prototype,\"_computations\",void 0),s([r()],y.prototype,\"_dimensionsToResults\",void 0),s([r()],y.prototype,\"_placementTask\",void 0),y=s([a(\"esri.views.3d.analysis.DimensioningAnalysisView3D\")],y);const _=y;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{c,l,b as i,e as a,g as u,a as p,f as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,fromPositionAndNormal as y,create as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=E();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=m(o,t,i(n,r,e.state.camera.eye));return m(s,s,t),y(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=l(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),m=o=>{if(i(o,o,r),j(t,o,o),\"global\"===e.viewingMode){l(o)*Math.sign(a(t,o))<.001-n&&i(o,u(o,t,.001),r)}return p(o,o,r),o};return e=>(e.renderStart=m(c(o,e.renderStart)),e.renderEnd=m(c(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{f as r,h as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,b as n,c as u,a as h}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{c as d}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as g}from\"../../webgl-engine/lib/Material.js\";import{VertexAttribute as O}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as y}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as z}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class j extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=c(),this._up=c(),this._right=c(),this._renderOccluded=g.OccludeAndTransparent,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=g.Opaque,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){d(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){d(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new y(this.quadMaterialParameters),this._outlineMaterial=new z(this.outlineMaterialParameters),this._handles.add(i((()=>this.view.state.camera),(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const i=this.view.state.camera,a=this._size*i.computeScreenPixelSizeAt(this._position),o=Math.min(this._maxSize,a);r(b,this._position),s(b,b,[o,o,o]),t(e)&&(e.transformation=b)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[O.POSITION,{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[O.POSITION,new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)}}const b=a();export{j as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as t,g as s,h as e,c as n}from\"../../../chunks/vec2.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{defaults as i}from\"./Settings.js\";import{objectEqual as o}from\"./snappingUtils.js\";import{intersectLineAndPoint as c,LineType as h,intersectCircleAndPoint as a,intersectLineAndRay as u,intersectLineLikeAndCircle as p,pointToLineDistance as d,projectPointToRay as l,projectPointToLine as f,projectPointToCircle as E}from\"../../support/geometry2dUtils.js\";class j{constructor(t){this.coordinateHelper=t}}class m extends j{constructor(t,s){super(t),this.point=s}objectEqual(t){return t instanceof m&&o(this.point,t.point)}check(s){return t(s,this.point)<i.pointThreshold}closestTo(){return this.coordinateHelper.clone(this.point)}intersect(t){const s=[];return t instanceof b?s.push(...c({start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY},this.point)):t instanceof T&&s.push(...a(t.center,t.radius,this.point)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}class b extends j{constructor(t,s,e){super(t),this.start=s,this.end=e}objectEqual(t){return t instanceof b&&(o(this.start,t.start)&&o(this.end,t.end))}intersect(t){const s=[];return t instanceof m?s.push(...c({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},t.point)):t instanceof b?s.push(...u({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},{start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY})):t instanceof T&&s.push(...p({start:this.start,end:this.end,type:this instanceof H?h.LINE:h.RAY},t.center,t.radius)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}class q extends b{constructor(t,s,e){super(t,s,e),this.dir=r(),this.p=r()}objectEqual(t){return t instanceof q&&super.objectEqual(t)}check(t){return s(this.dir,this.end,this.start),s(this.p,t,this.start),e(this.dir,this.p)>=0&&d(t,this.start,this.end)<i.pointOnLineThreshold}closestTo(t){const s=this.coordinateHelper.clone(t);return l(s,t,this.start,this.end),s}}class H extends b{constructor(t,s,e){super(t,s,e)}objectEqual(t){return t instanceof H&&super.objectEqual(t)}check(t){return d(t,this.start,this.end)<i.pointOnLineThreshold}closestTo(t){const s=this.coordinateHelper.clone(t);return f(s,t,this.start,this.end),s}}class L extends j{constructor(t,s,e,n){super(t),this.intersection=s,this.first=e,this.second=n}objectEqual(t){return t instanceof L&&(this.first.objectEqual(t.first)&&this.second.objectEqual(t.second))}check(){return!1}closestTo(t){const s=this.coordinateHelper.clone(t);return n(s,this.intersection),s}intersect(){return[]}}class T extends j{constructor(t,s,e){super(t),this.center=s,this.radius=e}objectEqual(t){return t instanceof T&&(this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius)}check(){return!1}closestTo(t){const s=this.coordinateHelper.clone(t);return E(s,t,this.center,this.radius),s}intersect(t){const s=[];return t instanceof b?s.push(...p({start:t.start,end:t.end,type:t instanceof H?h.LINE:h.RAY},this.center,this.radius)):t instanceof m&&s.push(...a(this.center,this.radius,t.point)),s.map((s=>new L(this.coordinateHelper,s,this,t)))}}export{L as IntersectionConstraint,H as LineConstraint,b as LineLikeConstraint,T as PlanarCircleConstraint,m as PointConstraint,q as RayConstraint,j as SnappingConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../SnappingConstraint.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as i}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";class e extends i{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.edgeStart,n.edgeEnd)})}get hints(){return[new r(n.REFERENCE,this.constraint.start,this.constraint.end,this.elevationInfo)]}}export{e as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{SnappingCandidate as t}from\"./SnappingCandidate.js\";class e extends t{constructor({coordinateHelper:t,targetPoint:e,objectId:o,constraint:n,elevationInfo:r}){super(t,e,n,r),this.objectId=o}}export{e as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t,o,i,s){this.coordinateHelper=t,this.targetPoint=o,this.constraint=i,this.elevationInfo=s}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.elevationInfo)]}}export{r as VertexSnappingCandidate};\n"],"names":["y","t","type","startPoint","endPoint","axis","offset","heading","s","this","l","i","union","r","n","prototype","c","nonNullable","Number","p","e","a","readOnly","V","u","m","o","main","color","opacity","radius","fontSize","height","pointManipulators","labels","G","_ray","O","_externalResources","_handles","_isWorldDown","_start","_","_end","d","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","LINE","_laserlineStyle","_laserlineEnabled","_renderOccluded","j","_fadedExtensions","F","applyProps","M","materialParameters","add","view","state","camera","_updateGeometry","A","attached","material","laserline","destroy","removeAll","extensionType","FADED","push","Float32Array","P","addGeometry","_updateVertices","visible","renderCoordsHelper","worldUpAtPosition","D","_updateMaterial","recreate","f","_laserlineAttached","style","recreateGeometry","setParameters","width","stippleOffColor","stipplePattern","stipplePreferContinuous","innerWidth","innerColor","falloff","hasPolygonOffset","renderOccluded","writeDepth","object","_updateLineSegmentFinite","T","_updateLineSegmentInfinite","_updateVertexAttributes","intersectsLine","E","W","c0","MAX_VALUE","RAY","GROUND_RAY","origin","elevationProvider","getElevation","spatialReference","getAltitude","h","ray","direction","c1","Math","abs","b","frustum","g","L","x","S","geometries","getMutableAttribute","v","data","R","fadedExtensions","start","end","geometryVertexAttrsUpdated","geometryRecords","C","w","N","_location","_direction","_offset","_length","projectToScreen","location","geometry","k","length","unprojectFromScreen","coordinateHelper","primitive","vectorToPoint","intersectionPoint","elevationInfo","size","outlineSize","outlineColor","pixelSnappingEnabled","point","_createLineSegmentHintFromMap","lineStart","lineEnd","fadeLeft","fadeRight","setDirectionFromPoints","outlineRenderOccluded","previous","previousVertex","center","centerVertex","next","nextVertex","_createLineSegmentHint","layer","enabled","updating","availability","constructOnly","_ids","Set","tmpP","workerHandle","schedule","fetchAllEdgeLocations","_fetchAllEdgeLocations","toXYZ","toRenderCoords","distance","pixelSize","invoke","bounds","types","candidates","sort","map","_convertCandidate","id","invokeMethod","delete","objectId","targetPoint","_convertRenderCoordinate","target","edgeStart","edgeEnd","fromRenderCoords","fromXYZ","components","uid","has","fetchEdgeLocations","signal","locations","buffer","objectIds","Promise","all","filter","result","transferList","strategy","client","abortController","AbortController","updatingHandles","layerSource","resourceController","edgeWorker","tracker","Error","addPromise","_setupLayerView","handles","fetchCandidates","whenLayerView","remove","trackSnappingSources","options","_snappingSources","own","on","layerView","_createSource","_removeSource","allLayerViews","items","drain","some","computeScreenPixelSizeAt","_types","flat","findIndex","removeAt","constraint","otherVertex","otherVertexType","CENTER","NEXT","sourceModules","featureService","module","loader","featureCollection","graphics","snappingSources","snappingSource","_get","Map","featureSources","get","set","loaded","_createSourceInfo","load","notifyChange","_updateLayerView","_set","effectiveFeatureEnabled","_computeScreeenSizeDistanceParameters","suspended","then","_candidateIsExcluded","excludeFeature","_addRightAngleCandidates","vertexHandle","rightEdge","rightVertex","pos","editGeometryOperations","getFirstVertex","leftEdge","leftVertex","getLastVertex","_addRightAngleCandidate","closestTo","pointer","touchSensitivityMultiplier","resolution","_computeScreenSizeDistanceParameters3D","unitInMeters","mapCoordsHelper","_computeScreenMagnitudeOfMapOffset","clone","sqrt","_getCandidateObjectId","sourceLayer","attributes","objectIdField","_createFeatureSnappingSourceType","loading","destroyed","find","H","source","_createFeatureSnappingSourceFeatureLayer","_createFeatureSnappingSourceGraphicsLayer","_getSourceModule","FeatureServiceSnappingSource","geometryType","FeatureCollectionSnappingSource","GraphicsSnappingSource","_loadSourceModule","refresh","squaredShortLineThreshold","snapExistingVertex","snapNewVertex","exceedsShortLineThreshold","squaredTouchProximityThreshold","squaredMouseProximityTreshold","referenceLineHint","_lineEndClosestToTarget","sign","edges","edgeExceedsShortLineThreshold","_processCandidateProposal","component","getZ","squaredProximityTreshold","referenceLine","_referenceLines","edge","forEach","arguments","_tmpProjection","vertices","_checkEdgeForParalleLines","_parallelToPreviousCandidate","addReferenceLine","_tmp","_checkForSnappingCandidate","createVector","point1","point2","p1","p2","index","_snappers","effectiveSelfEnabled","snap","enabledToggled","selfEnabled","featureEnabled","effectiveEnabled","first","second","hints","snappingEnginesFactory","_engines","_currentMainCandidate","_currentOtherActiveCandidates","doneSnapping","emit","viewReady","ready","viewSpatialReference","_recreateEngines","_destroyEngines","pointToVector","_fetchCandidates","_processCandidates","snappedPoint","_removeVisualization","visualizer","draw","valid","apply","_squaredPointProximityThreshold","vectorToDehydratedPoint","_findOldConstraintInNewCandidates","_intersectWithOtherCandidates","_updateSnappingCandidate","_findOldCandidateIndex","intersect","intersection","objectEqual","check","visualizationsActive","engines","referenceCount","snappingManager","stagedDimension","_dimensionManipulators","_dimensionHandles","_snappingPipeline","_snappingManagerResult","_snappingOperation","stagedPoint","_snappingManager","_createPointManipulator","isStart","startManipulator","endManipulator","_setupDimensionToManipulatorsSync","mapPoint","pointerType","_snappingContext","update","available","createSnapDragEventPipelineStep","snappingContext","cancel","mapEnd","mode","Ready","Creating","Created","preferManipulatorCursor","analysisViewData","_intersector","viewingMode","store","_lengthDimensionSubTool","analysis","dimensions","_addDimension","added","removed","_removeDimension","finishToolCreation","_activeSubTool","active","getManipulatorsForDimension","_clickHandler","_doubleClickHandler","_pointerMoveHandler","onDeactivate","_intersectScreen","onUnstagedClick","onStagedClick","stopPropagation","activeTool","hasFocusedManipulators","onPointerMove","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","addDimension","manipulators","removeDimension","_directSegment","_dimensionSegment","_offsetAxis","_startOffsetSegment","startRenderSpace","_endOffsetSegment","endRenderSpace","_labelSegment","_hasValidGeometry","_dimensionVisualElement","_startOffsetVisualElement","_endOffsetVisualElement","_label","computation","dimension","_updateLines","_updateLabelGeometry","_updateLabelContent","dimensionVisualElement","label","eval","worldBasisAtPosition","setGeometryFromSegment","text","value","minimumFractionDigits","maximumFractionDigits","computeRenderPixelSizeAt","sampleLocation","segment","callout","_dimensionVisualizations","computations","_addComputation","_removeComputation","clear","visualizations","Array","from","values","tool","_computations","_dimensionsToResults","_placementTask","onListenerAdd","onListenerRemove","_analysisVisualization","visualization","promise","q","action","screenStart","screenEnd","renderStart","renderEnd","plane","z","disableDisplay","B","I","selectionMode","hud","requiresGroundFeedback","enableDraped","exclude","ground","U","intersectIntersectorScreen","intersector","GROUND","OTHER","surfaceType","mapStart","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","transformation","exclusive","Uint16Array","transparent","polygonOffset","dir"],"sourceRoot":""}