{"version":3,"file":"static/js/8943.db0bc71c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/symbols/support/defaults3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js","../node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js","../node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{indexOf as t,PositionHint as i}from\"../../arrayUtils.js\";import{assumeNonNull as n}from\"../../maybe.js\";import e from\"../../PooledArray.js\";import{q as s}from\"../../../chunks/quickselect.js\";class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&(\"function\"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),g.prune(),M.prune(),X.prune(),Y.prune()}all(t){this._all(this.data,t)}search(t,i){let n=this.data;const e=this._toBBox;if(p(t,n))for(g.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):f(t,a)?this._all(h,i):g.push(h))}n=g.pop()}}collides(t){let i=this.data;const n=this._toBBox;if(!p(t,i))return!1;for(g.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||f(t,h))return!0;g.push(s)}}i=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const t=this.data;this.data=i,i=t}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(i){if(!i)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this._toBBox(i);for(X.clear(),Y.clear();s||X.length>0;){if(s||(s=n(X.pop()),h=X.data[X.length-1],a=Y.pop()??0,r=!0),s.leaf&&(e=t(s.children,i,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),X.push(s),this._condense(X),this;r||s.leaf||!f(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(X.push(s),Y.push(a),a=0,h=s,s=s.children[0])}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(M.clear();n;){if(!0===n.leaf)for(const t of n.children)i(t);else M.pushArray(n.children);n=M.pop()??null}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this._toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));_(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);_(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1))}}return a(r,this._toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=u(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}_insert(t,i,n){const e=this._toBBox,s=n?t:e(t);X.clear();const h=this._chooseSubtree(s,this.data,i,X);for(h.children.push(t),o(h,s);i>=0&&X.data[i].children.length>this._maxEntries;)this._split(X,i),i--;this._adjustParentBBoxes(s,X,i)}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log(\"  Error: assertion failed at PooledRBush._split: no valid split index\");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this._toBBox),a(o,this._toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this._toBBox),o=r(t,a,n,this._toBBox),l=x(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a)}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this._toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=d(h)+d(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=d(h)}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=d(a)}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t)}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const s=i.data[n-1],h=s.children;h.splice(t(h,e,h.length,s.indexHint),1)}else this.clear();else a(e,this._toBBox)}}_initFormat(t){const i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this._toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}function a(t,i){r(t,0,t.children.length,i,t)}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function x(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function f(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function _(t,i,e,h,a){const r=[i,e];for(;r.length;){const i=n(r.pop()),e=n(r.pop());if(i-e<=h)continue;const o=e+Math.ceil((i-e)/h/2)*h;s(t,o,e,i,a),r.push(e,o,o,i)}}const g=new e,M=new e,X=new e,Y=new e({deallocator:void 0});class B{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends B{constructor(){super(...arguments),this.height=1,this.indexHint=new i}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1}}export{B as BBox,h as PooledRBush};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getCentroidOptimizedGeometry as e}from\"../centroid.js\";import{OptimizedFeature as r}from\"../OptimizedFeature.js\";import o from\"../OptimizedGeometry.js\";const i={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(t,e)=>new r(e,t.attributes,null,t.objectId),getGeometry:t=>t.geometry,getCentroid:(r,i)=>(t(r.centroid)&&(r.centroid=e(new o,r.geometry,i.hasZ,i.hasM)),r.centroid)};export{i as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as o}from\"../../core/maybe.js\";import r from\"../FillSymbol3DLayer.js\";import e from\"../LineSymbol3D.js\";import m from\"../MeshSymbol3D.js\";import l from\"../PointSymbol3D.js\";import t from\"../PolygonSymbol3D.js\";import s from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as i,defaultPolylineSymbol2D as n,defaultPolygonSymbol2D as p}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as y}from\"./defaultsJSON.js\";const a=l.fromSimpleMarkerSymbol(i),c=e.fromSimpleLineSymbol(n),S=t.fromSimpleFillSymbol(p),u=new m({symbolLayers:[new r({material:{color:f},edges:new s({size:\"1px\",color:y})})]});function b(r){if(o(r))return null;switch(r.type){case\"mesh\":return u;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return S}return null}export{b as getDefaultSymbol3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{isSome as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as c}from\"../../../../geometry/projection.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as n}from\"../../../../layers/graphics/OptimizedFeature.js\";import h from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as d}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.viewSpatialReference=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:d.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:d.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField):d.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):d.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;o(t.centroid)?r=t.centroid:\"point\"===t.graphic.geometry.type&&c(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const i=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return s(r)?(i[0]=0,i[1]=0,i[2]=0,i[3]=0):(i[0]=r.x,i[1]=r.y,e.hasZ&&(i[2]=r.hasZ?r.z:0),e.hasM&&(i[e.hasZ?3:2]=r.hasM?r.m:0)),new h([],i)}return d.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new n(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):d.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e,r){const s=this.getSpatialIndex();for(const i of t){const t=this.featureAdapter.getObjectId(i);o(s.getBounds(t,r))&&e(r)}}};t([i({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([i({constructOnly:!0})],l.prototype,\"toArray\",void 0),t([i({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([i({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([i({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([a(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.schedule=e,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.isAsync=!1}}class l{}export{e as Graphics3DSymbolCreationContext,l as Graphics3DSymbolLayerCreationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as t,isSome as a}from\"../../../../core/maybe.js\";import{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{make as o}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import l from\"./Graphics3DSymbol.js\";class s extends l{constructor(r,t,a){super(r,t,a),this.calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this.calloutSymbolLayer=o(this.symbol,t))}async doLoad(t){const a=this.calloutSymbolLayer?r(this.calloutSymbolLayer.load()):null;try{await super.doLoad(t),e(t)}catch(o){throw this.calloutSymbolLayer?.abortLoad(),o}a&&await a}destroy(){super.destroy(),this.calloutSymbolLayer=t(this.calloutSymbolLayer)}createGraphics3DGraphic(r,t){const e=super.createGraphics3DGraphic(r,t);if(a(this.calloutSymbolLayer)&&a(e)){const t=this._createCalloutGraphic(r);a(t)&&e.addAuxiliaryGraphic(t)}return e}globalPropertyChanged(r,t){return!!super.globalPropertyChanged(r,t)&&(!this.calloutSymbolLayer||this.calloutSymbolLayer.globalPropertyChanged(r,t,(r=>this._getCalloutGraphicLayer(r))))}updateGeometry(r,t){const a=super.updateGeometry(r,t);if(a&&this.calloutSymbolLayer){const a=this._getCalloutGraphicLayer(r);if(a)return this.calloutSymbolLayer.updateGeometry(a,t)}return a}_createCalloutGraphic(r){const t=r.renderingInfo,a={renderer:t.renderer,symbol:t.symbol,translation:[0,0,0],centerOffset:[0,0,0,0],screenOffset:[0,0],centerOffsetUnits:\"world\",elevationOffset:0,materialCollection:null};return r.renderingInfo=a,this.calloutSymbolLayer.createGraphics3DGraphic(r)}_getCalloutGraphicLayer(r){for(const t of r._auxiliaryGraphics)if(t.graphics3DSymbolLayer===this.calloutSymbolLayer)return t}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DPointSymbol.js\";import r from\"./Graphics3DSymbol.js\";function t(t,i,e){let p;if(\"point-3d\"===t.type)p=o;else p=r;return new p(t,i,e)}export{t as make};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this.graphicsCore=t,this.idToState=new Map,this.states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this.getGraphicId=t=>e(t,i),this.getGraphics3DGraphicById=t=>this.graphicsCore.getGraphics3DGraphicByObjectId(t)):(this.getGraphicId=t=>t.uid,this.getGraphics3DGraphicById=t=>this.graphicsCore.getGraphics3DGraphicById(t))}destroy(){this.idToState.clear(),this.states.forEach(((t,i)=>this.remove(i)))}add(t){const e={remove:()=>this.remove(t)};if(this.states.has(t))return e;const s=this.getGraphicId(t.graphic),a=this.getGraphics3DGraphicById(s);this.states.has(t)||this.states.add(t);return this._ensureStateList(s).push(t),t.displaying=!!i(a)&&a.isVisible(),t.isDraped=!!i(a)&&a.isDraped,t.tracking=!0,i(a)&&t.emit(\"changed\",{}),e}remove(i){if(this.states.has(i)){if(this.idToState.size){const e=this.getGraphicId(i.graphic),s=this.idToState.get(e);s&&(t(s,i),0===s.length&&this.idToState.delete(e))}this.states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\",{})}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>{t.emit(\"changed\",{})}))}updateGraphicVisibility(t){this._forEachState(t,(i=>{i.displaying=t.isVisible()}))}allGraphicsDeleted(){this.states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this.idToState.get(t);if(i)return i;const e=new Array;return this.idToState.set(t,e),e}_forEachState(t,i){if(0===this.states.size||0===this.idToState.size)return;const e=this.getGraphicId(t.graphic),s=this.idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/has.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,s(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index.destroy(),this._index=null,this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{empty as m,toRect as p,expandWithVec3 as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as u}from\"../../../../geometry/support/aaBoundingRect.js\";import{getMetersPerUnit as f}from\"../../../../symbols/support/unitConversionUtils.js\";import{newIntersector as y}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";const g=s.getLogger(\"esri.views.3d.layers.support.StageLayerElevationProvider\"),j=1;let b=class extends(o.EventedMixin(t)){constructor(e){super(e),this.elevationOffset=0,this._layerHandes=new r}initialize(){this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersectLayers=[this.stageLayer],this.intersector=y(this.view.state.viewingMode),this.intersector.options.store=v.MIN;const e=this._computeLayerExtent(this.stageLayer);this.zmin=e[2],this.zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"vertexAttrsUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=n(this.layer.spatialReference),o=f(e.unit);this.elevationOffset=i(e.offset,0)*o/t}else this.elevationOffset=0}getElevation(e,t,o,r){if(_[0]=e,_[1]=t,_[2]=o,!this.renderCoordsHelper.toRenderCoords(_,r,_))return g.error(\"could not project point for elevation alignment\"),null;const s=this.elevationOffset,i=this.zmin+s,n=this.zmax+s;this.renderCoordsHelper.setAltitude(B,n,_),this.renderCoordsHelper.setAltitude(R,i,_);const a=e=>e.metadata&&e.metadata.isElevationSource;return this.intersector.reset(B,R,null),this.intersector.intersect(this.intersectLayers,null,j,null,a),this.intersector.results.min.getIntersectionPoint(_)?this.renderCoordsHelper.getAltitude(_):null}_objectChanged(e){if(!e.metadata?.isElevationSource||!this.spatialReference)return;m(x),e.metadata.lastValidElevationBB.isEmpty()||this._expandExtent(e.metadata.lastValidElevationBB.min,e.metadata.lastValidElevationBB.max,x);const t=e.boundingVolumeWorldSpace.min,o=e.boundingVolumeWorldSpace.max;this._expandExtent(t,o,x),p(x,E),this.zmin=Math.min(this.zmin,x[2]),this.zmax=Math.max(this.zmax,x[5]),C.extent=E,C.spatialReference=this.spatialReference,this.emit(\"elevation-change\",C),c(e.metadata.lastValidElevationBB.min,t),c(e.metadata.lastValidElevationBB.max,o)}_computeLayerExtent(e){return m(x),e.objects.forAll((e=>this._expandExtent(e.boundingVolumeWorldSpace.min,e.boundingVolumeWorldSpace.max,x))),x}_expandExtent(e,t,o){for(let r=0;r<8;++r)_[0]=1&r?e[0]:t[0],_[1]=2&r?e[1]:t[1],_[2]=4&r?e[2]:t[2],this.renderCoordsHelper.fromRenderCoords(_,_,this.spatialReference),h(o,_);return o}};e([a({constructOnly:!0})],b.prototype,\"layer\",void 0),e([a({constructOnly:!0})],b.prototype,\"stageLayer\",void 0),e([a({constructOnly:!0})],b.prototype,\"view\",void 0),e([a({readOnly:!0,aliasOf:\"view.spatialReference\"})],b.prototype,\"spatialReference\",void 0),b=e([l(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],b);const x=m(),E=u(),C={spatialReference:null,extent:E,context:\"scene\"},_=d(),B=d(),R=d();export{b as StageLayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import t from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import\"../../../../symbols.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{someMap as o,findInMap as l}from\"../../../../core/MapUtils.js\";import{isSome as h,unwrapOr as d,isNone as p,removeMaybe as c,destroyMaybe as y,get as m,unwrap as g}from\"../../../../core/maybe.js\";import u from\"../../../../core/PooledArray.js\";import{throwIfAborted as b,eachAlways as f,createDeferred as v,isAbortError as C}from\"../../../../core/promiseUtils.js\";import{watch as S,when as _,on as w,syncAndInitial as G,whenOnce as x}from\"../../../../core/reactiveUtils.js\";import{schedule as R}from\"../../../../core/scheduling.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as D}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as E,isEmpty as I}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as U,a as O,g as A}from\"../../../../chunks/vec3.js\";import{c as L}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as j,projectXYZToVector as V,canProjectWithoutEngine as F,projectBuffer as T}from\"../../../../geometry/projection.js\";import{create as k,center as M,fromRect as W,equals as N}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as z}from\"../../../../geometry/support/aaBoundingRect.js\";import B from\"../../../../layers/Layer.js\";import{getObjectId as q,computeAABB as H,hasGeometry as Y}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as $}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isSupportedRenderer3D as Z,validateTo3D as J}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as Q}from\"../../../../support/arcadeOnDemand.js\";import{getDefaultSymbol3D as K}from\"../../../../symbols/support/defaults3D.js\";import{to3D as X}from\"../../../../symbols/support/symbolConversion.js\";import{ViewElevationProvider as ee}from\"./ElevationQuery.js\";import{VisibilityFlag as te,VisibilityGroup as ie}from\"./enums.js\";import{extractExpressionInfo as re,createContext as se}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as ae}from\"./Graphics3DFeatureStore.js\";import ne from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as oe}from\"./Graphics3DSymbolCreationContext.js\";import{make as le}from\"./Graphics3DSymbolFactory.js\";import he from\"./Graphics3DWebStyleSymbol.js\";import{GraphicStateTracking as de}from\"./GraphicStateTracking.js\";import{computeCentroid as pe}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as ce}from\"./interfaces.js\";import{LoadStatus as ye}from\"./Loadable.js\";import{SpatialIndex2D as me}from\"./SpatialIndex2D.js\";import{averageSymbolComplexities as ge,defaultSymbolComplexity as ue}from\"./symbolComplexity.js\";import{StageLayerElevationProvider as be}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as fe}from\"../../support/extentUtils.js\";import{PropertiesPool as ve}from\"../../support/PropertiesPool.js\";import{UpdatePolicy as Ce}from\"../../webgl-engine/lib/basicInterfaces.js\";import{GridLocalOriginFactory as Se}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{WebGLLayer as _e}from\"../../webgl-engine/lib/WebGLLayer.js\";import{ImmediateTask as we,noBudget as Ge,TaskPriority as xe}from\"../../../support/Scheduler.js\";import Re from\"../../../../geometry/Extent.js\";import Pe from\"../../../../geometry/Point.js\";import De from\"../../../../symbols/LabelSymbol3D.js\";import Ee from\"../../../../symbols/TextSymbol.js\";import Ie from\"../../../../symbols/WebStyleSymbol.js\";var Ue;const Oe=L(),Ae=k(),Le=n.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCore\");let je=Ue=class extends i{constructor(e){super(e),this.propertiesPool=new ve({computedExtent:Re},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this.graphicStateTracking=null,this.symbolCreationContext=new oe(((e,t)=>this._frameTask.schedule(e,t))),this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this.graphicsDrapedUids=new Set,this.graphicsBySymbol=new Map,this.symbolConversionCache=new Map,this.symbols=new Map,this.graphicsWithoutSymbol=new Map,this.graphicsWaitingForSymbol=new Map,this.graphicsUpdateId=0,this._handles=new s,this._frameTask=we,this.suspendSymbolCleanup=!1,this._viewSpatialReference=null,this.arcadeOnDemand=null,this.rendererChangeAbortController=null,this.elevationInfoChangeAbortController=null,this.setupAbortController=null,this.elevationAlignment=null,this.scaleVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this.featureStore=null,this.deconflictor=null,this.labeler=null,this.objectStates=null,this.viewElevationProvider=null,this.stageLayerElevationProvider=null,this.sharedSymbolResourcesOwnerHandle=null,this.whenGraphics3DGraphicRequests={},this.pendingUpdates=new Map,this.numberOfGraphics=0,this.numberOfGraphicsProvidingElevation=0,this.pendingAdds=0,this.pendingRemoves=0,this._loadingSymbols=0,this.pendingUpdatesPool=new u({allocator:e=>e||new Fe,deallocator:e=>(e.clear(),e)}),this.symbolWarningLogged=!1,this.geometryWarningLogged=!1,this.objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new u,this.preferredUpdatePolicy=Ce.SYNC,this.forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=void 0,this._startCreateGraphics=!1}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new me({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:this.hasZ,hasM:this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get effectiveUpdatePolicy(){return h(this.currentRenderer)&&\"dictionary\"===this.currentRenderer.type?Ce.ASYNC:d(this.forcedUpdatePolicy,this.preferredUpdatePolicy)}get updating(){return!!(this.graphicsWaitingForSymbol.size>0||this.running||this.elevationAlignment?.updating||h(this.scaleVisibility)&&this.scaleVisibility.updating||h(this.filterVisibility)&&this.filterVisibility.updating||this.rendererChangeAbortController||this.elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this.pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this.pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this.elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?e.graphics3D.minTotalNumberOfFeatures:0,i=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,h(s)?s.primitivesPerFeature:1),n=h(s)&&s.drawCallsPerFeature>0?i/s.drawCallsPerFeature*.3:i,o=Math.ceil(r/a),l=Math.max(t,Math.min(i,o,n)),d=this._get(\"displayFeatureLimit\");return d&&d.minimumTotalNumberOfFeatures===t&&d.maximumTotalNumberOfFeatures===i&&d.maximumTotalNumberOfPrimitives===r&&d.averageSymbolComplexity===s&&d.maximumNumberOfFeatures===l?d:{minimumTotalNumberOfFeatures:t,maximumTotalNumberOfFeatures:i,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=ge(this.symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||h(t)&&(e.estimated&&(t.primitivesPerFeature>=e.primitivesPerFeature||t.primitivesPerCoordinate>=e.primitivesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.primitivesPerFeature===e.primitivesPerFeature&&t.primitivesPerCoordinate===e.primitivesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=h(this.averageSymbolComplexity)&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this.numberOfGraphics:0;return this._usedMemory+e}get usedMemoryPerGraphic(){if(this._usedMemory&&this.numberOfGraphics)return Math.abs(this.pendingAdds-this.pendingRemoves)/this.numberOfGraphics>30?0:this._usedMemory/this.numberOfGraphics;if(h(this.averageSymbolComplexity)){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return Math.max(0,(this.pendingAdds-this.pendingRemoves)*this.usedMemoryPerGraphic)}get symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const t=this.symbolConversionCache.get(e.id);if(h(t))return t;const i=X(e,{retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=i.symbol||null;return p(r)&&i.error&&Le.error(i.error.message),this.symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if(p(e))return[];const t=e.getSymbols(),i=\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol;if(!(i||t&&t.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);h(s)&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);h(e)&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(p(e))return null;const t=this.symbols.get(e.id);if(h(t))return t.complexity;const i=this._getConvertedSymbol(e);return h(i)?ue(i):null}_getSymbolComplexitiesUsed(){const e=[];return this.symbols.forEach((t=>{h(t)&&e.push(t.complexity)})),e}initialize(){this._viewSpatialReference=this.owner.view.spatialReference,this._set(\"featureStore\",new ae({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:this.hasZ,hasM:this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e),toArray:()=>Array.from(this.graphics3DGraphics.values())}))}async setup(e){this.setupAbortController=new AbortController;const t=this.setupAbortController.signal;this._set(\"elevationAlignment\",e.elevationAlignment),this._set(\"scaleVisibility\",e.scaleVisibility),this._set(\"filterVisibility\",e.filterVisibility),this._set(\"deconflictor\",e.deconflictor),this._set(\"labeler\",e.labeler),this._set(\"objectStates\",e.objectStates);const i=this.owner.view;this.viewElevationProvider=new ee(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid),this.symbolCreationContext.sharedResources=i.sharedSymbolResources,this.sharedSymbolResourcesOwnerHandle=i.sharedSymbolResources.addGraphicsOwner(this.owner),h(this.currentRenderer)&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.sharedSymbolResources.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Se(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=re(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await se(r,this._viewSpatialReference,Le),b(t),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings.physicallyBasedRenderingEnabled,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add(a((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([S((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),S((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this.labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),S((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),S((()=>this.owner.view.state?.pixelRatio),(()=>this._pixelRatioChange())),S((()=>this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),_((()=>i.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([w(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),S((()=>this.effectiveUpdatePolicy),(e=>{h(this.stageLayer)&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Ce.ASYNC,e===Ce.SYNC&&this.runTask(Ge)}),G)]),this._frameTask=i.resourceController.scheduler.registerTask(xe.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add(S((()=>this.layer.featureReduction),(()=>this.deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\");try{await this.rendererChange(this.layer.renderer)}catch{}b(t),this.setupAbortController=null}_abortSetup(){this.setupAbortController&&(this.setupAbortController.abort(),this.setupAbortController=null)}destroy(){this._abortSetup(),this._abortRendererChange(),this._abortElevationInfoChange(),this.owner.view.deconflictor.removeGraphicsOwner(this),this.owner.view.labeler.removeGraphicsOwner(this),this._updatingPendingLoadedGraphicsChange=c(this._updatingPendingLoadedGraphicsChange),this.clear(),this.graphicStateTracking=y(this.graphicStateTracking),this.stage&&(this.stage.remove(this.stageLayer),this.stageLayer=null,this.stage=null),this._handles=y(this._handles),this._frameTask.remove(),this._frameTask=we,this._viewSpatialReference=null,this._set(\"owner\",null);for(const e in this.whenGraphics3DGraphicRequests)this.whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this.whenGraphics3DGraphicRequests=null,this.sharedSymbolResourcesOwnerHandle=c(this.sharedSymbolResourcesOwnerHandle),this.propertiesPool=y(this.propertiesPool),this.pendingUpdatesPool=null,this.symbolConversionCache.clear(),this.objectIdInvisibleSet.clear(),this._spatialIndex=y(this._spatialIndex),this._set(\"featureStore\",y(this.featureStore))}clear(){this.objectStates?.allGraphicsDeleted(),h(this.graphicStateTracking)&&this.graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this.numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this.symbols.forEach(y),this.symbols.clear(),this.graphicsBySymbol.clear(),this.graphicsWithoutSymbol.clear(),this.graphicsWaitingForSymbol.clear(),this.pendingUpdates.clear(),this.pendingUpdatesPool.clear(),this.pendingAdds=0,this.pendingRemoves=0,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.featureStore.events.emit(\"changed\")}_initializeStage(e,t){this.stage=e._stage,this.stageLayer=new _e({isPickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t),this.stage.add(this.stageLayer);const i=this.stageLayer.events;i.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.metadata.graphicUid))),i.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.metadata.graphicUid))),i.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),i.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),i.on(\"vertexAttrsUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid)))}notifyGraphicGeometryChanged(e){if(p(this.graphicStateTracking)||p(e))return;const t=this.graphics3DGraphics.get(e);t&&this.graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(p(this.graphicStateTracking)||p(e))return;const t=this.graphics3DGraphics.get(e);t&&this.graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this.numberOfGraphics>e*Te,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,i?(this.stageLayer.isPickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.isPickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.isVisible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return this.graphics3DGraphics.get(e)}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer&&this.owner.layer.objectIdField){return q(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return null;const t=new Map;return this.graphics3DGraphics.forEach((i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);h(s)&&t.set(s,i)})),t}get labelsEnabled(){return!(!this.labeler||!this.labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const t=this.deconflictor&&this.deconflictor.labelingInfoChange(e),i=this.labeler&&this.labeler.labelingInfoChange(e);await f([t,i])}updateVisibilityInfo(){this.deconflictor&&this.deconflictor.labelingInfoChange(),this.labeler&&this.labeler.visibilityInfoChange()}get symbolUpdateType(){if(this.pendingUpdates.size>0)return\"unknown\";let e=0,t=0;return o(this.symbols,((i,r)=>{if(h(i)){const s=i.getFastUpdateStatus();if(s.loading>0)return!0;this.graphicsBySymbol.has(r)&&(t+=s.fast,e+=s.slow)}return!1}))?\"unknown\":t>=0&&0===e?\"fast\":e>=0&&0===t?\"slow\":\"mixed\"}runTask(e){this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}setObjectIdVisibility(e,t){t?this.objectIdInvisibleSet.delete(e):this.objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);h(i)&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return l(this.graphics3DGraphics,(t=>this._getGraphicObjectID(t.graphic)===e))}_updateUserVisibility(e){if(p(e))return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&(p(i)||!this.objectIdInvisibleSet.has(i));return e.setVisibilityFlag(te.USER_SETTING,r,ie.GRAPHIC)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this.whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=v();return this.whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>T(e,r,t,e,i,t,s),n=(e,t,r)=>T(e,s,t,e,i,t,r),o=this.viewElevationProvider?{service:this.viewElevationProvider,useViewElevation:h(t)&&t.useViewElevation,minDemResolution:h(t)&&t.minDemResolution,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,m(t,\"signal\"));if(!l)return null;const p=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){M(p,Oe);const t=d(e.getElevation(Oe[0],Oe[1],0,i,\"ground\"),0);p[2]=Math.min(p[2],t),p[5]=Math.max(p[5],t)}}return{boundingBox:p,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await x((()=>this.owner?.loadedGraphics));const i=this.owner.layer&&this.owner.layer.objectIdField,s=this.owner.loadedGraphics.find((t=>t===e||i&&t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]));if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;U(ke,0,0,0);let s=0;if(r.render.num>0){if(!j(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Me,t))return null;O(ke,ke,Me),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=d(this.viewElevationProvider.getElevation(e,i,\"ground\"),0);if(U(Me,e,i,a),!j(Me,this.viewElevationProvider.spatialReference,Me,t))return null;O(ke,ke,Me),s++}return s>1&&A(ke,ke,1/s),new Pe({x:ke[0],y:ke[1],z:ke[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this.symbols.get(e.id);if(p(i))throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=i.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(!p(i)||!p(this.graphicsWithoutSymbol.get(t)))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":break;case\"transform\":this._graphicUpdateTransformHandler(i,e)}}_graphicUpdateGeometryHandler(e,t){const i=t.graphic.geometry;if(p(i))return void this._recreateGraphic(t.graphic);if(p(e)){const e=t.graphic.symbol&&t.graphic.symbol.id;if(e){const t=this.symbols.get(e);if(h(t)&&t.loadStatus===ye.LOADING)return}return void this._recreateGraphic(t.graphic)}const r=e.graphics3DSymbol;!p(t.newValue)&&r.updateGeometry(e,t.newValue)||this._recreateGraphic(e.graphic),this._expandComputedExtent(i)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=h(e)?e.graphics3DSymbol:h(t.oldValue)?this.symbols.get(t.oldValue.id):null;if(p(r)||p(t.newValue))return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(h(a)&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this.graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=E(s,a);if(p(o))return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!I(l.diff))return void this._recreateGraphic(i);const d=this._getRenderingInfo(i);if(p(d))return void this._recreateGraphic(i);const c=r.extentPadding;for(const h of l.symbolStatePatches)h();if(c!==r.extentPadding&&this._recomputeExtentPadding(),h(e))for(const h of l.graphics3DGraphicPatches)h(e,d);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}_graphicUpdateTransformHandler(e,t){}recreateGraphics(e){this.suspendSymbolCleanup=!0,this.remove(e),this.add(e),this.suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Ce.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this.graphicsUpdateId;return this.graphicsUpdateId++,this.graphicsWaitingForSymbol.set(e.uid,t),1===this.graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),t}_endGraphicUpdate(e){e&&(this.graphicsWaitingForSymbol.delete(e.uid),0===this.graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this.symbols.forEach((t=>{h(t)&&(e=Math.max(e,t.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=Ae,i=e.spatialReference;H(e,t);const r=this._viewSpatialReference,s=Ue.tmpVec;if(i.equals(r)||V(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],V(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(!a||null==a.zmin||t[2]<a.zmin),h=o&&(!a||null==a.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this.propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this.propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this.elevationInfoChangeAbortController&&(this.elevationInfoChangeAbortController.abort(),this.elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this.elevationInfoChangeAbortController=e;const t=re(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await se(t,this._viewSpatialReference,Le),b(e),this.elevationInfoChangeAbortController=null,this.labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t.forEach((e=>{const t=e.graphic,i=e.labelGraphics;for(const r of i){r.graphics3DSymbolLayer.updateGraphicElevationContext(t,r)}})):this._recreateSymbol(i)})),this.updateStageLayerElevationProvider(),this.elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this.stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this.numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this.stageLayerElevationProvider),this.stageLayerElevationProvider.dispose(),this.stageLayerElevationProvider=null):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this.numberOfGraphicsProvidingElevation>0&&(this.stageLayerElevationProvider=new be({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this.stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),h(this.filterVisibility)&&this.filterVisibility.clear(),this.labeler?.reset(),this.deconflictor?.clear(),this.elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this.stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this.stageLayerElevationProvider),this.stageLayerElevationProvider.dispose(),this.stageLayerElevationProvider=null)}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain.tilingScheme&&t&&t.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this.graphicsBySymbol.get(e),i=[];t&&(t.forEach(((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this.featureStore.events.emit(\"changed\")})),this.graphicsBySymbol.set(e,new Map));const r=this.symbols.get(e);y(r),this.symbols.delete(e),this.add(i)}_recreateGraphicsForSymbol(e){const t=this.graphicsBySymbol.get(e);if(t){const e=[];t.forEach((t=>e.push(t.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,t){this.graphicsDrapedUids.delete(t),this.objectStates?.removeGraphic(e),this.labeler?.removeGraphic(e),this.deconflictor?.removeGraphic(e),h(this.graphicStateTracking)&&this.graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===Ce.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Le.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Ce.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(h(t.geometry)&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return Ce.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this.geometryWarningLogged=!1,this.symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t,Le),Ce.SYNC);this._cleanupSymbols(),this.labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this.pendingUpdates.get(e);i?i.add?i.state!==Ve.NEW&&i.abortController.abort():this.pendingAdds++:(i=this.pendingUpdatesPool.pushNew(),this.pendingAdds++,this.pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===Ce.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this.pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this.pendingUpdates.delete(e),i.state===Ve.LOADING&&i.abortController.abort(),this.pendingAdds--);else{const i=this.pendingUpdatesPool.pushNew();i.remove=t,this.pendingUpdates.set(e,i),this.pendingRemoves++}}0===this.pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this.pendingUpdatesPool.clear(),this._cleanupSymbols(),(this.pendingAdds||this.pendingRemoves)&&Le.warn(\"pendingAdds/Removes in inconsistent state!\"),this.pendingAdds=0,this.pendingRemoves=0}_applyPendingUpdates(e){if(this.geometryWarningLogged=!1,this.symbolWarningLogged=!1,0===this.pendingUpdates.size&&this._spatialIndex?.updating)this._spatialIndex.update();else{for(const[t,i]of this.pendingUpdates){if(e.done)break;i.add&&i.state===Ve.NEW&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&i.state!==Ve.READY||(this.pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=Ce.SYNC),i.add)switch(i.state){case Ve.READY:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this.pendingAdds--,e.madeProgress();break;case Ve.REJECTED:i.add=null,this.pendingAdds--;case Ve.LOADING:}null==i.remove&&null==i.add&&this.pendingUpdates.delete(t)}0===this.pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Ve.READY);const t=e.add.geometry;h(t)&&\"mesh\"===t.type&&!t.loaded?this._processPendingUpdateNewMesh(e,t):this._processPendingUpdateNewRenderingInfo(e)}async _processPendingUpdateNewMesh(e,t){e.state=Ve.LOADING,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,C(t)?e.state=Ve.NEW:e.state=Ve.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(p(this.layer.renderer)||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Le),void(e.state=Ve.READY);e.state=Ve.LOADING,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void(C(i)?e.state=Ve.NEW:e.state=Ve.REJECTED)}p(t)||p(t.symbol)?(Le&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=Ve.READY}_addGraphic(e,t,i){if(this.graphicsWithoutSymbol.set(e.uid,e),p(t)||p(t.symbol)||!Y(e))return;const r=t.symbol,s=this.getOrCreateGraphics3DSymbol(r,t.renderer);if(p(s))return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new ne(e,t,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this.graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(s,n);this._spatialIndex&&h(t)&&this._spatialIndex.add(t),--s.referenced,this._endGraphicUpdate(e)}this.featureStore.events.emit(\"changed\"),this.labeler&&this.owner.view.labeler.setDirty()},c=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(C(t)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,i===Ce.ASYNC?s.load((()=>this._frameTask.schedule(d)),(e=>this._frameTask.schedule((()=>c(e))))):s.load(d,c)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this.graphicsBySymbol.get(s).delete(t),this.graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this.featureStore.events.emit(\"changed\")}else this.graphicsWithoutSymbol.delete(t),this.graphicsWaitingForSymbol.delete(t),0===this.graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof De||e instanceof Ee){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some((t=>t.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof De&&!this._hasLabelingContext(e))||(Le.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t){const i=e.geometry;if(p(i))return t&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!F(i.spatialReference,this._viewSpatialReference))return t&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return t&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?$(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||h(this.currentRenderer)))s=this.owner.getRenderingInfo(r,this.currentRenderer,g(this.arcadeOnDemand));else{s={symbol:r.symbol||K(r.geometry)}}return p(s)||p(s.symbol)?(t&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,t){const i=e.geometry;if(p(i))return Le&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return Le&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?$(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,g(this.currentRenderer),g(this.arcadeOnDemand),t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(h(t)&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=X(t.backgroundFillSymbol,{ignoreDrivers:!0});h(e.symbol)&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=le(i,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,t){let i=this.symbols.get(e.id);return void 0===i&&(i=e instanceof Ie?new he(e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,t))):this._createGraphics3DSymbol(e,t),this.symbols.set(e.id,i)),h(i)&&++i.referenced,i}trackGraphicState(e){return p(this.graphicStateTracking)&&(this.graphicStateTracking=new de(this)),this.graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this.numberOfGraphics++,e.isElevationSource&&(this.numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this.numberOfGraphics--,i&&(this.numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const i=t.graphic;if(this.graphicsWithoutSymbol.delete(i.uid),!this.symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(p(r))return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this.graphicsBySymbol.has(s)||this.graphicsBySymbol.set(s,new Map),this.graphicsBySymbol.get(s).set(i.uid,r);r.isDraped&&this.graphicsDrapedUids.add(i.uid),r.centroid=null,h(i.geometry)&&\"point\"!==i.geometry.type&&(r.centroid=pe(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),h(this.scaleVisibility)&&this.scaleVisibility.updateVisibility(r),h(this.filterVisibility)&&this.filterVisibility.updateVisibility(r),this.deconflictor?.addGraphic(r),this.labeler?.addGraphic(r),this.objectStates?.addGraphic(r),this.deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stage,this.stageLayer,this.owner),h(this.graphicStateTracking)&&this.graphicStateTracking.addGraphic(r);const a=this.whenGraphics3DGraphicRequests[i.uid];return a&&(delete this.whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),r}_abortRendererChange(){this.rendererChangeAbortController&&(this.rendererChangeAbortController.abort(),this.rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),p(e)&&this._currentRendererChange(null,!1),Z(e))if(h(e)&&e.arcadeRequired){const t=new AbortController;this.rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();b(t),i.hasGeometryOperations(e)&&(await i.enableGeometryOperations(),b(t)),this.effectiveUpdatePolicy===Ce.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,!0)),t.signal):this._currentRendererChange(e,!0),this.rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Ce.ASYNC){const t=new AbortController;this.rendererChangeAbortController=t,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),t.signal),this.rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return p(this.arcadeOnDemand)?(this.arcadeOnDemand=await Q(),this.arcadeOnDemand):this.arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=g(this.arcadeOnDemand);const i=this.symbolCreationContext.renderer;if(e===i)return;if(this.symbolConversionCache.clear(),p(e))return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=E(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,p(r)||(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this.graphicsBySymbol.get(s.id);t&&t.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof B?this.layer:null,h=g(this.arcadeOnDemand);if(s===i.defaultSymbol&&i.getSymbol($(o,l),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this.graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this.graphicsWithoutSymbol.forEach((e=>r.push(e))),this.graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,t,i){const r=e.diff.defaultSymbol,s=e.diff.uniqueValueInfos;if(r||s){const a=s?s.added.map((e=>e.symbol)):[],n=s?s.removed.map((e=>e.symbol)):[];if(s)for(let e=0;e<s.changed.length;e++)a.push(s.changed[e].newValue.symbol),n.push(s.changed[e].oldValue.symbol);return r?(i.defaultSymbol&&n.push(i.defaultSymbol),t.defaultSymbol&&a.push(t.defaultSymbol)):i.defaultSymbol&&a.length&&n.push(t.defaultSymbol),this._applySymbolSetDiff(a,n,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||h(e)&&\"partial\"!==e.type)return[];const r=e=>h(e)?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of i.uniqueValueInfos){const i=r(e.symbol),s=t.uniqueValueInfos.find((t=>t.value===e.value));s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=h(t)&&t?\"string\"==typeof t?t:t.id:null;if(!e||e===i)return;const r=this.graphicsBySymbol.get(e);this.graphicsBySymbol.delete(e),void 0!==r&&this.graphicsBySymbol.set(i,r);const s=this.symbols.get(e);if(void 0!==s&&(this.symbols.delete(e),this.symbols.set(i,s),h(s))){const e=\"string\"==typeof t?null:t;h(e)?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,i,r){if(this._diffHasSymbolChange(e))return!1;if(i instanceof t&&r instanceof t&&this._applyUniqueValueRendererDiff(e,i,r)&&0===Object.keys(e.diff).length)return!0;for(const[t]of this.graphicsBySymbol){const r=this.symbols.get(t);if(h(r))switch(r.applyRendererDiff(e,i)){case ce.Recreate_Symbol:this._recreateSymbol(t);break;case ce.Recreate_Graphics:this._recreateGraphicsForSymbol(t);case ce.Fast_Update:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"opacity\",t))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.isSliceable=e,this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t))),this.deconflictor&&this.deconflictor.slicePlaneEnabledChange(),this.labeler&&this.labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){e!==this.symbolCreationContext.physicalBasedRenderingEnabled&&(this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)})))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=R((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=z();return fe(e,r,t)?this.symbolCreationContext.clippingExtent=W(k(),r):this.symbolCreationContext.clippingExtent=null,!N(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){let t=!1;this.graphics3DGraphics.forEach((i=>{e(i)&&(t=!0)})),t&&(this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}forEachGraphics3DSymbol(e){for(const[t,i]of this.symbols){if(p(i))return;e(i,this.graphicsBySymbol.get(t)||We,t)}}updateAllGraphicsVisibility(){h(this.filterVisibility)&&(this.filterVisibility.dirty=!0),this.modifyGraphics3DGraphicVisibilities((e=>{const t=this._updateUserVisibility(e),i=h(this.scaleVisibility)&&this.scaleVisibility.updateVisibility(e);return t||i}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(te.USER_SETTING,!1,ie.GRAPHIC)))}_validateRenderer(e){const t=J(e);if(t){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Le.warn(e,t.message)}}_volatileGraphicsUpdated(){this.labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this.graphicsWaitingForSymbol.size>0||this.suspendSymbolCleanup)return;let e=!1;this.symbols.forEach(((t,i)=>{if(p(t)||t.referenced>0)return;const r=this.graphicsBySymbol.get(i);r&&0!==r.size||(this.graphicsBySymbol.delete(i),this.symbols.delete(i),y(t),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this.symbols.keys()].sort(),graphicsBySymbol:[...this.graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this.graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this.graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this.graphicsDrapedUids].sort(),pendingUpdates:this.pendingUpdates}),symbols:this.symbols,filterVisibility:this.filterVisibility,numPending:this.pendingUpdates.size,forceUpdatePolicy:e=>{this.forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this.graphicsWithoutSymbol.size,pending:this.pendingUpdates.size}}};var Ve;je.tmpVec=L(),e([P({readOnly:!0})],je.prototype,\"computedExtent\",void 0),e([P()],je.prototype,\"currentRenderer\",void 0),e([P()],je.prototype,\"rendererHasGeometryOperations\",void 0),e([P()],je.prototype,\"_frameTask\",void 0),e([P()],je.prototype,\"rendererChangeAbortController\",void 0),e([P()],je.prototype,\"elevationInfoChangeAbortController\",void 0),e([P()],je.prototype,\"setupAbortController\",void 0),e([P({readOnly:!0})],je.prototype,\"elevationAlignment\",void 0),e([P({readOnly:!0})],je.prototype,\"scaleVisibility\",void 0),e([P({readOnly:!0})],je.prototype,\"filterVisibility\",void 0),e([P()],je.prototype,\"_spatialIndex\",void 0),e([P({readOnly:!0})],je.prototype,\"extentPadding\",void 0),e([P()],je.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([P({readOnly:!0})],je.prototype,\"featureStore\",void 0),e([P({readOnly:!0})],je.prototype,\"deconflictor\",void 0),e([P({readOnly:!0})],je.prototype,\"labeler\",void 0),e([P({readOnly:!0})],je.prototype,\"objectStates\",void 0),e([P()],je.prototype,\"_loadingSymbols\",void 0),e([P()],je.prototype,\"preferredUpdatePolicy\",void 0),e([P()],je.prototype,\"forcedUpdatePolicy\",void 0),e([P({readOnly:!0})],je.prototype,\"effectiveUpdatePolicy\",null),e([P({constructOnly:!0})],je.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([P({constructOnly:!0})],je.prototype,\"owner\",void 0),e([P({constructOnly:!0})],je.prototype,\"layer\",void 0),e([P({constructOnly:!0})],je.prototype,\"graphicSymbolSupported\",void 0),e([P({constructOnly:!0})],je.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([P({readOnly:!0})],je.prototype,\"updating\",null),e([P({readOnly:!0})],je.prototype,\"running\",null),e([P({readOnly:!0})],je.prototype,\"suspendedOrOutsideOfView\",null),e([P({readOnly:!0,dependsOn:[]})],je.prototype,\"updatingRemaining\",null),e([P({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],je.prototype,\"displayFeatureLimit\",null),e([P({readOnly:!0,dependsOn:[]})],je.prototype,\"averageSymbolComplexity\",null),e([P({constructOnly:!0})],je.prototype,\"hasZ\",void 0),e([P({constructOnly:!0})],je.prototype,\"hasM\",void 0),je=Ue=e([D(\"esri.views.3d.layers.graphics.Graphics3DCore\")],je),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Ve||(Ve={}));class Fe{constructor(){this.add=null,this.renderingInfo=null,this.state=Ve.NEW,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Ve.NEW,this.abortController=null,this.remove=null}}const Te=10,ke=L(),Me=L(),We=new Map;export{je as Graphics3DCore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as n}from\"../../../../geometry/projection.js\";import{create as c}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityFlag as h,VisibilityGroup as o}from\"./enums.js\";import{scaleBoundsPredicate as p}from\"../../../support/layerViewUtils.js\";import{TaskPriority as u}from\"../../../support/Scheduler.js\";let g=class extends i{constructor(){super(...arguments),this._scaleRangeActive=!1,this.layerScaleRangeVisibilityQuery=!1,this.handles=new t,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.extent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this.updating=!0}setup(e,i,t,s,a){this.graphicsCoreOwner=e,this.layer=i,this.queryGraphicUIDsInExtent=t,this.graphicsCore=s,this.basemapTerrain=a,this.updateScaleRangeActive();const r=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(r.registerTask(u.SCALE_VISIBILITY,this))}destroy(){this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.extent=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this.extent=e;else{const s=c();n(e,i,s,t)?this.extent=s:this.extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&y(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&y(e.minScale,e.maxScale))));const s=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(d)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),d),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),d)):!t&&this.handles.has(d)&&this.handles.remove(d),s}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(){const e=this.graphicsCoreOwner.view.basemapTerrain;if(this.extent&&e&&e.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(!this.layerScaleRangeVisibilityQuery){this.layerScaleRangeVisibilityQuery=!0;const i=this.layer.effectiveScaleRange;e.queryVisibleScaleRange(this.extent,i.minScale,i.maxScale,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0)}_finishUpdate(e){this.layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._set(\"updating\",!1)}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||p(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return p(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(s(e.centroid)?i=e.centroid:s(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(h.SCALE_RANGE,i,o.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const t=e.labelGraphics[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const s=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(h.SCALE_RANGE,s,o.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),this.graphicsCoreOwner.suspended)return;const i=e.extent,t=e.scale,r=this._visibleAtLayerScale(t);let l=!1;this.queryGraphicUIDsInExtent(i,e.spatialReference,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if(a(n))return;const c=n.centroid;s(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(h.SCALE_RANGE,r,o.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(h.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function y(e,i){return e>0||i>0}e([r({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],g.prototype,\"suspended\",void 0),e([r({readOnly:!0})],g.prototype,\"updating\",void 0),g=e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const d=\"terrain-events\",b=g;export{b as default};\n"],"names":["h","t","i","this","compareMinX","l","compareMinY","c","_toBBox","_maxEntries","Math","max","_minEntries","ceil","_initFormat","clear","g","prune","M","X","Y","_all","data","n","e","p","s","children","length","a","leaf","f","push","pop","insert","_build","slice","height","_splitRoot","_insert","b","r","o","indexHint","splice","_condense","pushArray","log","j","sqrt","_","min","m","u","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","console","x","_allDistMargin","sort","d","Function","join","minX","minY","maxX","maxY","deallocator","w","arguments","B","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","S","symbolLayers","material","color","edges","size","y","type","events","objectIdField","viewSpatialReference","featureAdapter","graphic","getAsOptimizedGeometry","Array","z","getSpatialIndex","forEachInBounds","getBounds","constructOnly","prototype","spatialReference","schedule","sharedResources","streamDataRequester","elevationProvider","renderer","stage","clippingExtent","renderCoordsHelper","overlaySR","layer","drapeSourceRenderer","graphicsCoreOwner","localOriginFactory","featureExpressionInfoContext","screenSizePerspectiveEnabled","slicePlaneEnabled","physicalBasedRenderingEnabled","isAsync","calloutSymbolLayer","symbol","hasVisibleCallout","load","abortLoad","_createCalloutGraphic","addAuxiliaryGraphic","globalPropertyChanged","_getCalloutGraphicLayer","updateGeometry","renderingInfo","translation","centerOffset","screenOffset","centerOffsetUnits","elevationOffset","materialCollection","createGraphics3DGraphic","_auxiliaryGraphics","graphics3DSymbolLayer","graphicsCore","idToState","Map","states","Set","owner","getGraphicId","getGraphics3DGraphicById","getGraphics3DGraphicByObjectId","uid","forEach","remove","has","add","_ensureStateList","displaying","isVisible","isDraped","tracking","emit","get","delete","_forEachState","set","_index","extent","_missing","_boundsByFeature","updating","_addMany","destroy","from","values","equals","update","search","_get","computeExtent","readOnly","_layerHandes","view","intersectLayers","stageLayer","intersector","state","viewingMode","options","store","v","_computeLayerExtent","zmin","zmax","on","_objectChanged","object","elevationInfo","mode","unit","offset","toRenderCoords","error","setAltitude","R","reset","intersect","metadata","isElevationSource","results","getIntersectionPoint","getAltitude","lastValidElevationBB","isEmpty","_expandExtent","boundingVolumeWorldSpace","E","C","objects","forAll","fromRenderCoords","aliasOf","Ue","Ve","context","Oe","L","Ae","k","Le","je","propertiesPool","ve","computedExtent","Re","currentRenderer","rendererHasGeometryOperations","graphicStateTracking","symbolCreationContext","oe","_frameTask","graphics3DGraphics","graphicsDrapedUids","graphicsBySymbol","symbolConversionCache","symbols","graphicsWithoutSymbol","graphicsWaitingForSymbol","graphicsUpdateId","_handles","we","suspendSymbolCleanup","_viewSpatialReference","arcadeOnDemand","rendererChangeAbortController","elevationInfoChangeAbortController","setupAbortController","elevationAlignment","scaleVisibility","_spatialIndex","extentPadding","_updatingPendingLoadedGraphicsChange","featureStore","deconflictor","labeler","objectStates","viewElevationProvider","stageLayerElevationProvider","sharedSymbolResourcesOwnerHandle","whenGraphics3DGraphicRequests","pendingUpdates","numberOfGraphics","numberOfGraphicsProvidingElevation","pendingAdds","pendingRemoves","_loadingSymbols","pendingUpdatesPool","allocator","Fe","symbolWarningLogged","geometryWarningLogged","objectIdInvisibleSet","_whenSymbolRemoved","preferredUpdatePolicy","Ce","forcedUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","_usedMemory","_visible","_startCreateGraphics","me","setup","running","filterVisibility","suspended","suspendInfo","outsideOfView","updatingRemaining","qualitySettings","graphics3D","minTotalNumberOfFeatures","maxTotalNumberOfFeatures","maxTotalNumberOfPrimitives","averageSymbolComplexity","primitivesPerFeature","drawCallsPerFeature","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","maximumTotalNumberOfPrimitives","maximumNumberOfFeatures","ge","symbolComplexities","numComplexities","estimated","primitivesPerCoordinate","labelsEnabled","memory","bytesPerFeatureLabel","abs","bytesPerFeature","usedMemoryPerGraphic","_getSymbolComplexitiesUsedOrRenderer","_getSymbolComplexitiesUsed","clone","id","retainId","hasLabelingContext","_hasLabelingContext","message","getSymbols","backgroundFillSymbol","_getSymbolComplexityUsedOrRenderer","complexity","_getConvertedSymbol","ue","_set","ae","featureSpatialReference","spatialIndex","toArray","AbortController","signal","ee","_initializeStage","sharedSymbolResources","addGraphicsOwner","Se","renderSpatialReference","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","re","se","physicallyBasedRenderingEnabled","basemapTerrain","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","suspendedOrOutsideOfView","reschedule","_updateLayerVisibility","recreateAllGraphicsAndSymbols","_slicePlaneEnabledChange","pixelRatio","_pixelRatioChange","_physicalBasedRenderingChange","tilingScheme","recreateAllGraphics","loadedGraphics","_graphicsCollectionChanged","_signalUpdatingDuringAsyncLoadedGraphicsChange","onListenerAdd","initial","effectiveUpdatePolicy","updatePolicy","runTask","Ge","G","resourceController","scheduler","registerTask","xe","featureReduction","featureReductionChange","notifyChange","rendererChange","abort","_abortSetup","_abortRendererChange","_abortElevationInfoChange","removeGraphicsOwner","reject","allGraphicsDeleted","_stage","_e","isPickable","graphicUid","updateGraphicGeometry","updateGraphicVisibility","displayFeatureLimit","Te","updateAllGraphicsVisibility","_hideAllGraphics","_updateStageLayerVisibility","opacity","_findGraphics3DGraphicByObjectId","q","_getGraphicObjectID","layerLabelsEnabled","labelingInfoChange","visibilityInfoChange","getFastUpdateStatus","loading","fast","slow","processQueue","_applyPendingUpdates","_updateUserVisibility","visible","setVisibilityFlag","te","ie","Promise","resolve","promise","T","service","useViewElevation","minDemResolution","minDemResolutionForPoints","resolution","getProjectedBoundingBox","boundingBox","requiresDrapedElevation","getElevation","screenSpaceObjects","find","_whenGraphics3DGraphic","_boundsForGraphics3DGraphic","computeAttachmentOrigin","render","num","draped","U","ke","origin","Me","O","A","Pe","indexOf","getSymbolLayerSize","added","removed","property","_graphicUpdateVisibleHandler","_graphicUpdateGeometryHandler","_graphicUpdateSymbolHandler","_graphicUpdateTransformHandler","_recreateGraphic","loadStatus","ye","graphics3DSymbol","newValue","_expandComputedExtent","oldValue","_updateSymbolMapping","diff","graphics3DGraphicPatches","symbolStatePatches","prepareSymbolPatch","I","_getRenderingInfo","_recomputeExtentPadding","setDirty","_cleanupSymbols","recreateGraphics","H","tmpVec","V","isFinite","xmin","ymin","xmax","ymax","elevationInfoChange","forEachGraphics3DSymbol","labelGraphics","updateGraphicElevationContext","_recreateSymbol","updateStageLayerElevationProvider","unregister","dispose","be","register","invalidateSpatialQueryAccelerator","_recreateAllGraphics","_clearSymbolsAndGraphics","usedMemory","_conditionalRemove","_removeGraphics3DGraphic","removeGraphic","_updatePolicyForGraphics","_addDelayed","_addImmediate","geometryType","loaded","_addGraphic","NEW","abortController","pushNew","_removeDelayed","_removeImmediate","_removeGraphic","LOADING","_finishPendingUpdates","warn","done","_processPendingUpdateNew","READY","madeProgress","REJECTED","_processPendingUpdateNewMesh","_processPendingUpdateNewRenderingInfo","_processPendingUpdateNewError","_getRenderingInfoAsync","getOrCreateGraphics3DSymbol","_beginGraphicUpdate","ne","destroyed","removeUnordered","referenced","_createGraphics3DGraphic","_endGraphicUpdate","onRemoveGraphic","De","Ee","labelingInfo","some","F","$","getRenderingInfo","K","getRenderingInfoAsync","_hasValidSymbolCreationContext","ignoreDrivers","le","Ie","he","_createGraphics3DSymbol","de","_addGraphics3DGraphic","pe","updateVisibility","addGraphic","setInitialIconVisibilityFlag","initialize","_validateRenderer","_currentRendererChange","Z","arcadeRequired","_ensureArcade","arcadeUtils","hasGeometryOperations","enableGeometryOperations","Q","arcade","_updateUnchangedSymbolMappings","_applyRendererDiff","_volatileGraphicsUpdated","defaultSymbol","getSymbol","uniqueValueInfos","map","changed","_applySymbolSetDiff","unchanged","oldId","newId","value","_calculateUnchangedSymbolMapping","_diffHasSymbolChange","_applyUniqueValueRendererDiff","Object","keys","applyRendererDiff","ce","_recreateGraphicsForSymbol","isSliceable","slicePlaneEnabledChange","fe","W","N","We","dirty","modifyGraphics3DGraphicVisibilities","J","title","shaderTransformationChanged","snapshotInternals","graphics","symbolId","numPending","forceUpdatePolicy","missing","pending","P","dependsOn","D","_scaleRangeActive","layerScaleRangeVisibilityQuery","handles","queryGraphicUIDsInExtent","layerScaleEnabled","updateScaleRangeActive","_setDirty","effectiveScaleRange","minScale","maxScale","_scaleUpdateHandler","ready","queryVisibleScaleRange","_finishUpdate","getScale","_graphicScale","_visibleAtLayerScale","_graphicVisible","_updateLabelScaleVisibility","_labelClass","_visibleAtLabelScale","scale","clearVisibilityFlag"],"sourceRoot":""}