"use strict";(self.webpackChunkuums_front_end=self.webpackChunkuums_front_end||[]).push([[5886],{35886:function(t,e,n){n.r(e),n.d(e,{loadGLTFMesh:function(){return F}});var r=n(37762),o=n(74165),a=n(15861),u=n(51995),c=n(76200),s=n(77427),i=n(16889),l=n(92026),f=n(22753),p=n(11873),m=n(71353),d=n(67077),g=n(64995),v=n(53942),C=n(79694),x=n(27474),h=n(25158),w=n(32035),y=n(19093),b=n(17054),A=n(57898),E=n(27053),T=n(55798),M=n(32315),R=n(81955),S=n(68845),Z=n(8548),k=n(92770),B=n(69618),_=n(19131);function F(t,e,n){return I.apply(this,arguments)}function I(){return(I=(0,a.Z)((0,o.Z)().mark((function t(e,n,a){var u,c,s,i,f,p,m,d,g,v,C,h,w,y,b,M,R;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new E.C(L(a)),t.next=3,(0,T.z)(u,n,a,!0);case 3:c=t.sent.model,s=c.lods.shift(),i=new Map,f=new Map,c.textures.forEach((function(t,e){return i.set(e,W(t))})),c.materials.forEach((function(t,e){return f.set(e,D(t,i))})),p=P(s),m=(0,r.Z)(p.parts);try{for(m.s();!(d=m.n()).done;)g=d.value,G(p,g,f)}catch(o){m.e(o)}finally{m.f()}return v=p.vertexAttributes,C=v.position,h=v.normal,w=v.tangent,y=v.color,b=v.texCoord0,M={position:C.typedBuffer,normal:(0,l.pC)(h)?h.typedBuffer:null,tangent:(0,l.pC)(w)?w.typedBuffer:null,uv:(0,l.pC)(b)?b.typedBuffer:null,color:(0,l.pC)(y)?y.typedBuffer:null},R=(0,A.w1)(M,e,a),t.abrupt("return",{transform:R.transform,components:p.components,spatialReference:e.spatialReference,vertexAttributes:new x.Q({position:R.vertexAttributes.position,normal:R.vertexAttributes.normal,tangent:R.vertexAttributes.tangent,color:M.color,uv:M.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return null!==t&&void 0!==t&&t.resolveFile?{busy:!1,request:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n,r,a){var u,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.resolveFile(n),s="image"===r?"image":"binary"===r?"array-buffer":"json",e.next=3,(0,c.default)(u,{responseType:s,signal:(0,l.pC)(a)?a.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}:null}function N(t,e){if((0,l.Wi)(t))return"-";var n=t.typedBuffer;return"".concat((0,s.s1)(e,n.buffer,(function(){return e.size})),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function P(t){var e,n=0,o={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,u=new Map,c=[],i=(0,r.Z)(t.parts);try{var f=function(){var t=e.value,r=t.attributes,i=r.position,f=r.normal,p=r.color,m=r.tangent,d=r.texCoord0,g="\n      ".concat(N(i,a),"/\n      ").concat(N(f,a),"/\n      ").concat(N(p,a),"/\n      ").concat(N(m,a),"/\n      ").concat(N(d,a),"/\n      ").concat(function(t){return(0,l.pC)(t)?t.toString():"-"}(t.transform),"\n    "),v=!1,C=(0,s.s1)(u,g,(function(){return v=!0,{start:n,length:i.count}}));v&&(n+=i.count),f&&(o.normal=!0),p&&(o.color=!0),m&&(o.tangent=!0),d&&(o.texCoord0=!0),c.push({gltf:t,writeVertices:v,region:C})};for(i.s();!(e=i.n()).done;)f()}catch(p){i.e(p)}finally{i.f()}return{vertexAttributes:{position:(0,b.gS)(h.fP,n),normal:o.normal?(0,b.gS)(h.ct,n):null,tangent:o.tangent?(0,b.gS)(h.ek,n):null,color:o.color?(0,b.gS)(h.mc,n):null,texCoord0:o.texCoord0?(0,b.gS)(h.Eu,n):null},parts:c,components:[]}}function W(t){return new C.Z({data:t.data,wrap:X(t.parameters.wrap)})}function D(t,e){var n,r=new u.Z(function(t,e){return(0,d.f)(j(t[0]),j(t[1]),j(t[2]),e)}(t.color,t.opacity)),o=t.emissiveFactor?new u.Z((n=t.emissiveFactor,(0,m.f)(j(n[0]),j(n[1]),j(n[2])))):null;return new v.Z({color:r,colorTexture:(0,l.Wg)((0,l.yw)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:(0,l.Wg)((0,l.yw)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:o,emissiveTexture:(0,l.Wg)((0,l.yw)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:(0,l.Wg)((0,l.yw)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:O(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,l.Wg)((0,l.yw)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function G(t,e,n){e.writeVertices&&function(t,e){var n=t.vertexAttributes,r=n.position,o=n.normal,a=n.tangent,u=n.color,c=n.texCoord0,s=e.region.start,m=e.gltf,d=m.attributes,g=m.transform,v=d.position.count;if((0,w.t)(r.slice(s,v),d.position,g),(0,l.pC)(d.normal)&&(0,l.pC)(o)){var C=(0,f.a)((0,p.c)(),g),x=o.slice(s,v);(0,w.a)(x,d.normal,C),(0,i.oc)(C)&&(0,w.n)(x,x)}else(0,l.pC)(o)&&(0,k.f)(o,0,0,1,{dstIndex:s,count:v});if((0,l.pC)(d.tangent)&&(0,l.pC)(a)){var b=(0,f.a)((0,p.c)(),g),A=a.slice(s,v);(0,y.t)(A,d.tangent,b),(0,i.oc)(b)&&(0,y.n)(A,A)}else(0,l.pC)(a)&&(0,B.f)(a,0,0,1,1,{dstIndex:s,count:v});if((0,l.pC)(d.texCoord0)&&(0,l.pC)(c)?(0,_.n)(c.slice(s,v),d.texCoord0):(0,l.pC)(c)&&(0,_.f)(c,0,0,{dstIndex:s,count:v}),(0,l.pC)(d.color)&&(0,l.pC)(u)){var E=d.color,T=u.slice(s,v);if(4===E.elementCount)E instanceof h.ek?(0,y.s)(T,E,255):E instanceof h.mc?(0,B.c)(T,E):E instanceof h.v6&&(0,y.a)(T,E,8);else{(0,B.f)(T,255,255,255,255);var M=h.ne.fromTypedArray(T.typedBuffer,T.typedBufferStride);E instanceof h.ct?(0,w.s)(M,E,255):E instanceof h.ne?(0,k.c)(M,E):E instanceof h.mw&&(0,w.b)(M,E,8)}}else(0,l.pC)(u)&&(0,B.f)(u.slice(s,v),255,255,255,255)}(t,e);var r=e.gltf,o=function(t,e){switch(e){case Z.MX.TRIANGLES:return(0,M.nh)(t,R.DX);case Z.MX.TRIANGLE_STRIP:return(0,M.DA)(t);case Z.MX.TRIANGLE_FAN:return(0,M.jX)(t)}}(r.indices||r.attributes.position.count,r.primitiveType),a=e.region.start;if(a)for(var u=0;u<o.length;u++)o[u]+=a;t.components.push(new g.Z({faces:o,material:n.get(r.material),trustSourceNormals:!0}))}function O(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function X(t){return{horizontal:z(t.s),vertical:z(t.t)}}function z(t){switch(t){case Z.e8.CLAMP_TO_EDGE:return"clamp";case Z.e8.MIRRORED_REPEAT:return"mirror";case Z.e8.REPEAT:return"repeat"}}function j(t){return 255*Math.pow(t,1/S.K)}}}]);
//# sourceMappingURL=5886.79ab5083.chunk.js.map