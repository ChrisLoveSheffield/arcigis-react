"use strict";(self.webpackChunkuums_front_end=self.webpackChunkuums_front_end||[]).push([[1945],{79308:function(e,t,r){r.r(t),r.d(t,{default:function(){return ue}});var n=r(37762),a=r(74165),i=r(15861),l=r(15671),s=r(43144),o=r(66978),u=r(10106),h=r(93433),f=r(92026),c=r(99201);function y(e){return 746===e||747===e||!(e<4352)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103&&!(e>=65097&&e<=65103)||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351&&!(e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=12592&&e<=12687||e>=43360&&e<=43391||e>=55216&&e<=55295||e>=4352&&e<=4607||e>=44032&&e<=55215||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12688&&e<=12703||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543&&12540!==e||e>=65280&&e<=65519&&!(65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||e>=65104&&e<=65135&&!(e>=65112&&e<=65118||e>=65123&&e<=65126)||e>=5120&&e<=5759||e>=6320&&e<=6399||e>=65040&&e<=65055||e>=19904&&e<=19967||e>=40960&&e<=42127||e>=42128&&e<=42191)}function d(e){return!(e<11904)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=65280&&e<=65519||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543||e>=65040&&e<=65055||e>=42128&&e<=42191||e>=40960&&e<=42127)}function v(e){switch(e){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function p(e){switch(e){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var x,m=r(12233),g=24,_=function(){function e(t,r,n,a,i,s,o){(0,l.Z)(this,e),this._glyphItems=t,this._maxWidth=r,this._lineHeight=n,this._letterSpacing=a,this._hAnchor=i,this._vAnchor=s,this._justify=o}return(0,s.Z)(e,[{key:"getShaping",value:function(e,t,r){for(var a=this._letterSpacing,i=this._lineHeight,l=this._justify,s=this._maxWidth,o=[],u=0,h=0,f=e.length,c=0;c<f;c++){var x,m=e.charCodeAt(c),g=r&&y(m),_=void 0,I=(0,n.Z)(this._glyphItems);try{for(I.s();!(x=I.n()).done;){if(_=x.value[m])break}}catch(j){I.e(j)}finally{I.f()}o.push({codePoint:m,x:u,y:h,vertical:g,glyphMosaicItem:_}),_&&(u+=_.metrics.advance+a)}var b=u;s>0&&(b=u/Math.max(1,Math.ceil(u/s)));for(var k=e.includes("\u200b"),T=[],w=0;w<f-1;w++){var P=o[w].codePoint,M=d(P);if(v(P)||M){var E=0;if(10===P)E-=1e4;else if(M&&k)E+=150;else{40!==P&&65288!==P||(E+=50);var L=o[w+1].codePoint;41!==L&&65289!==L||(E+=50)}T.push(this._buildBreak(w+1,o[w].x,b,T,E,!1))}}for(var Z=this._optimalBreaks(this._buildBreak(f,u,b,T,0,!0)),B=0,D=t?-i:i,A=0,R=0;R<Z.length;R++){for(var V=Z[R],O=A;O<V&&p(o[O].codePoint);)o[O].glyphMosaicItem=null,++O;for(var C=V-1;C>O&&p(o[C].codePoint);)o[C].glyphMosaicItem=null,--C;if(O<=C){for(var S=o[O].x,N=O;N<=C;N++)o[N].x-=S,o[N].y=h;var F=o[C].x;o[C].glyphMosaicItem&&(F+=o[C].glyphMosaicItem.metrics.advance),B=Math.max(F,B),l&&this._applyJustification(o,O,C)}A=V,h+=D}if(o.length>0){var U=Z.length-1,z=(l-this._hAnchor)*B,G=(-this._vAnchor*(U+1)+.5)*i;t&&U&&(G+=U*i);var H,K=(0,n.Z)(o);try{for(K.s();!(H=K.n()).done;){var W=H.value;W.x+=z,W.y+=G}}catch(j){K.e(j)}finally{K.f()}}return o.filter((function(e){return e.glyphMosaicItem}))}},{key:"_breakScore",value:function(e,t,r,n){var a=(e-t)*(e-t);return n?e<t?a/2:2*a:a+Math.abs(r)*r}},{key:"_buildBreak",value:function(e,t,r,a,i,l){var s,o=null,u=this._breakScore(t,r,i,l),h=(0,n.Z)(a);try{for(h.s();!(s=h.n()).done;){var f=s.value,c=t-f.x,y=this._breakScore(c,r,i,l)+f.score;y<=u&&(o=f,u=y)}}catch(d){h.e(d)}finally{h.f()}return{index:e,x:t,score:u,previousBreak:o}}},{key:"_optimalBreaks",value:function(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}},{key:"_applyJustification",value:function(e,t,r){for(var n=e[r],a=n.vertical?g:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0,i=(n.x+a)*this._justify,l=t;l<=r;l++)e[l].x-=i}}],[{key:"getTextBox",value:function(e,t){if(!e.length)return null;var r,a=1/0,i=1/0,l=0,s=0,o=(0,n.Z)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value,h=u.glyphMosaicItem.metrics.advance,f=u.x,c=u.y-17,y=f+h,d=c+t;a=Math.min(a,f),l=Math.max(l,y),i=Math.min(i,c),s=Math.max(s,d)}}catch(v){o.e(v)}finally{o.f()}return{x:a,y:i,width:l-a,height:s-i}}},{key:"getBox",value:function(e){if(!e.length)return null;var t,r=1/0,a=1/0,i=0,l=0,s=(0,n.Z)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value,u=o.glyphMosaicItem.metrics,h=u.height,f=u.left,c=u.top,y=u.width,d=o.x,v=o.y-(h-Math.abs(c)),p=d+y+f,x=v+h;r=Math.min(r,d),i=Math.max(i,p),a=Math.min(a,v),l=Math.max(l,x)}}catch(m){s.e(m)}finally{s.f()}return{x:r,y:a,width:i-r,height:l-a}}},{key:"addDecoration",value:function(e,t){var r=e.length;if(0!==r){for(var n=e[0].x+e[0].glyphMosaicItem.metrics.left,a=e[0].y,i=1;i<r;i++){var l=e[i];if(l.y!==a){var s=e[i-1].x+e[i-1].glyphMosaicItem.metrics.left+e[i-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:a+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new m.Z(4,0,4,8),metrics:{width:s-n,height:8,left:0,top:0,advance:0},page:0,code:0}}),a=l.y,n=l.x+l.glyphMosaicItem.metrics.left}}var o=e[r-1].x+e[r-1].glyphMosaicItem.metrics.left+e[r-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:a+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new m.Z(4,0,4,8),metrics:{width:o-n,height:8,left:0,top:0,advance:0},page:0,code:0}})}}}]),e}(),I=r(46618),b=r(21391),k=r(60652),T=.5,w=(0,s.Z)((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T;(0,l.Z)(this,e),this.x=t,this.y=r,this.angle=n,this.segment=a,this.minzoom=i})),P=(0,s.Z)((function e(t,r,n,a,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:c.B1;(0,l.Z)(this,e),this.anchor=t,this.labelAngle=r,this.glyphAngle=n,this.page=a,this.alternateVerticalGlyph=i,this.minzoom=s,this.maxzoom=o})),M=(0,s.Z)((function e(t,r,n,a,i,s,o,u,h,f,c,y){(0,l.Z)(this,e),this.tl=t,this.tr=r,this.bl=n,this.br=a,this.mosaicRect=i,this.labelAngle=s,this.minAngle=o,this.maxAngle=u,this.anchor=h,this.minzoom=f,this.maxzoom=c,this.page=y})),E=(0,s.Z)((function e(t){(0,l.Z)(this,e),this.shapes=t})),L=function(){function e(){(0,l.Z)(this,e)}return(0,s.Z)(e,[{key:"getIconPlacement",value:function(e,t,r){var n=new k.E(e.x,e.y),a=r.rotationAlignment===b.aF.MAP,i=r.keepUpright,l=r.rotate*c.DT;a&&(l+=e.angle);var s=new E([]);return r.allowOverlap&&r.ignorePlacement||!I.Bf||(s.iconColliders=[]),this._addIconPlacement(s,n,t,r,l),a&&i&&this._addIconPlacement(s,n,t,r,l+c.JJ),s}},{key:"_addIconPlacement",value:function(e,t,r,n,a){var i=r.pixelRatio,l=r.width/i,s=r.height/i,o=n.offset,u=o[0],h=o[1];switch(n.anchor){case b.nR.CENTER:u-=l/2,h-=s/2;break;case b.nR.LEFT:h-=s/2;break;case b.nR.RIGHT:u-=l,h-=s/2;break;case b.nR.TOP:u-=l/2;break;case b.nR.BOTTOM:u-=l/2,h-=s;break;case b.nR.TOP_LEFT:break;case b.nR.BOTTOM_LEFT:h-=s;break;case b.nR.TOP_RIGHT:u-=l;break;case b.nR.BOTTOM_RIGHT:u-=l,h-=s}var f=r.rect,y=2/i,d=u-y,v=h-y,p=d+f.width/i,x=v+f.height/i,m=new k.E(d,v),g=new k.E(p,x),_=new k.E(d,x),w=new k.E(p,v);if(0!==a){var P=Math.cos(a),E=Math.sin(a);m.rotate(P,E),g.rotate(P,E),_.rotate(P,E),w.rotate(P,E)}var L=new M(m,w,_,g,f,a,0,256,t,T,c.B1,0);if(e.shapes.push(L),(!n.allowOverlap||!n.ignorePlacement)&&I.Bf){var Z=n.size,B=n.padding,D={xTile:t.x,yTile:t.y,dxPixels:u*Z-B,dyPixels:h*Z-B,hard:!n.optional,partIndex:0,width:l*Z+2*B,height:s*Z+2*B,angle:a,minLod:T,maxLod:c.B1};e.iconColliders.push(D)}}},{key:"getTextPlacement",value:function(e,t,r,a){var i,l=new k.E(e.x,e.y),s=a.rotate*c.DT,o=a.rotationAlignment===b.aF.MAP,u=a.keepUpright,h=a.padding,f=T,y=o?e.angle:0,d=e.segment>=0&&o,v=a.allowOverlap&&a.ignorePlacement?null:[],p=[],x=!d,m=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,w=m,L=I,Z=(d||o)&&u,B=a.size/g,D=!1,A=(0,n.Z)(t);try{for(A.s();!(i=A.n()).done;){if(i.value.vertical){D=!0;break}}}catch(Ve){A.e(Ve)}finally{A.f()}var R,V=0,O=0;if(!d&&D){var C=_.getTextBox(t,a.lineHeight*g);switch(a.anchor){case b.nR.LEFT:V=C.height/2,O=-C.width/2;break;case b.nR.RIGHT:V=-C.height/2,O=C.width/2;break;case b.nR.TOP:V=C.height/2,O=C.width/2;break;case b.nR.BOTTOM:V=-C.height/2,O=-C.width/2;break;case b.nR.TOP_LEFT:V=C.height;break;case b.nR.BOTTOM_LEFT:O=-C.width;break;case b.nR.TOP_RIGHT:O=C.width;break;case b.nR.BOTTOM_RIGHT:V=-C.height}}V+=a.offset[0]*g,O+=a.offset[1]*g;var S,N=(0,n.Z)(t);try{for(N.s();!(S=N.n()).done;){var F=S.value,U=F.glyphMosaicItem;if(U&&!U.rect.isEmpty){var z=U.rect,G=U.metrics,H=U.page;if(v&&x){if(void 0!==R&&R!==F.y){var K=void 0,W=void 0,j=void 0,q=void 0;D?(K=-L+V,W=m+O,j=L-w,q=I-m):(K=m+V,W=w+O,j=I-m,q=L-w);var Y={xTile:e.x,yTile:e.y,dxPixels:K*B-h,dyPixels:W*B-h,hard:!a.optional,partIndex:1,width:j*B+2*h,height:q*B+2*h,angle:s,minLod:T,maxLod:c.B1};v.push(Y),m=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,w=m,L=I}R=F.y}var J=[];if(d){var X=.5*U.metrics.width,Q=(F.x+G.left-4+X)*B*8;if(f=this._placeGlyph(e,f,Q,r,e.segment,1,F.vertical,H,J),u&&(f=this._placeGlyph(e,f,Q,r,e.segment,-1,F.vertical,H,J)),f>=2)break}else J.push(new P(l,y,y,H,!1)),o&&u&&J.push(new P(l,y+c.JJ,y+c.JJ,H,!1));var $=F.x+G.left,ee=F.y-17-G.top,te=$+G.width,re=ee+G.height,ne=void 0,ae=void 0,ie=void 0,le=void 0,se=void 0,oe=void 0,ue=void 0,he=void 0;if(!d&&D)if(F.vertical){var fe=($+te)/2-G.height/2,ce=(ee+re)/2+G.width/2;ne=new k.E(-ce-4+V,fe-4+O),ae=new k.E(ne.x+z.width,ne.y+z.height),ie=new k.E(ne.x,ae.y),le=new k.E(ae.x,ne.y)}else ne=new k.E(4-ee+V,$-4+O),ae=new k.E(ne.x-z.height,ne.y+z.width),ie=new k.E(ae.x,ne.y),le=new k.E(ne.x,ae.y);else ne=new k.E($-4+V,ee-4+O),ae=new k.E(ne.x+z.width,ne.y+z.height),ie=new k.E(ne.x,ae.y),le=new k.E(ae.x,ne.y);for(var ye=0,de=J;ye<de.length;ye++){var ve=de[ye],pe=void 0,xe=void 0,me=void 0,ge=void 0;if(ve.alternateVerticalGlyph){if(!se){var _e=(ee+re)/2+O;se=new k.E(($+te)/2+V-G.height/2-4,_e+G.width/2+4),oe=new k.E(se.x+z.height,se.y-z.width),ue=new k.E(oe.x,se.y),he=new k.E(se.x,oe.y)}pe=se,xe=ue,me=he,ge=oe}else pe=ne,xe=ie,me=le,ge=ae;var Ie=ee,be=re,ke=ve.glyphAngle+s;if(0!==ke){var Te=Math.cos(ke),we=Math.sin(ke);pe=pe.clone(),xe=xe.clone(),me=me.clone(),ge=ge.clone(),pe.rotate(Te,we),ge.rotate(Te,we),xe.rotate(Te,we),me.rotate(Te,we)}var Pe=0,Me=256;if(d&&D?F.vertical?ve.alternateVerticalGlyph?(Pe=32,Me=96):(Pe=224,Me=32):(Pe=224,Me=96):(Pe=192,Me=64),p.push(new M(pe,me,xe,ge,z,ve.labelAngle,Pe,Me,ve.anchor,ve.minzoom,ve.maxzoom,ve.page)),v&&(!Z||this._legible(ve.labelAngle)))if(x)$<m&&(m=$),Ie<w&&(w=Ie),te>I&&(I=te),be>L&&(L=be);else if(ve.minzoom<2){var Ee={xTile:e.x,yTile:e.y,dxPixels:($+V)*B-h,dyPixels:(Ie+V)*B-h,hard:!a.optional,partIndex:1,width:(te-$)*B+2*h,height:(be-Ie)*B+2*h,angle:ke,minLod:ve.minzoom,maxLod:ve.maxzoom};v.push(Ee)}}}}}catch(Ve){N.e(Ve)}finally{N.f()}if(f>=2)return null;if(v&&x){var Le,Ze,Be,De;D?(Le=-L+V,Ze=m+O,Be=L-w,De=I-m):(Le=m+V,Ze=w+O,Be=I-m,De=L-w);var Ae={xTile:e.x,yTile:e.y,dxPixels:Le*B-h,dyPixels:Ze*B-h,hard:!a.optional,partIndex:1,width:Be*B+2*h,height:De*B+2*h,angle:s,minLod:T,maxLod:c.B1};v.push(Ae)}var Re=new E(p);return v&&v.length>0&&(Re.textColliders=v),Re}},{key:"_legible",value:function(e){var t=(0,c.Or)(e);return t<65||t>=193}},{key:"_placeGlyph",value:function(e,t,r,n,a,i,l,s,o){var u=i,h=u<0?(0,c.DQ)(e.angle+c.JJ,c._U):e.angle,f=0;r<0&&(u*=-1,r*=-1,f=c.JJ),u>0&&++a;var y=new k.E(e.x,e.y),d=n[a],v=c.B1;if(n.length<=a)return v;for(;;){var p=d.x-y.x,x=d.y-y.y,m=Math.sqrt(p*p+x*x),g=Math.max(r/m,t),_=p/m,I=x/m,b=(0,c.DQ)(Math.atan2(I,_)+f,c._U);if(o.push(new P(y,h,b,s,!1,g,v)),l&&o.push(new P(y,h,b,s,!0,g,v)),g<=t)return g;y=d.clone();do{if(a+=u,n.length<=a||a<0)return g;d=n[a]}while(y.isEqual(d));var T=d.x-y.x,w=d.y-y.y,M=Math.sqrt(T*T+w*w);T*=m/M,w*=m/M,y.x-=T,y.y-=w,v=g}}}]),e}(),Z=r(29439),B=r(78084),D=r(48035);!function(e){e[e.moveTo=1]="moveTo",e[e.lineTo=2]="lineTo",e[e.close=7]="close"}(x||(x={}));var A=function(){function e(t,r){(0,l.Z)(this,e),this.values={};for(var n=r.keys,a=r.values;t.next();)switch(t.tag()){case 1:this.id=t.getUInt64();break;case 2:for(var i=t.getMessage(),s=this.values;!i.empty();){var o=i.getUInt32(),u=i.getUInt32();s[n[o]]=a[u]}i.release();break;case 3:this.type=t.getUInt32();break;case 4:this._pbfGeometry=t.getMessage();break;default:t.skip()}}return(0,s.Z)(e,[{key:"getGeometry",value:function(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var t,r,n=this._pbfGeometry;this._pbfGeometry=null,e?e.reset(this.type):t=[];for(var a,i=x.moveTo,l=0,s=0,o=0;!n.empty();){if(0===l){var u=n.getUInt32();i=7&u,l=u>>3}switch(l--,i){case x.moveTo:s+=n.getSInt32(),o+=n.getSInt32(),e?e.moveTo(s,o):(r&&t.push(r),(r=[]).push(new k.E(s,o)));break;case x.lineTo:s+=n.getSInt32(),o+=n.getSInt32(),e?e.lineTo(s,o):r.push(new k.E(s,o));break;case x.close:e?e.close():r&&!r[0].equals(s,o)&&r.push(r[0].clone());break;default:throw n.release(),new Error("Invalid path operation")}}return e?a=e.result():(r&&t.push(r),a=t),n.release(),this._geometry=a,a}}]),e}(),R=r(60136),V=r(29388),O=r(3283),C=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(){return(0,l.Z)(this,r),t.call(this,12)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r){var n=this.array;n.push(e),n.push(t),n.push(r)}}]),r}(O.Z),S=(O.Z,function(){function e(t){for((0,l.Z)(this,e),this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=t.clone();t.next();)switch(t.tag()){case 1:this.name=t.getString();break;case 3:this.keys.push(t.getString());break;case 4:this.values.push(t.processMessage(e._parseValue));break;case 5:this.extent=t.getUInt32();break;default:t.skip()}}return(0,s.Z)(e,[{key:"getData",value:function(){return this._pbfLayer}}],[{key:"_parseValue",value:function(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}]),e}()),N=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r,n,a,i,l,s,o,u,f,c){var y=this.array,d=O.Z.i1616to32(e,t);y.push(d);var v=31;d=O.Z.i8888to32(Math.round(v*r),Math.round(v*n),Math.round(v*a),Math.round(v*i)),y.push(d),d=O.Z.i8888to32(Math.round(v*l),Math.round(v*s),Math.round(v*o),Math.round(v*u)),y.push(d),d=O.Z.i1616to32(f,0),y.push(d),c&&y.push.apply(y,(0,h.Z)(c))}}]),r}(O.Z),F=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r){var n=this.array;n.push(O.Z.i1616to32(e,t)),r&&n.push.apply(n,(0,h.Z)(r))}}]),r}(O.Z),U=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r,n,a,i,l){var s=this.array,o=this.index,u=O.Z.i1616to32(e,t);s.push(u);return u=O.Z.i8888to32(Math.round(15*r),Math.round(15*n),a,i),s.push(u),l&&s.push.apply(s,(0,h.Z)(l)),o}}]),r}(O.Z),z=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r,n,a,i,l,s,o,u,f,y){var d=this.array,v=O.Z.i1616to32(e,t);d.push(v),v=O.Z.i1616to32(Math.round(8*r),Math.round(8*n)),d.push(v),v=O.Z.i8888to32(a/4,i/4,s,o),d.push(v),v=O.Z.i8888to32(0,(0,c.Or)(l),10*u,Math.min(10*f,255)),d.push(v),y&&d.push.apply(d,(0,h.Z)(y))}}]),r}(O.Z),G=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,s.Z)(r,[{key:"add",value:function(e,t,r,n,a){var i=this.array,l=O.Z.i1616to32(2*e+r,2*t+n);i.push(l),a&&i.push.apply(i,(0,h.Z)(a))}}]),r}(O.Z),H=function(){function e(t,r,n){(0,l.Z)(this,e),this.layerExtent=4096,this._features=[],this.layer=t,this.zoom=r,this._spriteInfo=n,this._filter=t.getFeatureFilter()}return(0,s.Z)(e,[{key:"pushFeature",value:function(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}},{key:"hasFeatures",value:function(){return this._features.length>0}},{key:"getResources",value:function(e,t,r){}}]),e}(),K=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e,n,a,i,s){var o;return(0,l.Z)(this,r),(o=t.call(this,e,n,a)).type=u.al.CIRCLE,o._circleVertexBuffer=i,o._circleIndexBuffer=s,o}return(0,s.Z)(r,[{key:"circleIndexStart",get:function(){return this._circleIndexStart}},{key:"circleIndexCount",get:function(){return this._circleIndexCount}},{key:"processFeatures",value:function(e){var t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;var a=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);var l,s=(0,n.Z)(this._features);try{for(s.s();!(l=s.n()).done;){var o=l.value,u=o.getGeometry(e);if(u){var h,f=a.circleMaterial.encodeAttributes(o,i,a),c=(0,n.Z)(u);try{for(c.s();!(h=c.n()).done;){var y=h.value;if(y){var d,v=(0,n.Z)(y);try{for(v.s();!(d=v.n()).done;){var p=d.value,x=t.index;t.add(p.x,p.y,0,0,f),t.add(p.x,p.y,0,1,f),t.add(p.x,p.y,1,0,f),t.add(p.x,p.y,1,1,f),r.add(x+0,x+1,x+2),r.add(x+1,x+2,x+3),this._circleIndexCount+=6}}catch(m){v.e(m)}finally{v.f()}}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){s.e(m)}finally{s.f()}}},{key:"serialize",value:function(){var e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;var t=new Uint32Array(e),r=new Int32Array(t.buffer),n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(var a=0;a<this.layerUIDs.length;a++)t[n++]=this.layerUIDs[a];t[n++]=this._circleIndexStart,t[n++]=this._circleIndexCount,t[n++]=this._circleVertexBuffer.array.length;for(var i=0;i<this._circleVertexBuffer.array.length;i++)r[n++]=this._circleVertexBuffer.array[i];t[n++]=this._circleIndexBuffer.array.length;for(var l=0;l<this._circleIndexBuffer.array.length;l++)t[n++]=this._circleIndexBuffer.array[l];return t.buffer}}]),r}(H),W=r(22213),j=r(79347),q=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e,n,a,i,s,o,h){var f;return(0,l.Z)(this,r),(f=t.call(this,e,n,a)).type=u.al.FILL,f._patternMap=new Map,f._fillVertexBuffer=i,f._fillIndexBuffer=s,f._outlineVertexBuffer=o,f._outlineIndexBuffer=h,f}return(0,s.Z)(r,[{key:"fillIndexStart",get:function(){return this._fillIndexStart}},{key:"fillIndexCount",get:function(){return this._fillIndexCount}},{key:"outlineIndexStart",get:function(){return this._outlineIndexStart}},{key:"outlineIndexCount",get:function(){return this._outlineIndexCount}},{key:"getResources",value:function(e,t,r){var a=this.layer,i=this.zoom,l=a.getPaintProperty("fill-pattern");if(l)if(l.isDataDriven){var s,o=(0,n.Z)(this._features);try{for(o.s();!(s=o.n()).done;){var u=s.value;t(l.getValue(i,u),!0)}}catch(h){o.e(h)}finally{o.f()}}else t(l.getValue(i),!0)}},{key:"processFeatures",value:function(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;var t=this.layer,r=this.zoom,a=t.fillMaterial,i=t.outlineMaterial,l=t.hasDataDrivenFill,s=t.hasDataDrivenOutline;e&&e.setExtent(this.layerExtent);var o=t.getPaintProperty("fill-pattern"),u=null===o||void 0===o?void 0:o.isDataDriven,h=!o&&t.getPaintValue("fill-antialias",r);if(t.outlineUsesFillColor){if(h&&!t.hasDataDrivenOpacity){var f=t.getPaintValue("fill-opacity",r),c=t.getPaintValue("fill-opacity",r+1);f<1&&c<1&&(h=!1)}if(h&&!t.hasDataDrivenColor){var y=t.getPaintValue("fill-color",r),d=t.getPaintValue("fill-color",r+1);y[3]<1&&d[3]<1&&(h=!1)}}var v=this._features,p=null===e||void 0===e?void 0:e.validateTessellation;if(u){var x,m=[],g=(0,n.Z)(v);try{for(g.s();!(x=g.n()).done;){var _=x.value,I=o.getValue(r,_),b=this._spriteInfo[I];if(b&&b.rect){var k=a.encodeAttributes(_,r,t,b),T=h&&s?i.encodeAttributes(_,r,t):[],w=_.getGeometry(e);m.push({ddFillAttributes:k,ddOutlineAttributes:T,page:b.page,geometry:w}),m.sort((function(e,t){return e.page-t.page}));var P,M=(0,n.Z)(m);try{for(M.s();!(P=M.n()).done;){var E=P.value,L=E.ddFillAttributes,Z=E.ddOutlineAttributes,B=E.page,D=E.geometry;this._processFeature(D,h,t.outlineUsesFillColor,L,Z,p,B)}}catch(N){M.e(N)}finally{M.f()}}}}catch(N){g.e(N)}finally{g.f()}}else{var A,R=(0,n.Z)(v);try{for(R.s();!(A=R.n()).done;){var V=A.value,O=l?a.encodeAttributes(V,r,t):null,C=h&&s?i.encodeAttributes(V,r,t):null,S=V.getGeometry(e);this._processFeature(S,h,t.outlineUsesFillColor,O,C,p)}}catch(N){R.e(N)}finally{R.f()}}}},{key:"serialize",value:function(){var e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;var t=new Uint32Array(e),r=new Int32Array(t.buffer),a=0;t[a++]=this.type,t[a++]=this.layerUIDs.length;for(var i=0;i<this.layerUIDs.length;i++)t[a++]=this.layerUIDs[i];t[a++]=this._fillIndexStart,t[a++]=this._fillIndexCount,t[a++]=this._outlineIndexStart,t[a++]=this._outlineIndexCount;var l=this._patternMap,s=l.size;if(t[a++]=s,s>0){var o,u=(0,n.Z)(l);try{for(u.s();!(o=u.n()).done;){var h=(0,Z.Z)(o.value,2),f=h[0],c=(0,Z.Z)(h[1],2),y=c[0],d=c[1];t[a++]=f,t[a++]=y,t[a++]=d}}catch(g){u.e(g)}finally{u.f()}}t[a++]=this._fillVertexBuffer.array.length;for(var v=0;v<this._fillVertexBuffer.array.length;v++)r[a++]=this._fillVertexBuffer.array[v];t[a++]=this._fillIndexBuffer.array.length;for(var p=0;p<this._fillIndexBuffer.array.length;p++)t[a++]=this._fillIndexBuffer.array[p];t[a++]=this._outlineVertexBuffer.array.length;for(var x=0;x<this._outlineVertexBuffer.array.length;x++)r[a++]=this._outlineVertexBuffer.array[x];t[a++]=this._outlineIndexBuffer.array.length;for(var m=0;m<this._outlineIndexBuffer.array.length;m++)t[a++]=this._outlineIndexBuffer.array[m];return t.buffer}},{key:"_processFeature",value:function(e,t,n,a,i,l,s){if(e){var o=e.length,u=!i||0===i.length;if(t&&(!n||u))for(var h=0;h<o;h++)this._processOutline(e[h],i);for(var f,c=0;c<o;c++){var y=r._area(e[c]);y>32?(void 0!==f&&this._processFill(e,f,a,l,s),f=[c]):y<-32&&void 0!==f&&f.push(c)}void 0!==f&&this._processFill(e,f,a,l,s)}}},{key:"_processOutline",value:function(e,t){var r,n,a,i=this._outlineVertexBuffer,l=this._outlineIndexBuffer,s=l.index,o=new k.E(0,0),u=new k.E(0,0),h=new k.E(0,0),f=-1,c=-1,y=-1,d=-1,v=-1,p=!1,x=e.length;if(!(x<2)){for(var m=e[0],g=e[x-1];x&&g.isEqual(m);)g=e[--x-1];if(!(x-0<2)){for(var _=0;_<x;++_){0===_?(r=e[x-1],n=e[0],a=e[1],o.assignSub(n,r),o.normalize(),o.rightPerpendicular()):(r=n,n=a,a=_!==x-1?e[_+1]:e[0],o.assign(u));var I=this._isClipEdge(r,n);-1===d&&(p=I),u.assignSub(a,n),u.normalize(),u.rightPerpendicular();var b=o.x*u.y-o.y*u.x;h.assignAdd(o,u),h.normalize();var T=-h.x*-o.x+-h.y*-o.y,w=Math.abs(0!==T?1/T:1);w>8&&(w=8),b>=0?(y=i.add(n.x,n.y,o.x,o.y,0,1,t),-1===d&&(d=y),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),c=i.add(n.x,n.y,w*-h.x,w*-h.y,0,-1,t),-1===v&&(v=c),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),f=c,c=y,y=i.add(n.x,n.y,h.x,h.y,0,1,t),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),c=i.add(n.x,n.y,u.x,u.y,0,1,t),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y)):(y=i.add(n.x,n.y,w*h.x,w*h.y,0,1,t),-1===d&&(d=y),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),c=i.add(n.x,n.y,-o.x,-o.y,0,-1,t),-1===v&&(v=c),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),f=c,c=y,y=i.add(n.x,n.y,-h.x,-h.y,0,-1,t),f>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y),(f=i.add(n.x,n.y,-u.x,-u.y,0,-1,t))>=0&&c>=0&&y>=0&&!I&&l.add(f,c,y))}f>=0&&c>=0&&d>=0&&!p&&l.add(f,c,d),f>=0&&d>=0&&v>=0&&!p&&l.add(f,v,d),this._outlineIndexCount+=3*(l.index-s)}}}},{key:"_processFill",value:function(e,t,r,a,i){var l;t.length>1&&(l=[]);var s,o=0,u=(0,n.Z)(t);try{for(u.s();!(s=u.n()).done;){var h=s.value;0!==o&&l.push(o),o+=e[h].length}}catch(C){u.e(C)}finally{u.f()}var f,c=2*o,y=W.Z.acquire(),d=(0,n.Z)(t);try{for(d.s();!(f=d.n()).done;)for(var v=f.value,p=e[v],x=p.length,m=0;m<x;++m)y.push(p[m].x,p[m].y)}catch(C){d.e(C)}finally{d.f()}var g=(0,j.e)(y,l,2);if(j.e.deviation(y,l,2,g)>0){var _=t.map((function(t){return e[t].length})),I=(0,D.b)(y,_),b=I.buffer,k=I.vertexCount;if(k>0){for(var T=this._fillVertexBuffer.index,w=0;w<k;w++)this._fillVertexBuffer.add(b[2*w],b[2*w+1],r);for(var P=0;P<k;P+=3){var M=T+P;this._fillIndexBuffer.add(M,M+1,M+2)}if(void 0!==i){var E=this._patternMap,L=E.get(i);L?L[1]+=k:E.set(i,[this._fillIndexStart+this._fillIndexCount,k])}this._fillIndexCount+=k}}else{var Z=g.length;if(Z>0){for(var B=this._fillVertexBuffer.index,A=0;A<c;)this._fillVertexBuffer.add(y[A++],y[A++],r);for(var R=0;R<Z;)this._fillIndexBuffer.add(B+g[R++],B+g[R++],B+g[R++]);if(void 0!==i){var V=this._patternMap,O=V.get(i);O?O[1]+=Z:V.set(i,[this._fillIndexStart+this._fillIndexCount,Z])}this._fillIndexCount+=Z}}W.Z.release(y)}},{key:"_isClipEdge",value:function(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)}}],[{key:"_area",value:function(e){for(var t=0,r=e.length-1,n=0;n<r;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return.5*(t+=(e[r].x-e[0].x)*(e[r].y+e[0].y))}}]),r}(H),Y=r(82010),J=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e,n,a,i,s){var o;return(0,l.Z)(this,r),(o=t.call(this,e,n,a)).type=u.al.LINE,o._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},o._patternMap=new Map,o.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},o.tessellationProperties._lineVertexBuffer=i,o.tessellationProperties._lineIndexBuffer=s,o._lineTessellator=new Y.z(X(o.tessellationProperties),Q(o.tessellationProperties),e.canUseThinTessellation),o}return(0,s.Z)(r,[{key:"lineIndexStart",get:function(){return this._lineIndexStart}},{key:"lineIndexCount",get:function(){return this._lineIndexCount}},{key:"getResources",value:function(e,t,r){var a=this.layer,i=this.zoom,l=a.hasDataDrivenLine,s=a.getPaintProperty("line-pattern"),o=a.getPaintProperty("line-dasharray"),u=a.getLayoutProperty("line-cap");if(s||o){var h=(null===u||void 0===u?void 0:u.getValue(i))||0,f=null===u||void 0===u?void 0:u.isDataDriven;if(l){var c=null===s||void 0===s?void 0:s.isDataDriven,y=null===o||void 0===o?void 0:o.isDataDriven;if(!c&&!y)return;var d,v=(0,n.Z)(this._features);try{for(v.s();!(d=v.n()).done;){var p=d.value;t(c?s.getValue(i,p):this._getDashArrayKey(p,i,a,o,f,u,h))}}catch(m){v.e(m)}finally{v.f()}}else if(s)t(s.getValue(i));else if(o){var x=o.getValue(i);t(a.getDashKey(x,h))}}}},{key:"processFeatures",value:function(e){var t,r,a,i,l,s;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;var o=this.layer,u=this.zoom,h=this._features,f=this._tessellationOptions,c=o.hasDataDrivenLine,y=o.lineMaterial;e&&e.setExtent(this.layerExtent);var d,v=o.getPaintProperty("line-pattern"),p=o.getPaintProperty("line-dasharray"),x=null===v||void 0===v?void 0:v.isDataDriven,m=null===p||void 0===p?void 0:p.isDataDriven,g=null!==(t=d=o.getLayoutProperty("line-cap"))&&void 0!==t&&t.isDataDriven?d:null,_=g?null:o.getLayoutValue("line-cap",u),I=_||0,b=!!g,k=null!==(r=d=o.getLayoutProperty("line-join"))&&void 0!==r&&r.isDataDriven?d:null,T=k?null:o.getLayoutValue("line-join",u),w=null!==(a=d=o.getLayoutProperty("line-miter-limit"))&&void 0!==a&&a.isDataDriven?d:null,P=w?null:o.getLayoutValue("line-miter-limit",u),M=null!==(i=d=o.getLayoutProperty("line-round-limit"))&&void 0!==i&&i.isDataDriven?d:null,E=M?null:o.getLayoutValue("line-round-limit",u),L=null!==(l=d=o.getPaintProperty("line-width"))&&void 0!==l&&l.isDataDriven?d:null,Z=L?null:o.getPaintValue("line-width",u),B=null!==(s=d=o.getPaintProperty("line-offset"))&&void 0!==s&&s.isDataDriven?d:null,D=B?null:o.getPaintValue("line-offset",u);if(x||m){var A,R=[],V=(0,n.Z)(h);try{for(V.s();!(A=V.n()).done;){var O=A.value,C=x?v.getValue(u,O):this._getDashArrayKey(O,u,o,p,b,g,I),S=this._spriteInfo[C];if(S&&S.rect){var N=y.encodeAttributes(O,u,o,S),F=O.getGeometry(e);R.push({ddAttributes:N,page:S.page,cap:g?g.getValue(u,O):_,join:k?k.getValue(u,O):T,miterLimit:w?w.getValue(u,O):P,roundLimit:M?M.getValue(u,O):E,halfWidth:.5*(L?L.getValue(u,O):Z),offset:B?B.getValue(u,O):D,geometry:F})}}}catch(ae){V.e(ae)}finally{V.f()}R.sort((function(e,t){return e.page-t.page})),f.textured=!0;for(var U=0,z=R;U<z.length;U++){var G=z[U],H=G.ddAttributes,K=G.page,W=G.cap,j=G.join,q=G.miterLimit,Y=G.roundLimit,J=G.halfWidth,X=G.offset,Q=G.geometry;f.capType=W,f.joinType=j,f.miterLimit=q,f.roundLimit=Y,f.halfWidth=J,f.offset=X,this._processFeature(Q,H,K)}}else{f.textured=!(!v&&!p),f.capType=_,f.joinType=T,f.miterLimit=P,f.roundLimit=E,f.halfWidth=.5*Z,f.offset=D;var $,ee=(0,n.Z)(h);try{for(ee.s();!($=ee.n()).done;){var te=$.value,re=c?y.encodeAttributes(te,u,o):null;g&&(f.capType=g.getValue(u,te)),k&&(f.joinType=k.getValue(u,te)),w&&(f.miterLimit=w.getValue(u,te)),M&&(f.roundLimit=M.getValue(u,te)),L&&(f.halfWidth=.5*L.getValue(u,te)),B&&(f.offset=B.getValue(u,te));var ne=te.getGeometry(e);this._processFeature(ne,re)}}catch(ae){ee.e(ae)}finally{ee.f()}}}},{key:"serialize",value:function(){var e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;var t=new Uint32Array(e),r=new Int32Array(t.buffer),a=0;t[a++]=this.type,t[a++]=this.layerUIDs.length;for(var i=0;i<this.layerUIDs.length;i++)t[a++]=this.layerUIDs[i];t[a++]=this._lineIndexStart,t[a++]=this._lineIndexCount;var l=this._patternMap,s=l.size;if(t[a++]=s,s>0){var o,u=(0,n.Z)(l);try{for(u.s();!(o=u.n()).done;){var h=(0,Z.Z)(o.value,2),f=h[0],c=(0,Z.Z)(h[1],2),y=c[0],d=c[1];t[a++]=f,t[a++]=y,t[a++]=d}}catch(x){u.e(x)}finally{u.f()}}t[a++]=this.tessellationProperties._lineVertexBuffer.array.length;for(var v=0;v<this.tessellationProperties._lineVertexBuffer.array.length;v++)r[a++]=this.tessellationProperties._lineVertexBuffer.array[v];t[a++]=this.tessellationProperties._lineIndexBuffer.array.length;for(var p=0;p<this.tessellationProperties._lineIndexBuffer.array.length;p++)t[a++]=this.tessellationProperties._lineIndexBuffer.array[p];return t.buffer}},{key:"_processFeature",value:function(e,t,r){if(e)for(var n=e.length,a=0;a<n;a++)this._processGeometry(e[a],t,r)}},{key:"_processGeometry",value:function(e,t,r){if(!(e.length<2)){for(var n,a,i=e[0],l=1;l<e.length;)(n=e[l].x-i.x)*n+(a=e[l].y-i.y)*a<1e-6?e.splice(l,1):(i=e[l],++l);if(!(e.length<2)){var s=this.tessellationProperties._lineIndexBuffer,o=3*s.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=t,this._lineTessellator.tessellate(e,this._tessellationOptions);var u=3*s.index-o;if(void 0!==r){var h=this._patternMap,f=h.get(r);f?f[1]+=u:h.set(r,[o+this._lineIndexCount,u])}this._lineIndexCount+=u}}}},{key:"_getDashArrayKey",value:function(e,t,r,n,a,i,l){var s=a?i.getValue(t,e):l,o=n.getValue(t,e);return r.getDashKey(o,s)}}]),r}(H),X=function(e){return function(t,r,n,a,i,l,s,o,u,h,f){return e._lineVertexBuffer.add(t,r,s,o,n,a,i,l,u,h,f,e._ddValues),e._lineVertexBuffer.index-1}},Q=function(e){return function(t,r,n){e._lineIndexBuffer.add(t,r,n)}},$=r(8961),ee=r(643),te=r(44305);function re(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page-t.iconMosaicItem.page:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}var ne=function(e){(0,R.Z)(r,e);var t=(0,V.Z)(r);function r(e,n,a,i,s,o,h,f){var c;return(0,l.Z)(this,r),(c=t.call(this,e,n,f.getSpriteItems())).type=u.al.SYMBOL,c._markerMap=new Map,c._glyphMap=new Map,c._glyphBufferDataStorage=new Map,c._isIconSDF=!1,c._iconVertexBuffer=a,c._iconIndexBuffer=i,c._textVertexBuffer=s,c._textIndexBuffer=o,c._placementEngine=h,c._workerTileHandler=f,c}return(0,s.Z)(r,[{key:"markerPageMap",get:function(){return this._markerMap}},{key:"glyphsPageMap",get:function(){return this._glyphMap}},{key:"symbolInstances",get:function(){return this._symbolInstances}},{key:"getResources",value:function(e,t,a){var i=this.layer,l=this.zoom;e&&e.setExtent(this.layerExtent);var s,o,u,h,f=i.getLayoutProperty("icon-image"),c=i.getLayoutProperty("text-field"),y=i.getLayoutProperty("text-transform"),d=i.getLayoutProperty("text-font"),v=[];f&&!f.isDataDriven&&(s=f.getValue(l)),c&&!c.isDataDriven&&(o=c.getValue(l)),y&&y.isDataDriven||(u=i.getLayoutValue("text-transform",l),y=null),d&&d.isDataDriven||(h=i.getLayoutValue("text-font",l),d=null);var p,x=(0,n.Z)(this._features);try{for(x.s();!(p=x.n()).done;){var m=p.value,g=m.getGeometry(e);if(g&&0!==g.length){var _=void 0,I=void 0;f&&((_=f.isDataDriven?f.getValue(l,m):this._replaceKeys(s,m.values))&&t(_));var k=!1;if(c&&(I=c.isDataDriven?c.getValue(l,m):this._replaceKeys(o,m.values))){switch(I=I.replace(/\\n/g,"\n"),y&&(u=y.getValue(l,m)),u){case b._5.LOWERCASE:I=I.toLowerCase();break;case b._5.UPPERCASE:I=I.toUpperCase()}if(r._bidiEngine.hasBidiChar(I)){var T;T="rtl"===r._bidiEngine.checkContextual(I)?"IDNNN":"ICNNN",I=r._bidiEngine.bidiTransform(I,T,"VLYSN"),k=!0}var w=I.length;if(w>0){d&&(h=d.getValue(l,m));var P,M=(0,n.Z)(h);try{for(M.s();!(P=M.n()).done;){var E=P.value,L=a[E];L||(L=a[E]=new Set);for(var Z=0;Z<w;Z++){var B=I.charCodeAt(Z);L.add(B)}}}catch(R){M.e(R)}finally{M.f()}}}if(_||I){var D=i.getLayoutValue("symbol-sort-key",l,m),A={feature:m,sprite:_,label:I,rtl:k,geometry:g,hash:(I?(0,ee.hP)(I):0)^(_?(0,ee.hP)(_):0),priority:D,textFont:h};v.push(A)}}}}catch(R){x.e(R)}finally{x.f()}this._symbolFeatures=v}},{key:"processFeatures",value:function(e){e&&e.setExtent(this.layerExtent);var t,a=this.layer,i=this.zoom,l=a.getLayoutValue("symbol-placement",i),s=l!==b.R.POINT,o=8*a.getLayoutValue("symbol-spacing",i),u=a.getLayoutProperty("icon-image"),h=a.getLayoutProperty("text-field"),f=u?new te._L(a,i,s):null,y=h?new te.nj(a,i,s):null,d=this._workerTileHandler;u&&(t=d.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();var v=[],p=1;y&&y.size&&(p=y.size/g);var x,m=y?y.maxAngle*c.DT:0,I=y?8*y.size:0,T=(0,n.Z)(this._symbolFeatures);try{for(T.s();!(x=T.n()).done;){var P=x.value,M=void 0;f&&t&&P.sprite&&((M=t[P.sprite])&&M.sdf&&(this._isIconSDF=!0));var E=void 0;M&&f.update(i,P.feature);var L=0,Z=P.label;if(Z){y.update(i,P.feature);var B=s?y.keepUpright:y.writingMode&&y.writingMode.includes(b.r1.VERTICAL),D=.5;switch(y.anchor){case b.nR.TOP_LEFT:case b.nR.LEFT:case b.nR.BOTTOM_LEFT:D=0;break;case b.nR.TOP_RIGHT:case b.nR.RIGHT:case b.nR.BOTTOM_RIGHT:D=1}var A=.5;switch(y.anchor){case b.nR.TOP_LEFT:case b.nR.TOP:case b.nR.TOP_RIGHT:A=0;break;case b.nR.BOTTOM_LEFT:case b.nR.BOTTOM:case b.nR.BOTTOM_RIGHT:A=1}var R=.5;switch(y.justify){case b.vL.AUTO:R=D;break;case b.vL.LEFT:R=0;break;case b.vL.RIGHT:R=1}var V=y.letterSpacing*g,O=s?0:y.maxWidth*g,C=y.lineHeight*g,S=P.textFont.map((function(e){return d.getGlyphItems(e)}));if((E=new _(S,O,C,V,D,A,R).getShaping(Z,P.rtl,B))&&E.length>0){var N,F=1e30,U=-1e30,z=(0,n.Z)(E);try{for(z.s();!(N=z.n()).done;){var G=N.value;F=Math.min(F,G.x),U=Math.max(U,G.x)}}catch($){z.e($)}finally{z.f()}L=(U-F+48)*p*8}}var H,K=(0,n.Z)(P.geometry);try{for(K.s();!(H=K.n()).done;){var W=H.value,j=[];if(l===b.R.LINE){if(E&&E.length>0&&y&&y.size){var q=8*y.size*(2+Math.min(2,4*Math.abs(y.offset[1])));W=r._smoothVertices(W,q)}r._pushAnchors(j,W,o,L)}else l===b.R.LINE_CENTER?r._pushCenterAnchor(j,W):P.feature.type===k.V.Polygon?r._pushCentroid(j,W):j.push(new w(W[0].x,W[0].y));for(var Y=0,J=j;Y<J.length;Y++){var X=J[Y];if(!(X.x<0||X.x>4096||X.y<0||X.y>4096)&&(!(s&&L>0&&y.rotationAlignment===b.aF.MAP)||r._honorsTextMaxAngle(W,X,L,m,I))){var Q={shaping:E,line:W,iconMosaicItem:M,anchor:X,symbolFeature:P,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};v.push(Q),this._processFeature(Q,f,y)}}}}catch($){K.e($)}finally{K.f()}}}catch($){T.e($)}finally{T.f()}v.sort(re),this._addPlacedGlyphs(),this._symbolInstances=v}},{key:"serialize",value:function(){var e=11;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=r._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;var t=new Uint32Array(e),a=new Int32Array(t.buffer),i=new Float32Array(t.buffer),l=0;t[l++]=this.type,t[l++]=this.layerUIDs.length;for(var s=0;s<this.layerUIDs.length;s++)t[l++]=this.layerUIDs[s];t[l++]=this._isIconSDF?1:0,t[l++]=this.markerPageMap.size;var o,u=(0,n.Z)(this.markerPageMap);try{for(u.s();!(o=u.n()).done;){var h=(0,Z.Z)(o.value,2),f=h[0],c=(0,Z.Z)(h[1],2),y=c[0],d=c[1];t[l++]=f,t[l++]=y,t[l++]=d}}catch(P){u.e(P)}finally{u.f()}t[l++]=this.glyphsPageMap.size;var v,p=(0,n.Z)(this.glyphsPageMap);try{for(p.s();!(v=p.n()).done;){var x=(0,Z.Z)(v.value,2),m=x[0],g=(0,Z.Z)(x[1],2),_=g[0],I=g[1];t[l++]=m,t[l++]=_,t[l++]=I}}catch(P){p.e(P)}finally{p.f()}t[l++]=this._iconVertexBuffer.index/4,t[l++]=this._textVertexBuffer.index/4,l=r.serializeSymbols(t,a,i,l,this._symbolInstances),t[l++]=this._iconVertexBuffer.array.length;for(var b=0;b<this._iconVertexBuffer.array.length;b++)a[l++]=this._iconVertexBuffer.array[b];t[l++]=this._iconIndexBuffer.array.length;for(var k=0;k<this._iconIndexBuffer.array.length;k++)t[l++]=this._iconIndexBuffer.array[k];t[l++]=this._textVertexBuffer.array.length;for(var T=0;T<this._textVertexBuffer.array.length;T++)a[l++]=this._textVertexBuffer.array[T];t[l++]=this._textIndexBuffer.array.length;for(var w=0;w<this._textIndexBuffer.array.length;w++)t[l++]=this._textIndexBuffer.array[w];return t.buffer}},{key:"_replaceKeys",value:function(e,t){return e.replace(/{([^{}]+)}/g,(function(e,r){return r in t?t[r]:""}))}},{key:"_processFeature",value:function(e,t,r){var a=e.line,i=e.iconMosaicItem,l=e.shaping,s=e.anchor,o=this.zoom,u=this.layer,h=!!i,f=!0;h&&(f=t.optional||!i);var y,d,v=l&&l.length>0,p=!0;if(v&&(p=r.optional),h&&(y=this._placementEngine.getIconPlacement(s,i,t)),(y||f)&&(v&&(d=this._placementEngine.getTextPlacement(s,l,a,r)),d||p)){if(y&&d||(p||f?p||d?f||y||(d=null):y=null:(y=null,d=null)),d){var x=u.hasDataDrivenText?u.textMaterial.encodeAttributes(e.symbolFeature.feature,o,u):null;if(this._storePlacedGlyphs(e,d.shapes,o,r.rotationAlignment,x),d.textColliders){e.textColliders=d.textColliders;var m,g=(0,n.Z)(d.textColliders);try{for(g.s();!(m=g.n()).done;){var _=m.value;_.minLod=Math.max(o+(0,c.k3)(_.minLod),0),_.maxLod=Math.min(o+(0,c.k3)(_.maxLod),25);var I=_.angle;if(I){var k=Math.cos(I),T=Math.sin(I),w=_.dxPixels*k-_.dyPixels*T,P=_.dxPixels*T+_.dyPixels*k,M=(_.dxPixels+_.width)*k-_.dyPixels*T,E=(_.dxPixels+_.width)*T+_.dyPixels*k,L=_.dxPixels*k-(_.dyPixels+_.height)*T,Z=_.dxPixels*T+(_.dyPixels+_.height)*k,B=(_.dxPixels+_.width)*k-(_.dyPixels+_.height)*T,D=(_.dxPixels+_.width)*T+(_.dyPixels+_.height)*k,A=Math.min(w,M,L,B),R=Math.max(w,M,L,B),V=Math.min(P,E,Z,D),O=Math.max(P,E,Z,D);_.dxPixels=A,_.dyPixels=V,_.width=R-A,_.height=O-V}}}catch(re){g.e(re)}finally{g.f()}}}if(y){var C=u.hasDataDrivenIcon?u.iconMaterial.encodeAttributes(e.symbolFeature.feature,o,u):null;if(this._addPlacedIcons(e,y.shapes,o,i.page,t.rotationAlignment===b.aF.VIEWPORT,C),y.iconColliders){e.iconColliders=y.iconColliders;var S,N=(0,n.Z)(y.iconColliders);try{for(N.s();!(S=N.n()).done;){var F=S.value;F.minLod=Math.max(o+(0,c.k3)(F.minLod),0),F.maxLod=Math.min(o+(0,c.k3)(F.maxLod),25);var U=F.angle;if(U){var z=Math.cos(U),G=Math.sin(U),H=F.dxPixels*z-F.dyPixels*G,K=F.dxPixels*G+F.dyPixels*z,W=(F.dxPixels+F.width)*z-F.dyPixels*G,j=(F.dxPixels+F.width)*G+F.dyPixels*z,q=F.dxPixels*z-(F.dyPixels+F.height)*G,Y=F.dxPixels*G+(F.dyPixels+F.height)*z,J=(F.dxPixels+F.width)*z-(F.dyPixels+F.height)*G,X=(F.dxPixels+F.width)*G+(F.dyPixels+F.height)*z,Q=Math.min(H,W,q,J),$=Math.max(H,W,q,J),ee=Math.min(K,j,Y,X),te=Math.max(K,j,Y,X);F.dxPixels=Q,F.dyPixels=ee,F.width=$-Q,F.height=te-ee}}}catch(re){N.e(re)}finally{N.f()}}}}}},{key:"_addPlacedIcons",value:function(e,t,r,a,i,l){var s,o=Math.max(r-1,0),u=this._iconVertexBuffer,h=this._iconIndexBuffer,f=this._markerMap,y=(0,n.Z)(t);try{for(y.s();!(s=y.n()).done;){var d=s.value,v=i?0:Math.max(r+(0,c.k3)(d.minzoom),o),p=i?25:Math.min(r+(0,c.k3)(d.maxzoom),25);if(!(p<=v)){var x=d.tl,m=d.tr,g=d.bl,_=d.br,I=d.mosaicRect,b=d.labelAngle,k=d.minAngle,T=d.maxAngle,w=d.anchor,P=u.index,M=I.x,E=I.y,L=M+I.width,Z=E+I.height,B=u.index;u.add(w.x,w.y,x.x,x.y,M,E,b,k,T,v,p,l),u.add(w.x,w.y,m.x,m.y,L,E,b,k,T,v,p,l),u.add(w.x,w.y,g.x,g.y,M,Z,b,k,T,v,p,l),u.add(w.x,w.y,_.x,_.y,L,Z,b,k,T,v,p,l),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===B?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([B,4]),h.add(P+0,P+1,P+2),h.add(P+1,P+2,P+3),f.has(a)?f.get(a)[1]+=6:f.set(a,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}}catch(D){y.e(D)}finally{y.f()}}},{key:"_addPlacedGlyphs",value:function(){var e,t=this._textVertexBuffer,r=this._textIndexBuffer,a=this._glyphMap,i=(0,n.Z)(this._glyphBufferDataStorage);try{for(i.s();!(e=i.n()).done;){var l,s=(0,Z.Z)(e.value,2),o=s[0],u=s[1],h=(0,n.Z)(u);try{for(h.s();!(l=h.n()).done;){var f=l.value,c=t.index,y=f.symbolInstance,d=f.ddAttributes,v=t.index;t.add(f.glyphAnchor[0],f.glyphAnchor[1],f.tl[0],f.tl[1],f.xmin,f.ymin,f.labelAngle,f.minAngle,f.maxAngle,f.minLod,f.maxLod,d),t.add(f.glyphAnchor[0],f.glyphAnchor[1],f.tr[0],f.tr[1],f.xmax,f.ymin,f.labelAngle,f.minAngle,f.maxAngle,f.minLod,f.maxLod,d),t.add(f.glyphAnchor[0],f.glyphAnchor[1],f.bl[0],f.bl[1],f.xmin,f.ymax,f.labelAngle,f.minAngle,f.maxAngle,f.minLod,f.maxLod,d),t.add(f.glyphAnchor[0],f.glyphAnchor[1],f.br[0],f.br[1],f.xmax,f.ymax,f.labelAngle,f.minAngle,f.maxAngle,f.minLod,f.maxLod,d),y.textVertexRanges.length>0&&y.textVertexRanges[0][0]+y.textVertexRanges[0][1]===v?y.textVertexRanges[0][1]+=4:y.textVertexRanges.push([v,4]),r.add(c+0,c+1,c+2),r.add(c+1,c+2,c+3),a.has(o)?a.get(o)[1]+=6:a.set(o,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}}catch(p){h.e(p)}finally{h.f()}}}catch(p){i.e(p)}finally{i.f()}this._glyphBufferDataStorage.clear()}},{key:"_storePlacedGlyphs",value:function(e,t,r,a,i){var l,s,o,u,h,f,y,d,v,p,x,m,g=Math.max(r-1,0),_=a===b.aF.VIEWPORT,I=(0,n.Z)(t);try{for(I.s();!(m=I.n()).done;){var k=m.value;(l=_?0:Math.max(r+(0,c.k3)(k.minzoom),g),(s=_?25:Math.min(r+(0,c.k3)(k.maxzoom),25))<=l)||(o=k.tl,u=k.tr,h=k.bl,f=k.br,y=k.labelAngle,d=k.minAngle,v=k.maxAngle,p=k.anchor,x=k.mosaicRect,this._glyphBufferDataStorage.has(k.page)||this._glyphBufferDataStorage.set(k.page,[]),this._glyphBufferDataStorage.get(k.page).push({glyphAnchor:[p.x,p.y],tl:[o.x,o.y],tr:[u.x,u.y],bl:[h.x,h.y],br:[f.x,f.y],xmin:x.x,ymin:x.y,xmax:x.x+x.width,ymax:x.y+x.height,labelAngle:y,minAngle:d,maxAngle:v,minLod:l,maxLod:s,placementLod:g,symbolInstance:e,ddAttributes:i}))}}catch(T){I.e(T)}finally{I.f()}}}],[{key:"_symbolsSerializationLength",value:function(e){var t=0;t+=1;var r,a=(0,n.Z)(e||[]);try{for(a.s();!(r=a.n()).done;){var i=r.value;t+=4,t+=1;var l,s=(0,n.Z)(i.textColliders);try{for(s.s();!(l=s.n()).done;){l.value;t+=10}}catch(h){s.e(h)}finally{s.f()}var o,u=(0,n.Z)(i.iconColliders);try{for(u.s();!(o=u.n()).done;){o.value;t+=10}}catch(h){u.e(h)}finally{u.f()}t+=1,t+=2*i.textVertexRanges.length,t+=1,t+=2*i.iconVertexRanges.length}}catch(h){a.e(h)}finally{a.f()}return t}},{key:"serializeSymbols",value:function(e,t,r,a,i){i=i||[],t[a++]=i.length;var l,s=(0,n.Z)(i);try{for(s.s();!(l=s.n()).done;){var o=l.value;t[a++]=o.anchor.x,t[a++]=o.anchor.y,t[a++]=o.symbolFeature.hash,t[a++]=o.symbolFeature.priority,t[a++]=o.textColliders.length+o.iconColliders.length;var u,h=(0,n.Z)(o.textColliders);try{for(h.s();!(u=h.n()).done;){var f=u.value;t[a++]=f.xTile,t[a++]=f.yTile,t[a++]=f.dxPixels,t[a++]=f.dyPixels,t[a++]=f.hard?1:0,t[a++]=f.partIndex,r[a++]=f.minLod,r[a++]=f.maxLod,t[a++]=f.width,t[a++]=f.height}}catch(w){h.e(w)}finally{h.f()}var c,y=(0,n.Z)(o.iconColliders);try{for(y.s();!(c=y.n()).done;){var d=c.value;t[a++]=d.xTile,t[a++]=d.yTile,t[a++]=d.dxPixels,t[a++]=d.dyPixels,t[a++]=d.hard?1:0,t[a++]=d.partIndex,r[a++]=d.minLod,r[a++]=d.maxLod,t[a++]=d.width,t[a++]=d.height}}catch(w){y.e(w)}finally{y.f()}t[a++]=o.textVertexRanges.length;var v,p=(0,n.Z)(o.textVertexRanges);try{for(p.s();!(v=p.n()).done;){var x=(0,Z.Z)(v.value,2),m=x[0],g=x[1];t[a++]=m,t[a++]=g}}catch(w){p.e(w)}finally{p.f()}t[a++]=o.iconVertexRanges.length;var _,I=(0,n.Z)(o.iconVertexRanges);try{for(I.s();!(_=I.n()).done;){var b=(0,Z.Z)(_.value,2),k=b[0],T=b[1];t[a++]=k,t[a++]=T}}catch(w){I.e(w)}finally{I.f()}}}catch(w){s.e(w)}finally{s.f()}return a}},{key:"_pushAnchors",value:function(e,t,r,n){r+=n;for(var a=0,i=t.length-1,l=0;l<i;l++)a+=k.E.distance(t[l],t[l+1]);var s=n||r;if(!(a<=(s*=.5)))for(var o=s/a,u=0,h=-(r=a/Math.max(Math.round(a/r),1))/2,f=t.length-1,y=0;y<f;y++){for(var d=t[y],v=t[y+1],p=v.x-d.x,x=v.y-d.y,m=Math.sqrt(p*p+x*x),g=void 0;h+r<u+m;){var _=((h+=r)-u)/m,I=(0,c.sX)(d.x,v.x,_),b=(0,c.sX)(d.y,v.y,_);void 0===g&&(g=Math.atan2(x,p)),e.push(new w(I,b,g,y,o))}u+=m}}},{key:"_pushCenterAnchor",value:function(e,t){for(var r=0,n=t.length-1,a=0;a<n;a++)r+=k.E.distance(t[a],t[a+1]);for(var i=r/2,l=0,s=t.length-1,o=0;o<s;o++){var u=t[o],h=t[o+1],f=h.x-u.x,y=h.y-u.y,d=Math.sqrt(f*f+y*y);if(i<l+d){var v=(i-l)/d,p=(0,c.sX)(u.x,h.x,v),x=(0,c.sX)(u.y,h.y,v),m=Math.atan2(y,f);return void e.push(new w(p,x,m,o,0))}l+=d}}},{key:"_deviation",value:function(e,t,r){var n=(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y),a=(t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x);return Math.atan2(a,n)}},{key:"_honorsTextMaxAngle",value:function(e,t,r,n,a){for(var i=0,l=r/2,s=new k.E(t.x,t.y),o=t.segment+1;i>-l;){if(--o<0)return!1;i-=k.E.distance(e[o],s),s=e[o]}i+=k.E.distance(e[o],e[o+1]);for(var u=[],h=0,f=e.length;i<l;){var c=e[o],y=void 0,d=o;do{if(++d===f)return!1;y=e[d]}while(y.isEqual(c));var v=void 0,p=d;do{if(++p===f)return!1;v=e[p]}while(v.isEqual(y));var x=this._deviation(c,y,v);for(u.push({deviation:x,distToAnchor:i}),h+=x;i-u[0].distToAnchor>a;)h-=u.shift().deviation;if(Math.abs(h)>n)return!1;i+=k.E.distance(y,v),o=d}return!0}},{key:"_smoothVertices",value:function(e,t){if(t<=0)return e;var r=e.length;if(r<3)return e;var n=[],a=0,i=0;n.push(0);for(var l=1;l<r;l++){var s=k.E.distance(e[l],e[l-1]);s>0&&(a+=s,n.push(a),++i!==l&&(e[i]=e[l]))}if((r=i+1)<3)return e;t=Math.min(t,.2*a);var o=e[0].x,u=e[0].y,h=e[r-1].x,f=e[r-1].y,c=k.E.sub(e[0],e[1]);c.normalize(),e[0].x+=t*c.x,e[0].y+=t*c.y,c.assignSub(e[r-1],e[r-2]),c.normalize(),e[r-1].x+=t*c.x,e[r-1].y+=t*c.y,n[0]-=t,n[r-1]+=t;var y=[];y.push(new k.E(o,u));for(var d=1e-6,v=.5*t,p=1;p<r-1;p++){for(var x=0,m=0,g=0,_=p-1;_>=0;_--){var I=v+n[_+1]-n[p];if(I<0)break;var b=n[_+1]-n[_],T=n[p]-n[_]<v?1:I/b;if(T<d)break;var w=T*T,P=T*I-.5*w*b,M=T*b/t,E=e[_+1],L=e[_].x-E.x,Z=e[_].y-E.y;x+=M/P*(E.x*T*I+.5*w*(I*L-b*E.x)-w*T*b*L/3),m+=M/P*(E.y*T*I+.5*w*(I*Z-b*E.y)-w*T*b*Z/3),g+=M}for(var B=p+1;B<r;B++){var D=v-n[B-1]+n[p];if(D<0)break;var A=n[B]-n[B-1],R=n[B]-n[p]<v?1:D/A;if(R<d)break;var V=R*R,O=R*D-.5*V*A,C=R*A/t,S=e[B-1],N=e[B].x-S.x,F=e[B].y-S.y;x+=C/O*(S.x*R*D+.5*V*(D*N-A*S.x)-V*R*A*N/3),m+=C/O*(S.y*R*D+.5*V*(D*F-A*S.y)-V*R*A*F/3),g+=C}y.push(new k.E(x/g,m/g))}return y.push(new k.E(h,f)),e[0].x=o,e[0].y=u,e[r-1].x=h,e[r-1].y=f,y}},{key:"_pushCentroid",value:function(e,t){var r=4096,n=4096,a=t.length-1,i=0,l=0,s=0,o=t[0].x,u=t[0].y;o>r&&(o=r),o<0&&(o=0),u>n&&(u=n),u<0&&(u=0);for(var h=1;h<a;h++){var f=t[h].x,c=t[h].y,y=t[h+1].x,d=t[h+1].y;f>r&&(f=r),f<0&&(f=0),c>n&&(c=n),c<0&&(c=0),y>r&&(y=r),y<0&&(y=0),d>n&&(d=n),d<0&&(d=0);var v=(f-o)*(d-u)-(y-o)*(c-u);i+=v*(o+f+y),l+=v*(u+c+d),s+=v}i/=3*s,l/=3*s,isNaN(i)||isNaN(l)||e.push(new w(i,l))}}]),r}(H);ne._bidiEngine=new $.Z;var ae,ie=r(91623);!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.NO_DATA=1]="NO_DATA",e[e.READY=2]="READY",e[e.MODIFIED=3]="MODIFIED",e[e.INVALID=4]="INVALID"}(ae||(ae={}));var le=function(){function e(t,r,a,i,s){if((0,l.Z)(this,e),this._pbfTiles={},this._tileClippers={},this._client=a,this._tile=r,s){this._styleLayerUIDs=new Set;var o,u=(0,n.Z)(s);try{for(u.s();!(o=u.n()).done;){var h=o.value;this._styleLayerUIDs.add(h)}}catch(P){u.e(P)}finally{u.f()}}this._styleRepository=i,this._layers=this._styleRepository.layers;var f=r.tileKey.split("/").map(parseFloat),c=(0,Z.Z)(f,3),y=c[0],d=c[1],v=c[2];this._level=y;for(var p=8+Math.max(5*(this._level-14),0),x=0,m=Object.keys(t);x<m.length;x++){var g=m[x],_=t[g];if(this._pbfTiles[g]=new B.Z(new Uint8Array(_.protobuff),new DataView(_.protobuff)),_.refKey){var I=_.refKey.split("/").map(parseFloat),b=y-(0,Z.Z)(I,1)[0];if(b>0){var k=(1<<b)-1,T=d&k,w=v&k;this._tileClippers[g]=new ie.b(b,T,w,8,p)}}this._tileClippers[g]||(this._tileClippers[g]=new ie.I)}}return(0,s.Z)(e,[{key:"_canParseStyleLayer",value:function(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}},{key:"parse",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i,l,s,o,u,f,c,y,d,v,p=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,D.j)(),i=this._initialize(t),l=i.returnedBuckets,this._processLayers(i),this._linkReferences(i),this._filterFeatures(i),s=[],o=new Set,u=function(e,t){o.has(e)||(s.push({name:e,repeat:t}),o.add(e))},f={},c=(0,n.Z)(l);try{for(c.s();!(y=c.n()).done;)(d=y.value).getResources(d.tileClipper,u,f)}catch(a){c.e(a)}finally{c.f()}if(this._tile.status!==ae.INVALID){e.next=7;break}return e.abrupt("return",[]);case 7:return v=this._fetchResources(s,f,t),e.abrupt("return",Promise.all([].concat((0,h.Z)(v),[r])).then((function(){return p._processFeatures(i.returnedBuckets)})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){return{signal:e&&e.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}},{key:"_processLayers",value:function(e){for(var t=e.sourceNameToTileData,r=e.layers,n=e.zoom,a=e.sourceNameToTileClipper,i=e.sourceNameToUniqueSourceLayerBuckets,l=e.sourceNameToUniqueSourceLayers,s=e.returnedBuckets,o=e.layerIdToBucket,u=e.referencerUIDToReferencedId,h=r.length-1;h>=0;h--){var f=r[h];if(!(!this._canParseStyleLayer(f.uid)||f.minzoom&&n<Math.floor(f.minzoom)||f.maxzoom&&n>=f.maxzoom||f.type===b.fR.BACKGROUND)&&(t[f.source]&&a[f.source])){var c=t[f.source],y=a[f.source],d=f.sourceLayer,v=c[d];if(v){var p=l[f.source];if(p||(p=l[f.source]=new Set),p.add(f.sourceLayer),f.refLayerId)u.set(f.uid,f.refLayerId);else{var x=this._createBucket(f);if(x){x.layerUIDs=[f.uid],x.layerExtent=v.extent,x.tileClipper=y;var m=i[f.source];m||(m=i[f.source]={});var g=m[d];g||(g=m[d]=[]),g.push(x),s.push(x),o[f.id]=x}}}}}}},{key:"_linkReferences",value:function(e){var t=e.layerIdToBucket;e.referencerUIDToReferencedId.forEach((function(e,r){t[e]&&t[e].layerUIDs.push(r)}))}},{key:"_filterFeatures",value:function(e){for(var t=e.signal,r=e.sourceNameToTileData,a=e.sourceNameToUniqueSourceLayerBuckets,i=e.sourceNameToUniqueSourceLayers,l=10*this._level,s=10*(this._level+1),u=[],h=[],f=function(){var e=y[c];i[e].forEach((function(t){u.push(t),h.push(e)}))},c=0,y=Object.keys(i);c<y.length;c++)f();for(var d=0;d<u.length;d++){var v=h[d],p=u[d];if(r[v]&&a[v]){var x=r[v][p],m=a[v][p];if(m&&0!==m.length){if((0,o.Hc)(t))return;for(var g=x.getData();g.nextTag(2);){var _=g.getMessage(),I=new A(_,x);_.release();var b=I.values;if(b){var k=b._minzoom;if(k&&k>=s)continue;var T=b._maxzoom;if(T&&T<=l)continue}var w,P=(0,n.Z)(m);try{for(P.s();!(w=P.n()).done;){w.value.pushFeature(I)}}catch(M){P.e(M)}finally{P.f()}}}}}}},{key:"_fetchResources",value:function(e,t,r){var n,a,i=[],l=this._tile.getWorkerTileHandler();for(var s in e.length>0&&(n=l.fetchSprites(e,this._client,r),i.push(n)),t){var o=t[s];o.size>0&&(a=l.fetchGlyphs(this._tile.tileKey,s,o,this._client,r),i.push(a))}return i}},{key:"_processFeatures",value:function(e){var t,r=this,a=e.filter((function(e){return e.hasFeatures()||r._canParseStyleLayer(e.layer.uid)})),i=(0,n.Z)(a);try{for(i.s();!(t=i.n()).done;){var l=t.value;l.processFeatures(l.tileClipper)}}catch(s){i.e(s)}finally{i.f()}return a}},{key:"_parseTileData",value:function(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){for(var a=n[r],i=e[a],l={};i.next();)if(3===i.tag()){var s=i.getMessage(),o=new S(s);s.release(),l[o.name]=o}else i.skip();t[a]=l}return t}},{key:"_createBucket",value:function(e){switch(e.type){case b.fR.BACKGROUND:return null;case b.fR.FILL:return this._createFillBucket(e);case b.fR.LINE:return this._createLineBucket(e);case b.fR.CIRCLE:return this._createCircleBucket(e);case b.fR.SYMBOL:return this._createSymbolBucket(e)}}},{key:"_createFillBucket",value:function(e){return new q(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new F(e.fillMaterial.getStride()),new C,new U(e.outlineMaterial.getStride()),new C)}},{key:"_createLineBucket",value:function(e){return new J(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new N(e.lineMaterial.getStride()),new C)}},{key:"_createCircleBucket",value:function(e){return new K(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new G(e.circleMaterial.getStride()),new C)}},{key:"_createSymbolBucket",value:function(e){var t=this._tile;return new ne(e,this._level,new z(e.iconMaterial.getStride()),new C,new z(e.textMaterial.getStride()),new C,t.placementEngine,t.getWorkerTileHandler())}}]),e}(),se=function(){function e(t,r,n,a){(0,l.Z)(this,e),this.status=ae.INITIALIZED,this.placementEngine=new L,this.tileKey=t,this.refKeys=r,this._workerTileHandler=n,this._styleRepository=a}return(0,s.Z)(e,[{key:"release",value:function(){this.tileKey="",this.refKeys=null,this.status=ae.INITIALIZED,this._workerTileHandler=null}},{key:"parse",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var i,l,s,u,c,y,d,v,p,x,m,g,_=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r&&r.signal,(0,f.pC)(i)&&(l=function e(){i.removeEventListener("abort",e),_.status=ae.INVALID},i.addEventListener("abort",l)),u={bucketsWithData:[],emptyBuckets:null},e.prev=3,e.next=6,this._parse(t,r);case 6:s=e.sent,e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),!(0,o.D_)(e.t0)){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",{result:u,transferList:[]});case 14:this.status=ae.READY,c=u.bucketsWithData,y=[],d=(0,n.Z)(s);try{for(d.s();!(v=d.n()).done;)(p=v.value).hasFeatures()?(x=p.serialize(),c.push(x)):y.push(p.layer.uid)}catch(a){d.e(a)}finally{d.f()}return m=(0,h.Z)(c),g=null,e.abrupt("return",(y.length>0&&(g=Uint32Array.from(y),m.push(g.buffer)),u.emptyBuckets=g,{result:u,transferList:m}));case 21:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setObsolete",value:function(){this.status=ae.INVALID}},{key:"getLayers",value:function(){return this._workerTileHandler.getLayers()}},{key:"getWorkerTileHandler",value:function(){return this._workerTileHandler}},{key:"_parse",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sourceName2DataAndRefKey,0!==Object.keys(n).length){e.next=3;break}return e.abrupt("return",[]);case 3:return this.status=ae.MODIFIED,e.abrupt("return",new le(n,this,r.client,this._styleRepository,t.styleLayerUIDs).parse(r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),oe=r(30969),ue=function(){function e(){(0,l.Z)(this,e),this._spriteInfo={},this._glyphInfo={}}return(0,s.Z)(e,[{key:"reset",value:function(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}},{key:"getLayers",value:function(){var e;return null===(e=this._styleRepository)||void 0===e?void 0:e.layers}},{key:"createTileAndParse",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var n,i,l,s,u,h,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.key,i={},l=0,s=Object.keys(t.sourceName2DataAndRefKey);l<s.length;l++)u=s[l],h=t.sourceName2DataAndRefKey[u],i[u]=h.refKey;return f=new se(n,i,this,this._styleRepository),e.prev=3,e.next=6,f.parse(t,r);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),f.setObsolete(),f.release(),(0,o.D_)(e.t0)){e.next=13;break}throw e.t0;case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateStyle",value:function(e){if(e&&0!==e.length&&this._styleRepository){var t,r=this._styleRepository,a=(0,n.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,l=i.type,s=i.data;switch(l){case u.Fr.PAINTER_CHANGED:r.setPaintProperties(s.layer,s.paint);break;case u.Fr.LAYOUT_CHANGED:r.setLayoutProperties(s.layer,s.layout);break;case u.Fr.LAYER_REMOVED:r.deleteStyleLayer(s.layer);break;case u.Fr.LAYER_CHANGED:r.setStyleLayer(s.layer,s.index);break;case u.Fr.SPRITES_CHANGED:this._spriteInfo={}}}}catch(o){a.e(o)}finally{a.f()}}}},{key:"setStyle",value:function(e){this._styleRepository=new oe.Z(e),this._spriteInfo={},this._glyphInfo={}}},{key:"fetchSprites",value:function(e,t,r){var a,i=[],l=this._spriteInfo,s=(0,n.Z)(e);try{for(s.s();!(a=s.n()).done;){var o=a.value;void 0===l[o.name]&&i.push(o)}}catch(u){s.e(u)}finally{s.f()}return 0===i.length?Promise.resolve():t.invoke("getSprites",i,{signal:r&&r.signal}).then((function(e){for(var t in e){var r=e[t];l[t]=r}}))}},{key:"getSpriteItems",value:function(){return this._spriteInfo}},{key:"fetchGlyphs",value:function(e,t,r,n,a){var i=[],l=this._glyphInfo[t];return l?r.forEach((function(e){l[e]||i.push(e)})):(l=this._glyphInfo[t]=[],r.forEach((function(e){return i.push(e)}))),0===i.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:t,codePoints:i},a).then((function(e){for(var t=0;t<e.length;t++)e[t]&&(l[t]=e[t])}))}},{key:"getGlyphItems",value:function(e){return this._glyphInfo[e]}}]),e}()},21391:function(e,t,r){r.d(t,{EE:function(){return a},R:function(){return i},_5:function(){return u},aF:function(){return l},f2:function(){return p},fD:function(){return h},fR:function(){return n},nR:function(){return o},r1:function(){return f},vL:function(){return s}});var n,a,i,l,s,o,u,h,f,c,y=r(43144),d=r(15671),v=r(48202);(c=n||(n={}))[c.BACKGROUND=0]="BACKGROUND",c[c.FILL=1]="FILL",c[c.LINE=2]="LINE",c[c.SYMBOL=3]="SYMBOL",c[c.CIRCLE=4]="CIRCLE",function(e){e[e.VISIBLE=0]="VISIBLE",e[e.NONE=1]="NONE"}(a||(a={})),function(e){e[e.POINT=0]="POINT",e[e.LINE=1]="LINE",e[e.LINE_CENTER=2]="LINE_CENTER"}(i||(i={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT",e[e.AUTO=2]="AUTO"}(l||(l={})),function(e){e[e.AUTO=0]="AUTO",e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=3]="RIGHT"}(s||(s={})),function(e){e[e.CENTER=0]="CENTER",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=4]="BOTTOM",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.TOP_RIGHT=6]="TOP_RIGHT",e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.UPPERCASE=1]="UPPERCASE",e[e.LOWERCASE=2]="LOWERCASE"}(u||(u={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT"}(h||(h={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(f||(f={}));var p=(0,y.Z)((function e(){(0,d.Z)(this,e)}));p.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},p.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},p.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:v.RL.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:v.AH.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},p.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:i.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:o.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:l.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:o.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:s.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:l.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:u.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[f.HORIZONTAL]}},p.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:a.VISIBLE}},p.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},p.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:h.MAP}},p.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:h.MAP},"line-width":{type:"number",minimum:0,default:1}},p.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:h.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:h.MAP}},p.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},p.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:h.MAP}}},13200:function(e,t,r){r.d(t,{Or:function(){return s},k3:function(){return u},s5:function(){return o},vX:function(){return h}});Number.POSITIVE_INFINITY;var n=Math.PI,a=128/n,i=1/Math.LN2;function l(e,t){return(e%=t)>=0?e:e+t}function s(e){return l(e*a,256)}function o(e){return l(.7111111111111111*e,256)}function u(e){return Math.log(e)*i}function h(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}},94109:function(e,t,r){r.d(t,{$0:function(){return l},AI:function(){return n},Al:function(){return y},By:function(){return g},C1:function(){return H},CQ:function(){return W},CU:function(){return S},D3:function(){return c},Ex:function(){return u},I_:function(){return i},Ic:function(){return d},Ij:function(){return x},Ip:function(){return z},Iv:function(){return J},Iw:function(){return h},Jw:function(){return k},MI:function(){return G},QU:function(){return b},SD:function(){return Q},Tz:function(){return j},Uh:function(){return K},V4:function(){return C},XJ:function(){return U},Xj:function(){return I},Zd:function(){return A},_5:function(){return P},_6:function(){return X},a:function(){return N},aK:function(){return L},dn:function(){return O},e0:function(){return Y},eF:function(){return f},eV:function(){return s},f2:function(){return m},fL:function(){return F},iJ:function(){return v},iV:function(){return R},jk:function(){return $},kF:function(){return T},lK:function(){return Z},m4:function(){return B},mx:function(){return _},nM:function(){return p},oK:function(){return q},pU:function(){return E},ru:function(){return a},tQ:function(){return V},uG:function(){return D},xl:function(){return M},xm:function(){return o},yP:function(){return w}});var n=1e-30,a=4294967295,i=512,l=8,s=10,o=29,u=24,h=8,f={metrics:{width:15,height:17,left:0,top:-7,advance:14}},c=0,y=0,d=0,v=1,p=2,x=3,m=4,g=5,_=6,I=12,b=5,k=6,T=5,w=6,P=0,M=1,E=2,L=3,Z=4,B=2,D=1,A=2,R=4,V=1.05,O=3,C=5,S=6,N=1.15,F=2,U=8,z=500,G=10,H=1024,K=2,W=0,j=1,q=4,Y=8,J=16,X=4,Q=1,$=4}}]);
//# sourceMappingURL=1945.1dff1351.chunk.js.map